"use strict";var Ck=Object.create;var au=Object.defineProperty;var _k=Object.getOwnPropertyDescriptor;var Ok=Object.getOwnPropertyNames;var wk=Object.getPrototypeOf,Rk=Object.prototype.hasOwnProperty;var Fk=(e,t,r)=>t in e?au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ss=(e,t)=>{for(var r in t)au(e,r,{get:t[r],enumerable:!0})},Ak=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ok(t))!Rk.call(e,n)&&n!==r&&au(e,n,{get:()=>t[n],enumerable:!(o=_k(t,n))||o.enumerable});return e};var Es=(e,t,r)=>(r=e!=null?Ck(wk(e)):{},Ak(t||!e||!e.__esModule?au(r,"default",{value:e,enumerable:!0}):r,e));var Gt=(e,t,r)=>(Fk(e,typeof t!="symbol"?t+"":t,r),r);var qv=L((hY,Lv)=>{"use strict";Lv.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var $f=L((dY,Hv)=>{"use strict";var K8=qv();Hv.exports=e=>typeof e=="string"?e.replace(K8(),""):e});var sb=L((gY,nb)=>{"use strict";var jv=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);nb.exports=jv;nb.exports.default=jv});var Uv=L((xY,Bv)=>{"use strict";Bv.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var Qi=L((yY,ib)=>{"use strict";var $8=$f(),G8=sb(),V8=Uv(),Wv=e=>{if(typeof e!="string"||e.length===0||(e=$8(e),e.length===0))return 0;e=e.replace(V8(),"  ");let t=0;for(let r=0;r<e.length;r++){let o=e.codePointAt(r);o<=31||o>=127&&o<=159||o>=768&&o<=879||(o>65535&&r++,t+=G8(o)?2:1)}return t};ib.exports=Wv;ib.exports.default=Wv});var $v=L((bY,Kv)=>{"use strict";var zv="[\uD800-\uDBFF][\uDC00-\uDFFF]",J8=e=>e&&e.exact?new RegExp(`^${zv}$`):new RegExp(zv,"g");Kv.exports=J8});var Vv=L((DY,Gv)=>{"use strict";Gv.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var ab=L((SY,Yv)=>{"use strict";var nu=Vv(),Jv={};for(let e of Object.keys(nu))Jv[nu[e]]=e;var M={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Yv.exports=M;for(let e of Object.keys(M)){if(!("channels"in M[e]))throw new Error("missing channels property: "+e);if(!("labels"in M[e]))throw new Error("missing channel labels property: "+e);if(M[e].labels.length!==M[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=M[e];delete M[e].channels,delete M[e].labels,Object.defineProperty(M[e],"channels",{value:t}),Object.defineProperty(M[e],"labels",{value:r})}M.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,o=e[2]/255,n=Math.min(t,r,o),s=Math.max(t,r,o),i=s-n,a,c;s===n?a=0:t===s?a=(r-o)/i:r===s?a=2+(o-t)/i:o===s&&(a=4+(t-r)/i),a=Math.min(a*60,360),a<0&&(a+=360);let l=(n+s)/2;return s===n?c=0:l<=.5?c=i/(s+n):c=i/(2-s-n),[a,c*100,l*100]};M.rgb.hsv=function(e){let t,r,o,n,s,i=e[0]/255,a=e[1]/255,c=e[2]/255,l=Math.max(i,a,c),p=l-Math.min(i,a,c),f=function(h){return(l-h)/6/p+1/2};return p===0?(n=0,s=0):(s=p/l,t=f(i),r=f(a),o=f(c),i===l?n=o-r:a===l?n=1/3+t-o:c===l&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[n*360,s*100,l*100]};M.rgb.hwb=function(e){let t=e[0],r=e[1],o=e[2],n=M.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,o));return o=1-1/255*Math.max(t,Math.max(r,o)),[n,s*100,o*100]};M.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,o=e[2]/255,n=Math.min(1-t,1-r,1-o),s=(1-t-n)/(1-n)||0,i=(1-r-n)/(1-n)||0,a=(1-o-n)/(1-n)||0;return[s*100,i*100,a*100,n*100]};function Y8(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}M.rgb.keyword=function(e){let t=Jv[e];if(t)return t;let r=1/0,o;for(let n of Object.keys(nu)){let s=nu[n],i=Y8(e,s);i<r&&(r=i,o=n)}return o};M.keyword.rgb=function(e){return nu[e]};M.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,o=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;let n=t*.4124+r*.3576+o*.1805,s=t*.2126+r*.7152+o*.0722,i=t*.0193+r*.1192+o*.9505;return[n*100,s*100,i*100]};M.rgb.lab=function(e){let t=M.rgb.xyz(e),r=t[0],o=t[1],n=t[2];r/=95.047,o/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let s=116*o-16,i=500*(r-o),a=200*(o-n);return[s,i,a]};M.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,o=e[2]/100,n,s,i;if(r===0)return i=o*255,[i,i,i];o<.5?n=o*(1+r):n=o+r-o*r;let a=2*o-n,c=[0,0,0];for(let l=0;l<3;l++)s=t+1/3*-(l-1),s<0&&s++,s>1&&s--,6*s<1?i=a+(n-a)*6*s:2*s<1?i=n:3*s<2?i=a+(n-a)*(2/3-s)*6:i=a,c[l]=i*255;return c};M.hsl.hsv=function(e){let t=e[0],r=e[1]/100,o=e[2]/100,n=r,s=Math.max(o,.01);o*=2,r*=o<=1?o:2-o,n*=s<=1?s:2-s;let i=(o+r)/2,a=o===0?2*n/(s+n):2*r/(o+r);return[t,a*100,i*100]};M.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,o=e[2]/100,n=Math.floor(t)%6,s=t-Math.floor(t),i=255*o*(1-r),a=255*o*(1-r*s),c=255*o*(1-r*(1-s));switch(o*=255,n){case 0:return[o,c,i];case 1:return[a,o,i];case 2:return[i,o,c];case 3:return[i,a,o];case 4:return[c,i,o];case 5:return[o,i,a]}};M.hsv.hsl=function(e){let t=e[0],r=e[1]/100,o=e[2]/100,n=Math.max(o,.01),s,i;i=(2-r)*o;let a=(2-r)*n;return s=r*n,s/=a<=1?a:2-a,s=s||0,i/=2,[t,s*100,i*100]};M.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,o=e[2]/100,n=r+o,s;n>1&&(r/=n,o/=n);let i=Math.floor(6*t),a=1-o;s=6*t-i,i&1&&(s=1-s);let c=r+s*(a-r),l,p,f;switch(i){default:case 6:case 0:l=a,p=c,f=r;break;case 1:l=c,p=a,f=r;break;case 2:l=r,p=a,f=c;break;case 3:l=r,p=c,f=a;break;case 4:l=c,p=r,f=a;break;case 5:l=a,p=r,f=c;break}return[l*255,p*255,f*255]};M.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,o=e[2]/100,n=e[3]/100,s=1-Math.min(1,t*(1-n)+n),i=1-Math.min(1,r*(1-n)+n),a=1-Math.min(1,o*(1-n)+n);return[s*255,i*255,a*255]};M.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,o=e[2]/100,n,s,i;return n=t*3.2406+r*-1.5372+o*-.4986,s=t*-.9689+r*1.8758+o*.0415,i=t*.0557+r*-.204+o*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,n=Math.min(Math.max(0,n),1),s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),[n*255,s*255,i*255]};M.xyz.lab=function(e){let t=e[0],r=e[1],o=e[2];t/=95.047,r/=100,o/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;let n=116*r-16,s=500*(t-r),i=200*(r-o);return[n,s,i]};M.lab.xyz=function(e){let t=e[0],r=e[1],o=e[2],n,s,i;s=(t+16)/116,n=r/500+s,i=s-o/200;let a=s**3,c=n**3,l=i**3;return s=a>.008856?a:(s-16/116)/7.787,n=c>.008856?c:(n-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,n*=95.047,s*=100,i*=108.883,[n,s,i]};M.lab.lch=function(e){let t=e[0],r=e[1],o=e[2],n;n=Math.atan2(o,r)*360/2/Math.PI,n<0&&(n+=360);let i=Math.sqrt(r*r+o*o);return[t,i,n]};M.lch.lab=function(e){let t=e[0],r=e[1],n=e[2]/360*2*Math.PI,s=r*Math.cos(n),i=r*Math.sin(n);return[t,s,i]};M.rgb.ansi16=function(e,t=null){let[r,o,n]=e,s=t===null?M.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let i=30+(Math.round(n/255)<<2|Math.round(o/255)<<1|Math.round(r/255));return s===2&&(i+=60),i};M.hsv.ansi16=function(e){return M.rgb.ansi16(M.hsv.rgb(e),e[2])};M.rgb.ansi256=function(e){let t=e[0],r=e[1],o=e[2];return t===r&&r===o?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(o/255*5)};M.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,o=(t&1)*r*255,n=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[o,n,s]};M.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,o=Math.floor((t=e%36)/6)/5*255,n=t%6/5*255;return[r,o,n]};M.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};M.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let o=parseInt(r,16),n=o>>16&255,s=o>>8&255,i=o&255;return[n,s,i]};M.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,o=e[2]/255,n=Math.max(Math.max(t,r),o),s=Math.min(Math.min(t,r),o),i=n-s,a,c;return i<1?a=s/(1-i):a=0,i<=0?c=0:n===t?c=(r-o)/i%6:n===r?c=2+(o-t)/i:c=4+(t-r)/i,c/=6,c%=1,[c*360,i*100,a*100]};M.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,o=r<.5?2*t*r:2*t*(1-r),n=0;return o<1&&(n=(r-.5*o)/(1-o)),[e[0],o*100,n*100]};M.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,o=t*r,n=0;return o<1&&(n=(r-o)/(1-o)),[e[0],o*100,n*100]};M.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,o=e[2]/100;if(r===0)return[o*255,o*255,o*255];let n=[0,0,0],s=t%1*6,i=s%1,a=1-i,c=0;switch(Math.floor(s)){case 0:n[0]=1,n[1]=i,n[2]=0;break;case 1:n[0]=a,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=i;break;case 3:n[0]=0,n[1]=a,n[2]=1;break;case 4:n[0]=i,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=a}return c=(1-r)*o,[(r*n[0]+c)*255,(r*n[1]+c)*255,(r*n[2]+c)*255]};M.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,o=t+r*(1-t),n=0;return o>0&&(n=t/o),[e[0],n*100,o*100]};M.hcg.hsl=function(e){let t=e[1]/100,o=e[2]/100*(1-t)+.5*t,n=0;return o>0&&o<.5?n=t/(2*o):o>=.5&&o<1&&(n=t/(2*(1-o))),[e[0],n*100,o*100]};M.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,o=t+r*(1-t);return[e[0],(o-t)*100,(1-o)*100]};M.hwb.hcg=function(e){let t=e[1]/100,o=1-e[2]/100,n=o-t,s=0;return n<1&&(s=(o-n)/(1-n)),[e[0],n*100,s*100]};M.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};M.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};M.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};M.gray.hsl=function(e){return[0,0,e[0]]};M.gray.hsv=M.gray.hsl;M.gray.hwb=function(e){return[0,100,e[0]]};M.gray.cmyk=function(e){return[0,0,0,e[0]]};M.gray.lab=function(e){return[e[0],0,0]};M.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,o=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(o.length)+o};M.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var Qv=L((EY,Zv)=>{"use strict";var Gf=ab();function Z8(){let e={},t=Object.keys(Gf);for(let r=t.length,o=0;o<r;o++)e[t[o]]={distance:-1,parent:null};return e}function Q8(e){let t=Z8(),r=[e];for(t[e].distance=0;r.length;){let o=r.pop(),n=Object.keys(Gf[o]);for(let s=n.length,i=0;i<s;i++){let a=n[i],c=t[a];c.distance===-1&&(c.distance=t[o].distance+1,c.parent=o,r.unshift(a))}}return t}function X8(e,t){return function(r){return t(e(r))}}function eU(e,t){let r=[t[e].parent,e],o=Gf[t[e].parent][e],n=t[e].parent;for(;t[n].parent;)r.unshift(t[n].parent),o=X8(Gf[t[n].parent][n],o),n=t[n].parent;return o.conversion=r,o}Zv.exports=function(e){let t=Q8(e),r={},o=Object.keys(t);for(let n=o.length,s=0;s<n;s++){let i=o[s];t[i].parent!==null&&(r[i]=eU(i,t))}return r}});var eM=L((CY,Xv)=>{"use strict";var cb=ab(),tU=Qv(),Xi={},rU=Object.keys(cb);function oU(e){let t=function(...r){let o=r[0];return o==null?o:(o.length>1&&(r=o),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function nU(e){let t=function(...r){let o=r[0];if(o==null)return o;o.length>1&&(r=o);let n=e(r);if(typeof n=="object")for(let s=n.length,i=0;i<s;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}rU.forEach(e=>{Xi[e]={},Object.defineProperty(Xi[e],"channels",{value:cb[e].channels}),Object.defineProperty(Xi[e],"labels",{value:cb[e].labels});let t=tU(e);Object.keys(t).forEach(o=>{let n=t[o];Xi[e][o]=nU(n),Xi[e][o].raw=oU(n)})});Xv.exports=Xi});var iM=L((_Y,sM)=>{"use strict";var tM=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,rM=(e,t)=>(...r)=>{let o=e(...r);return`\x1B[${38+t};5;${o}m`},oM=(e,t)=>(...r)=>{let o=e(...r);return`\x1B[${38+t};2;${o[0]};${o[1]};${o[2]}m`},Vf=e=>e,nM=(e,t,r)=>[e,t,r],ea=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let o=r();return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0}),o},enumerable:!0,configurable:!0})},ub,ta=(e,t,r,o)=>{ub===void 0&&(ub=eM());let n=o?10:0,s={};for(let[i,a]of Object.entries(ub)){let c=i==="ansi16"?"ansi":i;i===t?s[c]=e(r,n):typeof a=="object"&&(s[c]=e(a[t],n))}return s};function sU(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,o]of Object.entries(t)){for(let[n,s]of Object.entries(o))t[n]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},o[n]=t[n],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:o,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",ea(t.color,"ansi",()=>ta(tM,"ansi16",Vf,!1)),ea(t.color,"ansi256",()=>ta(rM,"ansi256",Vf,!1)),ea(t.color,"ansi16m",()=>ta(oM,"rgb",nM,!1)),ea(t.bgColor,"ansi",()=>ta(tM,"ansi16",Vf,!0)),ea(t.bgColor,"ansi256",()=>ta(rM,"ansi256",Vf,!0)),ea(t.bgColor,"ansi16m",()=>ta(oM,"rgb",nM,!0)),t}Object.defineProperty(sM,"exports",{enumerable:!0,get:sU})});var Yf=L((OY,lM)=>{"use strict";var iU=sb(),aU=$v(),aM=iM(),uM=["\x1B","\x9B"],Jf=e=>`${uM[0]}[${e}m`,cM=(e,t,r)=>{let o=[];e=[...e];for(let n of e){let s=n;n.includes(";")&&(n=n.split(";")[0][0]+"0");let i=aM.codes.get(Number.parseInt(n,10));if(i){let a=e.indexOf(i.toString());a===-1?o.push(Jf(t?i:s)):e.splice(a,1)}else if(t){o.push(Jf(0));break}else o.push(Jf(s))}if(t&&(o=o.filter((n,s)=>o.indexOf(n)===s),r!==void 0)){let n=Jf(aM.codes.get(Number.parseInt(r,10)));o=o.reduce((s,i)=>i===n?[i,...s]:[...s,i],[])}return o.join("")};lM.exports=(e,t,r)=>{let o=[...e],n=[],s=typeof r=="number"?r:o.length,i=!1,a,c=0,l="";for(let[p,f]of o.entries()){let h=!1;if(uM.includes(f)){let d=/\d[^m]*/.exec(e.slice(p,p+18));a=d&&d.length>0?d[0]:void 0,c<s&&(i=!0,a!==void 0&&n.push(a))}else i&&f==="m"&&(i=!1,h=!0);if(!i&&!h&&c++,!aU({exact:!0}).test(f)&&iU(f.codePointAt())&&(c++,typeof r!="number"&&s++),c>t&&c<=s)l+=f;else if(c===t&&!i&&a!==void 0)l=cM(n);else if(c>=s){l+=cM(n,!0,a);break}}return l}});var lb=L(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.getBorderCharacters=void 0;var cU=e=>{if(e==="honeywell")return{topBody:"\u2550",topJoin:"\u2564",topLeft:"\u2554",topRight:"\u2557",bottomBody:"\u2550",bottomJoin:"\u2567",bottomLeft:"\u255A",bottomRight:"\u255D",bodyLeft:"\u2551",bodyRight:"\u2551",bodyJoin:"\u2502",headerJoin:"\u252C",joinBody:"\u2500",joinLeft:"\u255F",joinRight:"\u2562",joinJoin:"\u253C",joinMiddleDown:"\u252C",joinMiddleUp:"\u2534",joinMiddleLeft:"\u2524",joinMiddleRight:"\u251C"};if(e==="norc")return{topBody:"\u2500",topJoin:"\u252C",topLeft:"\u250C",topRight:"\u2510",bottomBody:"\u2500",bottomJoin:"\u2534",bottomLeft:"\u2514",bottomRight:"\u2518",bodyLeft:"\u2502",bodyRight:"\u2502",bodyJoin:"\u2502",headerJoin:"\u252C",joinBody:"\u2500",joinLeft:"\u251C",joinRight:"\u2524",joinJoin:"\u253C",joinMiddleDown:"\u252C",joinMiddleUp:"\u2534",joinMiddleLeft:"\u2524",joinMiddleRight:"\u251C"};if(e==="ramac")return{topBody:"-",topJoin:"+",topLeft:"+",topRight:"+",bottomBody:"-",bottomJoin:"+",bottomLeft:"+",bottomRight:"+",bodyLeft:"|",bodyRight:"|",bodyJoin:"|",headerJoin:"+",joinBody:"-",joinLeft:"|",joinRight:"|",joinJoin:"|",joinMiddleDown:"+",joinMiddleUp:"+",joinMiddleLeft:"+",joinMiddleRight:"+"};if(e==="void")return{topBody:"",topJoin:"",topLeft:"",topRight:"",bottomBody:"",bottomJoin:"",bottomLeft:"",bottomRight:"",bodyLeft:"",bodyRight:"",bodyJoin:"",headerJoin:"",joinBody:"",joinLeft:"",joinRight:"",joinJoin:"",joinMiddleDown:"",joinMiddleUp:"",joinMiddleLeft:"",joinMiddleRight:""};throw new Error('Unknown border template "'+e+'".')};Zf.getBorderCharacters=cU});var ze=L(G=>{"use strict";var pb=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G,"__esModule",{value:!0});G.isCellInRange=G.areCellEqual=G.calculateRangeCoordinate=G.findOriginalRowIndex=G.flatten=G.extractTruncates=G.sumArray=G.sequence=G.distributeUnevenly=G.countSpaceSequence=G.groupBySizes=G.makeBorderConfig=G.splitAnsi=G.normalizeString=void 0;var uU=pb(Yf()),lU=pb(Qi()),pU=pb($f()),fU=lb(),mU=e=>e.replace(/\r\n/g,`
`);G.normalizeString=mU;var hU=e=>{let t=(0,pU.default)(e).split(`
`).map(lU.default),r=[],o=0;return t.forEach(n=>{r.push(n===0?"":(0,uU.default)(e,o,o+n)),o+=n+1}),r};G.splitAnsi=hU;var dU=e=>({...(0,fU.getBorderCharacters)("honeywell"),...e});G.makeBorderConfig=dU;var gU=(e,t)=>{let r=0;return t.map(o=>{let n=e.slice(r,r+o);return r+=o,n})};G.groupBySizes=gU;var xU=e=>{var t,r;return(r=(t=e.match(/\s+/g))===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0};G.countSpaceSequence=xU;var yU=(e,t)=>Array.from({length:t}).fill(Math.floor(e/t)).map((o,n)=>o+(n<e%t?1:0));G.distributeUnevenly=yU;var bU=(e,t)=>Array.from({length:t-e+1},(r,o)=>o+e);G.sequence=bU;var DU=e=>e.reduce((t,r)=>t+r,0);G.sumArray=DU;var SU=e=>e.columns.map(({truncate:t})=>t);G.extractTruncates=SU;var EU=e=>[].concat(...e);G.flatten=EU;var CU=(e,t)=>(0,G.flatten)(e.map((o,n)=>Array.from({length:o},()=>n)))[t];G.findOriginalRowIndex=CU;var _U=e=>{let{row:t,col:r,colSpan:o=1,rowSpan:n=1}=e;return{bottomRight:{col:r+o-1,row:t+n-1},topLeft:{col:r,row:t}}};G.calculateRangeCoordinate=_U;var OU=(e,t)=>e.row===t.row&&e.col===t.col;G.areCellEqual=OU;var wU=(e,{topLeft:t,bottomRight:r})=>t.row<=e.row&&e.row<=r.row&&t.col<=e.col&&e.col<=r.col;G.isCellInRange=wU});var mb=L(ra=>{"use strict";var RU=ra&&ra.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});ra.alignString=void 0;var FU=RU(Qi()),pM=ze(),fb=(e,t)=>e+" ".repeat(t),AU=(e,t)=>" ".repeat(t)+e,vU=(e,t)=>" ".repeat(Math.floor(t/2))+e+" ".repeat(Math.ceil(t/2)),MU=(e,t)=>{let r=(0,pM.countSpaceSequence)(e);if(r===0)return fb(e,t);let o=(0,pM.distributeUnevenly)(t,r);if(Math.max(...o)>3)return fb(e,t);let n=0;return e.replace(/\s+/g,s=>s+" ".repeat(o[n++]))},kU=(e,t,r)=>{let o=(0,FU.default)(e);if(o===t)return e;if(o>t)throw new Error("Subject parameter value width cannot be greater than the container width.");if(o===0)return" ".repeat(t);let n=t-o;return r==="left"?fb(e,n):r==="right"?AU(e,n):r==="justify"?MU(e,n):vU(e,n)};ra.alignString=kU});var hb=L(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.alignTableData=void 0;var TU=mb(),IU=(e,t)=>e.map((r,o)=>r.map((n,s)=>{var i;let{width:a,alignment:c}=t.columns[s];return((i=t.spanningCellManager)===null||i===void 0?void 0:i.getContainingRange({col:s,row:o},{mapped:!0}))?n:(0,TU.alignString)(n,a,c)}));Qf.alignTableData=IU});var hM=L(oa=>{"use strict";var mM=oa&&oa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});oa.wrapString=void 0;var fM=mM(Yf()),PU=mM(Qi()),NU=(e,t)=>{let r=e,o=[];do o.push((0,fM.default)(r,0,t)),r=(0,fM.default)(r,t).trim();while((0,PU.default)(r));return o};oa.wrapString=NU});var gM=L(na=>{"use strict";var dM=na&&na.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(na,"__esModule",{value:!0});na.wrapWord=void 0;var LU=dM(Yf()),qU=dM($f()),HU=(e,t)=>{let r=(0,qU.default)(e),o=[],n=new RegExp("(^.{1,"+String(Math.max(t,1))+"}(\\s+|$))|(^.{1,"+String(Math.max(t-1,1))+"}(\\\\|/|_|\\.|,|;|-))");do{let s,i=n.exec(r);if(i){s=i[0],r=r.slice(s.length);let a=s.trim().length,c=s.length-a;o.push([a,c])}else s=r.slice(0,t),r=r.slice(t),o.push([s.length,0])}while(r.length);return o},jU=(e,t)=>{let r=[],o=0;return HU(e,t).forEach(([n,s])=>{r.push((0,LU.default)(e,o,o+n)),o+=n+s}),r};na.wrapWord=jU});var em=L(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.wrapCell=void 0;var BU=ze(),UU=hM(),WU=gM(),zU=(e,t,r)=>{let o=(0,BU.splitAnsi)(e);for(let n=0;n<o.length;){let s;r?s=(0,WU.wrapWord)(o[n],t):s=(0,UU.wrapString)(o[n],t),o.splice(n,1,...s),n+=s.length}return o};Xf.wrapCell=zU});var xM=L(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.calculateCellHeight=void 0;var KU=em(),$U=(e,t,r=!1)=>(0,KU.wrapCell)(e,t,r).length;tm.calculateCellHeight=$U});var db=L(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.calculateRowHeights=void 0;var GU=xM(),yM=ze(),VU=(e,t)=>{let r=[];for(let[o,n]of e.entries()){let s=1;n.forEach((i,a)=>{var c;let l=(c=t.spanningCellManager)===null||c===void 0?void 0:c.getContainingRange({col:a,row:o});if(!l){let d=(0,GU.calculateCellHeight)(i,t.columns[a].width,t.columns[a].wrapWord);s=Math.max(s,d);return}let{topLeft:p,bottomRight:f,height:h}=l;if(o===f.row){let d=(0,yM.sumArray)(r.slice(p.row)),S=f.row-p.row,w=(0,yM.sequence)(p.row+1,f.row).filter(T=>{var B;return!(!((B=t.drawHorizontalLine)===null||B===void 0)&&B.call(t,T,e.length))}).length,A=h-d-S+w;s=Math.max(s,A)}}),r.push(s)}return r};rm.calculateRowHeights=VU});var nm=L(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.drawContent=void 0;var JU=e=>{let{contents:t,separatorGetter:r,drawSeparator:o,spanningCellManager:n,rowIndex:s,elementType:i}=e,a=t.length,c=[];return o(0,a)&&c.push(r(0,a)),t.forEach((l,p)=>{if((!i||i==="border"||i==="row")&&c.push(l),i==="cell"&&s===void 0&&c.push(l),i==="cell"&&s!==void 0){let f=n?.getContainingRange({col:p,row:s});(!f||p===f.topLeft.col)&&c.push(l)}if(p+1<a&&o(p+1,a)){let f=r(p+1,a);if(i==="cell"&&s!==void 0){let h={col:p+1,row:s},d=n?.getContainingRange(h);(!d||d.topLeft.col===h.col)&&c.push(f)}else c.push(f)}}),o(a,a)&&c.push(r(a,a)),c.join("")};om.drawContent=JU});var gb=L(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.createTableBorderGetter=me.drawBorderBottom=me.drawBorderJoin=me.drawBorderTop=me.drawBorder=me.createSeparatorGetter=me.drawBorderSegments=void 0;var YU=nm(),ZU=(e,t)=>{let{separator:r,horizontalBorderIndex:o,spanningCellManager:n}=t;return e.map((s,i)=>{let a=r.body.repeat(s);if(o===void 0)return a;let c=n?.getContainingRange({col:i,row:o});if(!c)return a;let{topLeft:l}=c;return o===l.row?a:i!==l.col?"":c.extractBorderContent(o)})};me.drawBorderSegments=ZU;var QU=e=>{let{separator:t,spanningCellManager:r,horizontalBorderIndex:o,rowCount:n}=e;return(s,i)=>{let a=r?.inSameRange;if(o!==void 0&&a){let c={col:s,row:o-1},l={col:s-1,row:o},p={col:s-1,row:o-1},f={col:s,row:o},h=[[p,c],[c,f],[f,l],[l,p]];if(s===0)return a(f,c)&&t.bodyJoinOuter?t.bodyJoinOuter:t.left;if(s===i)return a(p,l)&&t.bodyJoinOuter?t.bodyJoinOuter:t.right;if(o===0)return a(f,l)?t.body:t.join;if(o===n)return a(c,p)?t.body:t.join;let d=h.map(S=>a(...S)).filter(Boolean).length;if(d===0)return t.join;if(d===4)return"";if(d===2)return a(...h[1])&&a(...h[3])&&t.bodyJoinInner?t.bodyJoinInner:t.body;if(d===1){if(!t.joinRight||!t.joinLeft||!t.joinUp||!t.joinDown)throw new Error(`Can not get border separator for position [${o}, ${s}]`);return a(...h[0])?t.joinDown:a(...h[1])?t.joinLeft:a(...h[2])?t.joinUp:t.joinRight}throw new Error("Invalid case")}return s===0?t.left:s===i?t.right:t.join}};me.createSeparatorGetter=QU;var XU=(e,t)=>{let r=(0,me.drawBorderSegments)(e,t),{drawVerticalLine:o,horizontalBorderIndex:n,spanningCellManager:s}=t;return(0,YU.drawContent)({contents:r,drawSeparator:o,elementType:"border",rowIndex:n,separatorGetter:(0,me.createSeparatorGetter)(t),spanningCellManager:s})+`
`};me.drawBorder=XU;var eW=(e,t)=>{let{border:r}=t,o=(0,me.drawBorder)(e,{...t,separator:{body:r.topBody,join:r.topJoin,left:r.topLeft,right:r.topRight}});return o===`
`?"":o};me.drawBorderTop=eW;var tW=(e,t)=>{let{border:r}=t;return(0,me.drawBorder)(e,{...t,separator:{body:r.joinBody,bodyJoinInner:r.bodyJoin,bodyJoinOuter:r.bodyLeft,join:r.joinJoin,joinDown:r.joinMiddleDown,joinLeft:r.joinMiddleLeft,joinRight:r.joinMiddleRight,joinUp:r.joinMiddleUp,left:r.joinLeft,right:r.joinRight}})};me.drawBorderJoin=tW;var rW=(e,t)=>{let{border:r}=t;return(0,me.drawBorder)(e,{...t,separator:{body:r.bottomBody,join:r.bottomJoin,left:r.bottomLeft,right:r.bottomRight}})};me.drawBorderBottom=rW;var oW=(e,t)=>(r,o)=>{let n={...t,horizontalBorderIndex:r};return r===0?(0,me.drawBorderTop)(e,n):r===o?(0,me.drawBorderBottom)(e,n):(0,me.drawBorderJoin)(e,n)};me.createTableBorderGetter=oW});var xb=L(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.drawRow=void 0;var nW=nm(),sW=(e,t)=>{let{border:r,drawVerticalLine:o,rowIndex:n,spanningCellManager:s}=t;return(0,nW.drawContent)({contents:e,drawSeparator:o,elementType:"cell",rowIndex:n,separatorGetter:(i,a)=>i===0?r.bodyLeft:i===a?r.bodyRight:r.bodyJoin,spanningCellManager:s})+`
`};sm.drawRow=sW});var DM=L((qY,bM)=>{"use strict";bM.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var o,n,s;if(Array.isArray(t)){if(o=t.length,o!=r.length)return!1;for(n=o;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),o=s.length,o!==Object.keys(r).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=o;n--!==0;){var i=s[n];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}});var EM=L(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});var SM=DM();SM.code='require("ajv/dist/runtime/equal").default';yb.default=SM});var FM=L(Db=>{"use strict";Db["config.json"]=wM;var iW={$id:"config.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{border:{$ref:"shared.json#/definitions/borders"},header:{type:"object",properties:{content:{type:"string"},alignment:{$ref:"shared.json#/definitions/alignment"},wrapWord:{type:"boolean"},truncate:{type:"integer"},paddingLeft:{type:"integer"},paddingRight:{type:"integer"}},required:["content"],additionalProperties:!1},columns:{$ref:"shared.json#/definitions/columns"},columnDefault:{$ref:"shared.json#/definitions/column"},drawVerticalLine:{typeof:"function"},drawHorizontalLine:{typeof:"function"},singleLine:{typeof:"boolean"},spanningCells:{type:"array",items:{type:"object",properties:{col:{type:"integer",minimum:0},row:{type:"integer",minimum:0},colSpan:{type:"integer",minimum:1},rowSpan:{type:"integer",minimum:1},alignment:{$ref:"shared.json#/definitions/alignment"},verticalAlignment:{$ref:"shared.json#/definitions/verticalAlignment"},wrapWord:{type:"boolean"},truncate:{type:"integer"},paddingLeft:{type:"integer"},paddingRight:{type:"integer"}},required:["row","col"],additionalProperties:!1}}},additionalProperties:!1},CM={type:"object",properties:{topBody:{$ref:"#/definitions/border"},topJoin:{$ref:"#/definitions/border"},topLeft:{$ref:"#/definitions/border"},topRight:{$ref:"#/definitions/border"},bottomBody:{$ref:"#/definitions/border"},bottomJoin:{$ref:"#/definitions/border"},bottomLeft:{$ref:"#/definitions/border"},bottomRight:{$ref:"#/definitions/border"},bodyLeft:{$ref:"#/definitions/border"},bodyRight:{$ref:"#/definitions/border"},bodyJoin:{$ref:"#/definitions/border"},headerJoin:{$ref:"#/definitions/border"},joinBody:{$ref:"#/definitions/border"},joinLeft:{$ref:"#/definitions/border"},joinRight:{$ref:"#/definitions/border"},joinJoin:{$ref:"#/definitions/border"},joinMiddleUp:{$ref:"#/definitions/border"},joinMiddleDown:{$ref:"#/definitions/border"},joinMiddleLeft:{$ref:"#/definitions/border"},joinMiddleRight:{$ref:"#/definitions/border"}},additionalProperties:!1},bb=Object.prototype.hasOwnProperty;function b(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(typeof e!="string"){let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[a]:s.push(a),i++}return b.errors=s,i===0}function im(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let a in e)if(!bb.call(CM.properties,a)){let c={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"};s===null?s=[c]:s.push(c),i++}e.topBody!==void 0&&(b(e.topBody,{instancePath:t+"/topBody",parentData:e,parentDataProperty:"topBody",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.topJoin!==void 0&&(b(e.topJoin,{instancePath:t+"/topJoin",parentData:e,parentDataProperty:"topJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.topLeft!==void 0&&(b(e.topLeft,{instancePath:t+"/topLeft",parentData:e,parentDataProperty:"topLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.topRight!==void 0&&(b(e.topRight,{instancePath:t+"/topRight",parentData:e,parentDataProperty:"topRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomBody!==void 0&&(b(e.bottomBody,{instancePath:t+"/bottomBody",parentData:e,parentDataProperty:"bottomBody",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomJoin!==void 0&&(b(e.bottomJoin,{instancePath:t+"/bottomJoin",parentData:e,parentDataProperty:"bottomJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomLeft!==void 0&&(b(e.bottomLeft,{instancePath:t+"/bottomLeft",parentData:e,parentDataProperty:"bottomLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomRight!==void 0&&(b(e.bottomRight,{instancePath:t+"/bottomRight",parentData:e,parentDataProperty:"bottomRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bodyLeft!==void 0&&(b(e.bodyLeft,{instancePath:t+"/bodyLeft",parentData:e,parentDataProperty:"bodyLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bodyRight!==void 0&&(b(e.bodyRight,{instancePath:t+"/bodyRight",parentData:e,parentDataProperty:"bodyRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bodyJoin!==void 0&&(b(e.bodyJoin,{instancePath:t+"/bodyJoin",parentData:e,parentDataProperty:"bodyJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.headerJoin!==void 0&&(b(e.headerJoin,{instancePath:t+"/headerJoin",parentData:e,parentDataProperty:"headerJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinBody!==void 0&&(b(e.joinBody,{instancePath:t+"/joinBody",parentData:e,parentDataProperty:"joinBody",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinLeft!==void 0&&(b(e.joinLeft,{instancePath:t+"/joinLeft",parentData:e,parentDataProperty:"joinLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinRight!==void 0&&(b(e.joinRight,{instancePath:t+"/joinRight",parentData:e,parentDataProperty:"joinRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinJoin!==void 0&&(b(e.joinJoin,{instancePath:t+"/joinJoin",parentData:e,parentDataProperty:"joinJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleUp!==void 0&&(b(e.joinMiddleUp,{instancePath:t+"/joinMiddleUp",parentData:e,parentDataProperty:"joinMiddleUp",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleDown!==void 0&&(b(e.joinMiddleDown,{instancePath:t+"/joinMiddleDown",parentData:e,parentDataProperty:"joinMiddleDown",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleLeft!==void 0&&(b(e.joinMiddleLeft,{instancePath:t+"/joinMiddleLeft",parentData:e,parentDataProperty:"joinMiddleLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleRight!==void 0&&(b(e.joinMiddleRight,{instancePath:t+"/joinMiddleRight",parentData:e,parentDataProperty:"joinMiddleRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length))}else{let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),i++}return im.errors=s,i===0}var _M={type:"string",enum:["left","right","center","justify"]},jY=EM().default;function ys(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(typeof e!="string"){let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[a]:s.push(a),i++}if(!(e==="left"||e==="right"||e==="center"||e==="justify")){let a={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:_M.enum},message:"must be equal to one of the allowed values"};s===null?s=[a]:s.push(a),i++}return ys.errors=s,i===0}var mm=new RegExp("^[0-9]+$","u");function co(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(typeof e!="string"){let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[a]:s.push(a),i++}if(!(e==="left"||e==="right"||e==="center"||e==="justify")){let a={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:_M.enum},message:"must be equal to one of the allowed values"};s===null?s=[a]:s.push(a),i++}return co.errors=s,i===0}var OM={type:"string",enum:["top","middle","bottom"]};function uo(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(typeof e!="string"){let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[a]:s.push(a),i++}if(!(e==="top"||e==="middle"||e==="bottom")){let a={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:OM.enum},message:"must be equal to one of the allowed values"};s===null?s=[a]:s.push(a),i++}return uo.errors=s,i===0}function Kt(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let a in e)if(!(a==="alignment"||a==="verticalAlignment"||a==="width"||a==="wrapWord"||a==="truncate"||a==="paddingLeft"||a==="paddingRight")){let c={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"};s===null?s=[c]:s.push(c),i++}if(e.alignment!==void 0&&(co(e.alignment,{instancePath:t+"/alignment",parentData:e,parentDataProperty:"alignment",rootData:n})||(s=s===null?co.errors:s.concat(co.errors),i=s.length)),e.verticalAlignment!==void 0&&(uo(e.verticalAlignment,{instancePath:t+"/verticalAlignment",parentData:e,parentDataProperty:"verticalAlignment",rootData:n})||(s=s===null?uo.errors:s.concat(uo.errors),i=s.length)),e.width!==void 0){let a=e.width;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/width",schemaPath:"#/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}if(typeof a=="number"&&isFinite(a)&&(a<1||isNaN(a))){let c={instancePath:t+"/width",schemaPath:"#/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};s===null?s=[c]:s.push(c),i++}}if(e.wrapWord!==void 0&&typeof e.wrapWord!="boolean"){let a={instancePath:t+"/wrapWord",schemaPath:"#/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[a]:s.push(a),i++}if(e.truncate!==void 0){let a=e.truncate;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/truncate",schemaPath:"#/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}if(e.paddingLeft!==void 0){let a=e.paddingLeft;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/paddingLeft",schemaPath:"#/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}if(e.paddingRight!==void 0){let a=e.paddingRight;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/paddingRight",schemaPath:"#/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}}else{let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),i++}return Kt.errors=s,i===0}function am(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0,a=i,c=!1,l=null,p=i;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let d in e)if(!mm.test(d)){let S={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"};s===null?s=[S]:s.push(S),i++}for(let d in e)mm.test(d)&&(Kt(e[d],{instancePath:t+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:e,parentDataProperty:d,rootData:n})||(s=s===null?Kt.errors:s.concat(Kt.errors),i=s.length))}else{let d={instancePath:t,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[d]:s.push(d),i++}var h=p===i;h&&(c=!0,l=0);let f=i;if(Array.isArray(e)){let d=e.length;for(let S=0;S<d;S++)Kt(e[S],{instancePath:t+"/"+S,parentData:e,parentDataProperty:S,rootData:n})||(s=s===null?Kt.errors:s.concat(Kt.errors),i=s.length)}else{let d={instancePath:t,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[d]:s.push(d),i++}var h=f===i;if(h&&c?(c=!1,l=[l,1]):h&&(c=!0,l=1),c)i=a,s!==null&&(a?s.length=a:s=null);else{let d={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};s===null?s=[d]:s.push(d),i++}return am.errors=s,i===0}function cm(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let a in e)if(!(a==="alignment"||a==="verticalAlignment"||a==="width"||a==="wrapWord"||a==="truncate"||a==="paddingLeft"||a==="paddingRight")){let c={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"};s===null?s=[c]:s.push(c),i++}if(e.alignment!==void 0&&(co(e.alignment,{instancePath:t+"/alignment",parentData:e,parentDataProperty:"alignment",rootData:n})||(s=s===null?co.errors:s.concat(co.errors),i=s.length)),e.verticalAlignment!==void 0&&(uo(e.verticalAlignment,{instancePath:t+"/verticalAlignment",parentData:e,parentDataProperty:"verticalAlignment",rootData:n})||(s=s===null?uo.errors:s.concat(uo.errors),i=s.length)),e.width!==void 0){let a=e.width;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/width",schemaPath:"#/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}if(typeof a=="number"&&isFinite(a)&&(a<1||isNaN(a))){let c={instancePath:t+"/width",schemaPath:"#/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};s===null?s=[c]:s.push(c),i++}}if(e.wrapWord!==void 0&&typeof e.wrapWord!="boolean"){let a={instancePath:t+"/wrapWord",schemaPath:"#/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[a]:s.push(a),i++}if(e.truncate!==void 0){let a=e.truncate;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/truncate",schemaPath:"#/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}if(e.paddingLeft!==void 0){let a=e.paddingLeft;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/paddingLeft",schemaPath:"#/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}if(e.paddingRight!==void 0){let a=e.paddingRight;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/paddingRight",schemaPath:"#/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}}else{let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),i++}return cm.errors=s,i===0}function um(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(typeof e!="string"){let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[a]:s.push(a),i++}if(!(e==="top"||e==="middle"||e==="bottom")){let a={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:OM.enum},message:"must be equal to one of the allowed values"};s===null?s=[a]:s.push(a),i++}return um.errors=s,i===0}function wM(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let a in e)if(!(a==="border"||a==="header"||a==="columns"||a==="columnDefault"||a==="drawVerticalLine"||a==="drawHorizontalLine"||a==="singleLine"||a==="spanningCells")){let c={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"};s===null?s=[c]:s.push(c),i++}if(e.border!==void 0&&(im(e.border,{instancePath:t+"/border",parentData:e,parentDataProperty:"border",rootData:n})||(s=s===null?im.errors:s.concat(im.errors),i=s.length)),e.header!==void 0){let a=e.header;if(a&&typeof a=="object"&&!Array.isArray(a)){if(a.content===void 0){let c={instancePath:t+"/header",schemaPath:"#/properties/header/required",keyword:"required",params:{missingProperty:"content"},message:"must have required property 'content'"};s===null?s=[c]:s.push(c),i++}for(let c in a)if(!(c==="content"||c==="alignment"||c==="wrapWord"||c==="truncate"||c==="paddingLeft"||c==="paddingRight")){let l={instancePath:t+"/header",schemaPath:"#/properties/header/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:c},message:"must NOT have additional properties"};s===null?s=[l]:s.push(l),i++}if(a.content!==void 0&&typeof a.content!="string"){let c={instancePath:t+"/header/content",schemaPath:"#/properties/header/properties/content/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[c]:s.push(c),i++}if(a.alignment!==void 0&&(ys(a.alignment,{instancePath:t+"/header/alignment",parentData:a,parentDataProperty:"alignment",rootData:n})||(s=s===null?ys.errors:s.concat(ys.errors),i=s.length)),a.wrapWord!==void 0&&typeof a.wrapWord!="boolean"){let c={instancePath:t+"/header/wrapWord",schemaPath:"#/properties/header/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[c]:s.push(c),i++}if(a.truncate!==void 0){let c=a.truncate;if(!(typeof c=="number"&&!(c%1)&&!isNaN(c)&&isFinite(c))){let l={instancePath:t+"/header/truncate",schemaPath:"#/properties/header/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[l]:s.push(l),i++}}if(a.paddingLeft!==void 0){let c=a.paddingLeft;if(!(typeof c=="number"&&!(c%1)&&!isNaN(c)&&isFinite(c))){let l={instancePath:t+"/header/paddingLeft",schemaPath:"#/properties/header/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[l]:s.push(l),i++}}if(a.paddingRight!==void 0){let c=a.paddingRight;if(!(typeof c=="number"&&!(c%1)&&!isNaN(c)&&isFinite(c))){let l={instancePath:t+"/header/paddingRight",schemaPath:"#/properties/header/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[l]:s.push(l),i++}}}else{let c={instancePath:t+"/header",schemaPath:"#/properties/header/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[c]:s.push(c),i++}}if(e.columns!==void 0&&(am(e.columns,{instancePath:t+"/columns",parentData:e,parentDataProperty:"columns",rootData:n})||(s=s===null?am.errors:s.concat(am.errors),i=s.length)),e.columnDefault!==void 0&&(cm(e.columnDefault,{instancePath:t+"/columnDefault",parentData:e,parentDataProperty:"columnDefault",rootData:n})||(s=s===null?cm.errors:s.concat(cm.errors),i=s.length)),e.drawVerticalLine!==void 0&&typeof e.drawVerticalLine!="function"){let a={instancePath:t+"/drawVerticalLine",schemaPath:"#/properties/drawVerticalLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};s===null?s=[a]:s.push(a),i++}if(e.drawHorizontalLine!==void 0&&typeof e.drawHorizontalLine!="function"){let a={instancePath:t+"/drawHorizontalLine",schemaPath:"#/properties/drawHorizontalLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};s===null?s=[a]:s.push(a),i++}if(e.singleLine!==void 0&&typeof e.singleLine!="boolean"){let a={instancePath:t+"/singleLine",schemaPath:"#/properties/singleLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};s===null?s=[a]:s.push(a),i++}if(e.spanningCells!==void 0){let a=e.spanningCells;if(Array.isArray(a)){let c=a.length;for(let l=0;l<c;l++){let p=a[l];if(p&&typeof p=="object"&&!Array.isArray(p)){if(p.row===void 0){let f={instancePath:t+"/spanningCells/"+l,schemaPath:"#/properties/spanningCells/items/required",keyword:"required",params:{missingProperty:"row"},message:"must have required property 'row'"};s===null?s=[f]:s.push(f),i++}if(p.col===void 0){let f={instancePath:t+"/spanningCells/"+l,schemaPath:"#/properties/spanningCells/items/required",keyword:"required",params:{missingProperty:"col"},message:"must have required property 'col'"};s===null?s=[f]:s.push(f),i++}for(let f in p)if(!bb.call(iW.properties.spanningCells.items.properties,f)){let h={instancePath:t+"/spanningCells/"+l,schemaPath:"#/properties/spanningCells/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"};s===null?s=[h]:s.push(h),i++}if(p.col!==void 0){let f=p.col;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){let h={instancePath:t+"/spanningCells/"+l+"/col",schemaPath:"#/properties/spanningCells/items/properties/col/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[h]:s.push(h),i++}if(typeof f=="number"&&isFinite(f)&&(f<0||isNaN(f))){let h={instancePath:t+"/spanningCells/"+l+"/col",schemaPath:"#/properties/spanningCells/items/properties/col/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};s===null?s=[h]:s.push(h),i++}}if(p.row!==void 0){let f=p.row;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){let h={instancePath:t+"/spanningCells/"+l+"/row",schemaPath:"#/properties/spanningCells/items/properties/row/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[h]:s.push(h),i++}if(typeof f=="number"&&isFinite(f)&&(f<0||isNaN(f))){let h={instancePath:t+"/spanningCells/"+l+"/row",schemaPath:"#/properties/spanningCells/items/properties/row/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};s===null?s=[h]:s.push(h),i++}}if(p.colSpan!==void 0){let f=p.colSpan;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){let h={instancePath:t+"/spanningCells/"+l+"/colSpan",schemaPath:"#/properties/spanningCells/items/properties/colSpan/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[h]:s.push(h),i++}if(typeof f=="number"&&isFinite(f)&&(f<1||isNaN(f))){let h={instancePath:t+"/spanningCells/"+l+"/colSpan",schemaPath:"#/properties/spanningCells/items/properties/colSpan/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};s===null?s=[h]:s.push(h),i++}}if(p.rowSpan!==void 0){let f=p.rowSpan;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){let h={instancePath:t+"/spanningCells/"+l+"/rowSpan",schemaPath:"#/properties/spanningCells/items/properties/rowSpan/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[h]:s.push(h),i++}if(typeof f=="number"&&isFinite(f)&&(f<1||isNaN(f))){let h={instancePath:t+"/spanningCells/"+l+"/rowSpan",schemaPath:"#/properties/spanningCells/items/properties/rowSpan/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};s===null?s=[h]:s.push(h),i++}}if(p.alignment!==void 0&&(ys(p.alignment,{instancePath:t+"/spanningCells/"+l+"/alignment",parentData:p,parentDataProperty:"alignment",rootData:n})||(s=s===null?ys.errors:s.concat(ys.errors),i=s.length)),p.verticalAlignment!==void 0&&(um(p.verticalAlignment,{instancePath:t+"/spanningCells/"+l+"/verticalAlignment",parentData:p,parentDataProperty:"verticalAlignment",rootData:n})||(s=s===null?um.errors:s.concat(um.errors),i=s.length)),p.wrapWord!==void 0&&typeof p.wrapWord!="boolean"){let f={instancePath:t+"/spanningCells/"+l+"/wrapWord",schemaPath:"#/properties/spanningCells/items/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[f]:s.push(f),i++}if(p.truncate!==void 0){let f=p.truncate;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){let h={instancePath:t+"/spanningCells/"+l+"/truncate",schemaPath:"#/properties/spanningCells/items/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[h]:s.push(h),i++}}if(p.paddingLeft!==void 0){let f=p.paddingLeft;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){let h={instancePath:t+"/spanningCells/"+l+"/paddingLeft",schemaPath:"#/properties/spanningCells/items/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[h]:s.push(h),i++}}if(p.paddingRight!==void 0){let f=p.paddingRight;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){let h={instancePath:t+"/spanningCells/"+l+"/paddingRight",schemaPath:"#/properties/spanningCells/items/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[h]:s.push(h),i++}}}else{let f={instancePath:t+"/spanningCells/"+l,schemaPath:"#/properties/spanningCells/items/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[f]:s.push(f),i++}}}else{let c={instancePath:t+"/spanningCells",schemaPath:"#/properties/spanningCells/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[c]:s.push(c),i++}}}else{let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),i++}return wM.errors=s,i===0}Db["streamConfig.json"]=RM;function lm(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let a in e)if(!bb.call(CM.properties,a)){let c={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"};s===null?s=[c]:s.push(c),i++}e.topBody!==void 0&&(b(e.topBody,{instancePath:t+"/topBody",parentData:e,parentDataProperty:"topBody",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.topJoin!==void 0&&(b(e.topJoin,{instancePath:t+"/topJoin",parentData:e,parentDataProperty:"topJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.topLeft!==void 0&&(b(e.topLeft,{instancePath:t+"/topLeft",parentData:e,parentDataProperty:"topLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.topRight!==void 0&&(b(e.topRight,{instancePath:t+"/topRight",parentData:e,parentDataProperty:"topRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomBody!==void 0&&(b(e.bottomBody,{instancePath:t+"/bottomBody",parentData:e,parentDataProperty:"bottomBody",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomJoin!==void 0&&(b(e.bottomJoin,{instancePath:t+"/bottomJoin",parentData:e,parentDataProperty:"bottomJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomLeft!==void 0&&(b(e.bottomLeft,{instancePath:t+"/bottomLeft",parentData:e,parentDataProperty:"bottomLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bottomRight!==void 0&&(b(e.bottomRight,{instancePath:t+"/bottomRight",parentData:e,parentDataProperty:"bottomRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bodyLeft!==void 0&&(b(e.bodyLeft,{instancePath:t+"/bodyLeft",parentData:e,parentDataProperty:"bodyLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bodyRight!==void 0&&(b(e.bodyRight,{instancePath:t+"/bodyRight",parentData:e,parentDataProperty:"bodyRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.bodyJoin!==void 0&&(b(e.bodyJoin,{instancePath:t+"/bodyJoin",parentData:e,parentDataProperty:"bodyJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.headerJoin!==void 0&&(b(e.headerJoin,{instancePath:t+"/headerJoin",parentData:e,parentDataProperty:"headerJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinBody!==void 0&&(b(e.joinBody,{instancePath:t+"/joinBody",parentData:e,parentDataProperty:"joinBody",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinLeft!==void 0&&(b(e.joinLeft,{instancePath:t+"/joinLeft",parentData:e,parentDataProperty:"joinLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinRight!==void 0&&(b(e.joinRight,{instancePath:t+"/joinRight",parentData:e,parentDataProperty:"joinRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinJoin!==void 0&&(b(e.joinJoin,{instancePath:t+"/joinJoin",parentData:e,parentDataProperty:"joinJoin",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleUp!==void 0&&(b(e.joinMiddleUp,{instancePath:t+"/joinMiddleUp",parentData:e,parentDataProperty:"joinMiddleUp",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleDown!==void 0&&(b(e.joinMiddleDown,{instancePath:t+"/joinMiddleDown",parentData:e,parentDataProperty:"joinMiddleDown",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleLeft!==void 0&&(b(e.joinMiddleLeft,{instancePath:t+"/joinMiddleLeft",parentData:e,parentDataProperty:"joinMiddleLeft",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length)),e.joinMiddleRight!==void 0&&(b(e.joinMiddleRight,{instancePath:t+"/joinMiddleRight",parentData:e,parentDataProperty:"joinMiddleRight",rootData:n})||(s=s===null?b.errors:s.concat(b.errors),i=s.length))}else{let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),i++}return lm.errors=s,i===0}function pm(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0,a=i,c=!1,l=null,p=i;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let d in e)if(!mm.test(d)){let S={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"};s===null?s=[S]:s.push(S),i++}for(let d in e)mm.test(d)&&(Kt(e[d],{instancePath:t+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:e,parentDataProperty:d,rootData:n})||(s=s===null?Kt.errors:s.concat(Kt.errors),i=s.length))}else{let d={instancePath:t,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[d]:s.push(d),i++}var h=p===i;h&&(c=!0,l=0);let f=i;if(Array.isArray(e)){let d=e.length;for(let S=0;S<d;S++)Kt(e[S],{instancePath:t+"/"+S,parentData:e,parentDataProperty:S,rootData:n})||(s=s===null?Kt.errors:s.concat(Kt.errors),i=s.length)}else{let d={instancePath:t,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[d]:s.push(d),i++}var h=f===i;if(h&&c?(c=!1,l=[l,1]):h&&(c=!0,l=1),c)i=a,s!==null&&(a?s.length=a:s=null);else{let d={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};s===null?s=[d]:s.push(d),i++}return pm.errors=s,i===0}function fm(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(e&&typeof e=="object"&&!Array.isArray(e)){for(let a in e)if(!(a==="alignment"||a==="verticalAlignment"||a==="width"||a==="wrapWord"||a==="truncate"||a==="paddingLeft"||a==="paddingRight")){let c={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"};s===null?s=[c]:s.push(c),i++}if(e.alignment!==void 0&&(co(e.alignment,{instancePath:t+"/alignment",parentData:e,parentDataProperty:"alignment",rootData:n})||(s=s===null?co.errors:s.concat(co.errors),i=s.length)),e.verticalAlignment!==void 0&&(uo(e.verticalAlignment,{instancePath:t+"/verticalAlignment",parentData:e,parentDataProperty:"verticalAlignment",rootData:n})||(s=s===null?uo.errors:s.concat(uo.errors),i=s.length)),e.width!==void 0){let a=e.width;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/width",schemaPath:"#/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}if(typeof a=="number"&&isFinite(a)&&(a<1||isNaN(a))){let c={instancePath:t+"/width",schemaPath:"#/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};s===null?s=[c]:s.push(c),i++}}if(e.wrapWord!==void 0&&typeof e.wrapWord!="boolean"){let a={instancePath:t+"/wrapWord",schemaPath:"#/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[a]:s.push(a),i++}if(e.truncate!==void 0){let a=e.truncate;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/truncate",schemaPath:"#/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}if(e.paddingLeft!==void 0){let a=e.paddingLeft;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/paddingLeft",schemaPath:"#/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}if(e.paddingRight!==void 0){let a=e.paddingRight;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/paddingRight",schemaPath:"#/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}}}else{let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),i++}return fm.errors=s,i===0}function RM(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:n=e}={}){let s=null,i=0;if(e&&typeof e=="object"&&!Array.isArray(e)){if(e.columnDefault===void 0){let a={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"columnDefault"},message:"must have required property 'columnDefault'"};s===null?s=[a]:s.push(a),i++}if(e.columnCount===void 0){let a={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"columnCount"},message:"must have required property 'columnCount'"};s===null?s=[a]:s.push(a),i++}for(let a in e)if(!(a==="border"||a==="columns"||a==="columnDefault"||a==="columnCount"||a==="drawVerticalLine")){let c={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"};s===null?s=[c]:s.push(c),i++}if(e.border!==void 0&&(lm(e.border,{instancePath:t+"/border",parentData:e,parentDataProperty:"border",rootData:n})||(s=s===null?lm.errors:s.concat(lm.errors),i=s.length)),e.columns!==void 0&&(pm(e.columns,{instancePath:t+"/columns",parentData:e,parentDataProperty:"columns",rootData:n})||(s=s===null?pm.errors:s.concat(pm.errors),i=s.length)),e.columnDefault!==void 0&&(fm(e.columnDefault,{instancePath:t+"/columnDefault",parentData:e,parentDataProperty:"columnDefault",rootData:n})||(s=s===null?fm.errors:s.concat(fm.errors),i=s.length)),e.columnCount!==void 0){let a=e.columnCount;if(!(typeof a=="number"&&!(a%1)&&!isNaN(a)&&isFinite(a))){let c={instancePath:t+"/columnCount",schemaPath:"#/properties/columnCount/type",keyword:"type",params:{type:"integer"},message:"must be integer"};s===null?s=[c]:s.push(c),i++}if(typeof a=="number"&&isFinite(a)&&(a<1||isNaN(a))){let c={instancePath:t+"/columnCount",schemaPath:"#/properties/columnCount/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};s===null?s=[c]:s.push(c),i++}}if(e.drawVerticalLine!==void 0&&typeof e.drawVerticalLine!="function"){let a={instancePath:t+"/drawVerticalLine",schemaPath:"#/properties/drawVerticalLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};s===null?s=[a]:s.push(a),i++}}else{let a={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),i++}return RM.errors=s,i===0}});var Sb=L(sa=>{"use strict";var aW=sa&&sa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sa,"__esModule",{value:!0});sa.validateConfig=void 0;var cW=aW(FM()),uW=(e,t)=>{let r=cW.default[e];if(!r(t)&&r.errors){let o=r.errors.map(n=>({message:n.message,params:n.params,schemaPath:n.schemaPath}));throw console.log("config",t),console.log("errors",o),new Error("Invalid config.")}};sa.validateConfig=uW});var AM=L(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.makeStreamConfig=void 0;var lW=ze(),pW=Sb(),fW=(e,t={},r)=>Array.from({length:e}).map((o,n)=>({alignment:"left",paddingLeft:1,paddingRight:1,truncate:Number.POSITIVE_INFINITY,verticalAlignment:"top",wrapWord:!1,...r,...t[n]})),mW=e=>{if((0,pW.validateConfig)("streamConfig.json",e),e.columnDefault.width===void 0)throw new Error("Must provide config.columnDefault.width when creating a stream.");return{drawVerticalLine:()=>!0,...e,border:(0,lW.makeBorderConfig)(e.border),columns:fW(e.columnCount,e.columns,e.columnDefault)}};hm.makeStreamConfig=mW});var gm=L(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.mapDataUsingRowHeights=bs.padCellVertically=void 0;var hW=ze(),dW=em(),dm=e=>new Array(e).fill(""),gW=(e,t,r)=>{let o=t-e.length;return r==="top"?[...e,...dm(o)]:r==="bottom"?[...dm(o),...e]:[...dm(Math.floor(o/2)),...e,...dm(Math.ceil(o/2))]};bs.padCellVertically=gW;var xW=(e,t,r)=>{let o=e[0].length,n=e.map((s,i)=>{let a=t[i],c=Array.from({length:a},()=>new Array(o).fill(""));return s.forEach((l,p)=>{var f;let h=(f=r.spanningCellManager)===null||f===void 0?void 0:f.getContainingRange({col:p,row:i});if(h){h.extractCellContent(i).forEach((w,A)=>{c[A][p]=w});return}let d=(0,dW.wrapCell)(l,r.columns[p].width,r.columns[p].wrapWord);(0,bs.padCellVertically)(d,a,r.columns[p].verticalAlignment).forEach((w,A)=>{c[A][p]=w})}),c});return(0,hW.flatten)(n)};bs.mapDataUsingRowHeights=xW});var xm=L(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.padTableData=Ds.padString=void 0;var yW=(e,t,r)=>" ".repeat(t)+e+" ".repeat(r);Ds.padString=yW;var bW=(e,t)=>e.map((r,o)=>r.map((n,s)=>{var i;if((i=t.spanningCellManager)===null||i===void 0?void 0:i.getContainingRange({col:s,row:o},{mapped:!0}))return n;let{paddingLeft:c,paddingRight:l}=t.columns[s];return(0,Ds.padString)(n,c,l)}));Ds.padTableData=bW});var Eb=L(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.stringifyTableData=void 0;var DW=ze(),SW=e=>e.map(t=>t.map(r=>(0,DW.normalizeString)(String(r))));ym.stringifyTableData=SW});var QM=L((su,ia)=>{"use strict";var EW=30,CW="...",Cb=1/0,_W=17976931348623157e292,vM=0/0,OW="[object RegExp]",wW="[object Symbol]",RW=/^\s+|\s+$/g,FW=/\w*$/,AW=/^[-+]0x[0-9a-f]+$/i,vW=/^0b[01]+$/i,MW=/^0o[0-7]+$/i,Fb="\\ud800-\\udfff",HM="\\u0300-\\u036f\\ufe20-\\ufe23",jM="\\u20d0-\\u20f0",BM="\\ufe0e\\ufe0f",kW="["+Fb+"]",_b="["+HM+jM+"]",Ob="\\ud83c[\\udffb-\\udfff]",TW="(?:"+_b+"|"+Ob+")",UM="[^"+Fb+"]",WM="(?:\\ud83c[\\udde6-\\uddff]){2}",zM="[\\ud800-\\udbff][\\udc00-\\udfff]",KM="\\u200d",$M=TW+"?",GM="["+BM+"]?",IW="(?:"+KM+"(?:"+[UM,WM,zM].join("|")+")"+GM+$M+")*",PW=GM+$M+IW,NW="(?:"+[UM+_b+"?",_b,WM,zM,kW].join("|")+")",wb=RegExp(Ob+"(?="+Ob+")|"+NW+PW,"g"),LW=RegExp("["+KM+Fb+HM+jM+BM+"]"),qW=parseInt,VM=typeof global=="object"&&global&&global.Object===Object&&global,HW=typeof self=="object"&&self&&self.Object===Object&&self,jW=VM||HW||Function("return this")(),JM=typeof su=="object"&&su&&!su.nodeType&&su,MM=JM&&typeof ia=="object"&&ia&&!ia.nodeType&&ia,BW=MM&&MM.exports===JM,kM=BW&&VM.process,TM=function(){try{return kM&&kM.binding("util")}catch{}}(),IM=TM&&TM.isRegExp,UW=zW("length");function WW(e){return e.split("")}function zW(e){return function(t){return t?.[e]}}function KW(e){return function(t){return e(t)}}function Ab(e){return LW.test(e)}function $W(e){return Ab(e)?VW(e):UW(e)}function GW(e){return Ab(e)?JW(e):WW(e)}function VW(e){for(var t=wb.lastIndex=0;wb.test(e);)t++;return t}function JW(e){return e.match(wb)||[]}var YW=Object.prototype,YM=YW.toString,PM=jW.Symbol,NM=PM?PM.prototype:void 0,LM=NM?NM.toString:void 0;function ZW(e){return bm(e)&&YM.call(e)==OW}function QW(e,t,r){var o=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(n);++o<n;)s[o]=e[o+t];return s}function Rb(e){if(typeof e=="string")return e;if(ZM(e))return LM?LM.call(e):"";var t=e+"";return t=="0"&&1/e==-Cb?"-0":t}function XW(e,t,r){var o=e.length;return r=r===void 0?o:r,!t&&r>=o?e:QW(e,t,r)}function bm(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function e4(e){return!!e&&typeof e=="object"}var t4=IM?KW(IM):ZW;function ZM(e){return typeof e=="symbol"||e4(e)&&YM.call(e)==wW}function r4(e){if(!e)return e===0?e:0;if(e=n4(e),e===Cb||e===-Cb){var t=e<0?-1:1;return t*_W}return e===e?e:0}function o4(e){var t=r4(e),r=t%1;return t===t?r?t-r:t:0}function n4(e){if(typeof e=="number")return e;if(ZM(e))return vM;if(bm(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bm(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(RW,"");var r=vW.test(e);return r||MW.test(e)?qW(e.slice(2),r?2:8):AW.test(e)?vM:+e}function qM(e){return e==null?"":Rb(e)}function s4(e,t){var r=EW,o=CW;if(bm(t)){var n="separator"in t?t.separator:n;r="length"in t?o4(t.length):r,o="omission"in t?Rb(t.omission):o}e=qM(e);var s=e.length;if(Ab(e)){var i=GW(e);s=i.length}if(r>=s)return e;var a=r-$W(o);if(a<1)return o;var c=i?XW(i,0,a).join(""):e.slice(0,a);if(n===void 0)return c+o;if(i&&(a+=c.length-a),t4(n)){if(e.slice(a).search(n)){var l,p=c;for(n.global||(n=RegExp(n.source,qM(FW.exec(n))+"g")),n.lastIndex=0;l=n.exec(p);)var f=l.index;c=c.slice(0,f===void 0?a:f)}}else if(e.indexOf(Rb(n),a)!=a){var h=c.lastIndexOf(n);h>-1&&(c=c.slice(0,h))}return c+o}ia.exports=s4});var Dm=L(Ho=>{"use strict";var i4=Ho&&Ho.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.truncateTableData=Ho.truncateString=void 0;var a4=i4(QM()),c4=(e,t)=>(0,a4.default)(e,{length:t,omission:"\u2026"});Ho.truncateString=c4;var u4=(e,t)=>e.map(r=>r.map((o,n)=>(0,Ho.truncateString)(o,t[n])));Ho.truncateTableData=u4});var tk=L(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.createStream=void 0;var l4=hb(),p4=db(),Sm=gb(),XM=xb(),f4=AM(),m4=gm(),h4=xm(),d4=Eb(),g4=Dm(),x4=ze(),ek=(e,t)=>{let r=(0,d4.stringifyTableData)(e);r=(0,g4.truncateTableData)(r,(0,x4.extractTruncates)(t));let o=(0,p4.calculateRowHeights)(r,t);return r=(0,m4.mapDataUsingRowHeights)(r,o,t),r=(0,l4.alignTableData)(r,t),r=(0,h4.padTableData)(r,t),r},y4=(e,t,r)=>{let n=ek([e],r).map(i=>(0,XM.drawRow)(i,r)).join(""),s;s="",s+=(0,Sm.drawBorderTop)(t,r),s+=n,s+=(0,Sm.drawBorderBottom)(t,r),s=s.trimEnd(),process.stdout.write(s)},b4=(e,t,r)=>{let n=ek([e],r).map(a=>(0,XM.drawRow)(a,r)).join(""),s="",i=(0,Sm.drawBorderBottom)(t,r);i!==`
`&&(s="\r\x1B[K"),s+=(0,Sm.drawBorderJoin)(t,r),s+=n,s+=i,s=s.trimEnd(),process.stdout.write(s)},D4=e=>{let t=(0,f4.makeStreamConfig)(e),r=Object.values(t.columns).map(n=>n.width+n.paddingLeft+n.paddingRight),o=!0;return{write:n=>{if(n.length!==t.columnCount)throw new Error("Row cell count does not match the config.columnCount.");o?(o=!1,y4(n,r,t)):b4(n,r,t)}}};Em.createStream=D4});var rk=L(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.calculateOutputColumnWidths=void 0;var S4=e=>e.columns.map(t=>t.paddingLeft+t.width+t.paddingRight);Cm.calculateOutputColumnWidths=S4});var ok=L(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.drawTable=void 0;var E4=gb(),C4=nm(),_4=xb(),O4=ze(),w4=(e,t,r,o)=>{let{drawHorizontalLine:n,singleLine:s}=o,i=(0,O4.groupBySizes)(e,r).map((a,c)=>a.map(l=>(0,_4.drawRow)(l,{...o,rowIndex:c})).join(""));return(0,C4.drawContent)({contents:i,drawSeparator:(a,c)=>(a===0||a===c||!s)&&n(a,c),elementType:"row",rowIndex:-1,separatorGetter:(0,E4.createTableBorderGetter)(t,{...o,rowCount:i.length}),spanningCellManager:o.spanningCellManager})};_m.drawTable=w4});var nk=L(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.injectHeaderConfig=void 0;var R4=(e,t)=>{var r;let o=(r=t.spanningCells)!==null&&r!==void 0?r:[],n=t.header,s=[...e];if(n){o=o.map(({row:c,...l})=>({...l,row:c+1}));let{content:i,...a}=n;o.unshift({alignment:"center",col:0,colSpan:e[0].length,paddingLeft:1,paddingRight:1,row:0,wrapWord:!1,...a}),s.unshift([i,...Array.from({length:e[0].length-1}).fill("")])}return[s,o]};Om.injectHeaderConfig=R4});var ik=L(jo=>{"use strict";var F4=jo&&jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jo,"__esModule",{value:!0});jo.calculateMaximumColumnWidths=jo.calculateMaximumCellWidth=void 0;var A4=F4(Qi()),sk=ze(),v4=e=>Math.max(...e.split(`
`).map(A4.default));jo.calculateMaximumCellWidth=v4;var M4=(e,t=[])=>{let r=new Array(e[0].length).fill(0),o=t.map(sk.calculateRangeCoordinate),n=(s,i)=>o.some(a=>(0,sk.isCellInRange)({col:i,row:s},a));return e.forEach((s,i)=>{s.forEach((a,c)=>{n(i,c)||(r[c]=Math.max(r[c],(0,jo.calculateMaximumCellWidth)(a)))})}),r};jo.calculateMaximumColumnWidths=M4});var ck=L(fn=>{"use strict";var k4=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});fn.alignVerticalRangeContent=fn.wrapRangeContent=void 0;var T4=k4(Qi()),I4=mb(),P4=gm(),N4=xm(),L4=Dm(),ak=ze(),q4=em(),H4=(e,t,r)=>{let{topLeft:o,paddingRight:n,paddingLeft:s,truncate:i,wrapWord:a,alignment:c}=e,l=r.rows[o.row][o.col],p=t-s-n;return(0,q4.wrapCell)((0,L4.truncateString)(l,i),p,a).map(f=>{let h=(0,I4.alignString)(f,p,c);return(0,N4.padString)(h,s,n)})};fn.wrapRangeContent=H4;var j4=(e,t,r)=>{let{rows:o,drawHorizontalLine:n,rowHeights:s}=r,{topLeft:i,bottomRight:a,verticalAlignment:c}=e;if(s.length===0)return[];let l=(0,ak.sumArray)(s.slice(i.row,a.row+1)),p=a.row-i.row,f=(0,ak.sequence)(i.row+1,a.row).filter(d=>!n(d,o.length)).length,h=l+p-f;return(0,P4.padCellVertically)(t,h,c).map(d=>d.length===0?" ".repeat((0,T4.default)(t[0])):d)};fn.alignVerticalRangeContent=j4});var uk=L(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.calculateSpanningCellWidth=void 0;var vb=ze(),B4=(e,t)=>{let{columnsConfig:r,drawVerticalLine:o}=t,{topLeft:n,bottomRight:s}=e,i=(0,vb.sumArray)(r.slice(n.col,s.col+1).map(({width:p})=>p)),a=n.col===s.col?r[n.col].paddingRight+r[s.col].paddingLeft:(0,vb.sumArray)(r.slice(n.col,s.col+1).map(({paddingLeft:p,paddingRight:f})=>p+f)),c=s.col-n.col,l=(0,vb.sequence)(n.col+1,s.col).filter(p=>!o(p,r.length)).length;return i+a+c-l};wm.calculateSpanningCellWidth=B4});var lk=L(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.makeRangeConfig=void 0;var U4=ze(),W4=(e,t)=>{var r;let{topLeft:o,bottomRight:n}=(0,U4.calculateRangeCoordinate)(e);return{...{...t[o.col],...e,paddingRight:(r=e.paddingRight)!==null&&r!==void 0?r:t[n.col].paddingRight},bottomRight:n,topLeft:o}};Rm.makeRangeConfig=W4});var mk=L(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.createSpanningCellManager=void 0;var pk=ck(),z4=uk(),K4=lk(),aa=ze(),Mb=(e,t)=>t.find(r=>(0,aa.isCellInRange)(e,r)),fk=(e,t)=>{let r=(0,z4.calculateSpanningCellWidth)(e,t),o=(0,pk.wrapRangeContent)(e,r,t),n=(0,pk.alignVerticalRangeContent)(e,o,t);return{...e,extractBorderContent:a=>{let{topLeft:c}=e,l=(0,aa.sumArray)(t.rowHeights.slice(c.row,a))+(a-c.row-1);return n[l]},extractCellContent:a=>{let{topLeft:c}=e,{drawHorizontalLine:l,rowHeights:p}=t,f=a-c.row,h=(0,aa.sequence)(c.row+1,a).filter(S=>!l?.(S,p.length)).length,d=(0,aa.sumArray)(p.slice(c.row,a))+f-h;return n.slice(d,d+p[a])},height:o.length,width:r}},$4=(e,t,r)=>{let o=Mb(e,r),n=Mb(t,r);return o&&n?(0,aa.areCellEqual)(o.topLeft,n.topLeft):!1},G4=e=>{let{row:t,col:r}=e.topLeft;return`${t}/${r}`},V4=e=>{let{spanningCellConfigs:t,columnsConfig:r}=e,o=t.map(i=>(0,K4.makeRangeConfig)(i,r)),n={},s=[];return{getContainingRange:(i,a)=>{var c;let l=a?.mapped?(0,aa.findOriginalRowIndex)(s,i.row):i.row,p=Mb({...i,row:l},o);if(!p)return;if(s.length===0)return fk(p,{...e,rowHeights:s});let f=G4(p);return(c=n[f])!==null&&c!==void 0||(n[f]=fk(p,{...e,rowHeights:s})),n[f]},inSameRange:(i,a)=>$4(i,a,o),rowHeights:s,setRowHeights:i=>{s=i}}};Fm.createSpanningCellManager=V4});var hk=L(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.validateSpanningCellConfig=void 0;var kb=ze(),Am=(e,t,r)=>e<=r&&r<=t,J4=(e,t)=>{let[r,o]=[e.length,e[0].length];t.forEach((i,a)=>{let{colSpan:c,rowSpan:l}=i;if(c===void 0&&l===void 0)throw new Error(`Expect at least colSpan or rowSpan is provided in config.spanningCells[${a}]`);if(c!==void 0&&c<1)throw new Error(`Expect colSpan is not equal zero, instead got: ${c} in config.spanningCells[${a}]`);if(l!==void 0&&l<1)throw new Error(`Expect rowSpan is not equal zero, instead got: ${l} in config.spanningCells[${a}]`)});let n=t.map(kb.calculateRangeCoordinate);n.forEach(({topLeft:i,bottomRight:a},c)=>{if(!Am(0,o-1,i.col)||!Am(0,r-1,i.row)||!Am(0,o-1,a.col)||!Am(0,r-1,a.row))throw new Error(`Some cells in config.spanningCells[${c}] are out of the table`)});let s=Array.from({length:r},()=>Array.from({length:o}));n.forEach(({topLeft:i,bottomRight:a},c)=>{(0,kb.sequence)(i.row,a.row).forEach(l=>{(0,kb.sequence)(i.col,a.col).forEach(p=>{if(s[l][p]!==void 0)throw new Error(`Spanning cells in config.spanningCells[${s[l][p]}] and config.spanningCells[${c}] are overlap each other`);s[l][p]=c})})})};vm.validateSpanningCellConfig=J4});var dk=L(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.makeTableConfig=void 0;var Y4=ik(),Z4=mk(),Q4=ze(),X4=Sb(),e9=hk(),t9=(e,t,r,o)=>{let n=(0,Y4.calculateMaximumColumnWidths)(e,o);return e[0].map((s,i)=>({alignment:"left",paddingLeft:1,paddingRight:1,truncate:Number.POSITIVE_INFINITY,verticalAlignment:"top",width:n[i],wrapWord:!1,...r,...t?.[i]}))},r9=(e,t={},r)=>{var o,n,s,i,a;(0,X4.validateConfig)("config.json",t),(0,e9.validateSpanningCellConfig)(e,(o=t.spanningCells)!==null&&o!==void 0?o:[]);let c=(n=r??t.spanningCells)!==null&&n!==void 0?n:[],l=t9(e,t.columns,t.columnDefault,c),p=(s=t.drawVerticalLine)!==null&&s!==void 0?s:()=>!0,f=(i=t.drawHorizontalLine)!==null&&i!==void 0?i:()=>!0;return{...t,border:(0,Q4.makeBorderConfig)(t.border),columns:l,drawHorizontalLine:f,drawVerticalLine:p,singleLine:(a=t.singleLine)!==null&&a!==void 0?a:!1,spanningCellManager:(0,Z4.createSpanningCellManager)({columnsConfig:l,drawHorizontalLine:f,drawVerticalLine:p,rows:e,spanningCellConfigs:c})}};Mm.makeTableConfig=r9});var gk=L(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.validateTableData=void 0;var o9=ze(),n9=e=>{if(!Array.isArray(e))throw new TypeError("Table data must be an array.");if(e.length===0)throw new Error("Table must define at least one row.");if(e[0].length===0)throw new Error("Table must define at least one column.");let t=e[0].length;for(let r of e){if(!Array.isArray(r))throw new TypeError("Table row data must be an array.");if(r.length!==t)throw new Error("Table must have a consistent number of cells.");for(let o of r)if(/[\u0001-\u0006\u0008\u0009\u000B-\u001A]/.test((0,o9.normalizeString)(String(o))))throw new Error("Table data must not contain control characters.")}};km.validateTableData=n9});var xk=L(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.table=void 0;var s9=hb(),i9=rk(),a9=db(),c9=ok(),u9=nk(),l9=dk(),p9=gm(),f9=xm(),m9=Eb(),h9=Dm(),d9=ze(),g9=gk(),x9=(e,t={})=>{(0,g9.validateTableData)(e);let r=(0,m9.stringifyTableData)(e),[o,n]=(0,u9.injectHeaderConfig)(r,t),s=(0,l9.makeTableConfig)(o,t,n);r=(0,h9.truncateTableData)(o,(0,d9.extractTruncates)(s));let i=(0,a9.calculateRowHeights)(r,s);s.spanningCellManager.setRowHeights(i),r=(0,p9.mapDataUsingRowHeights)(r,i,s),r=(0,s9.alignTableData)(r,s),r=(0,f9.padTableData)(r,s);let a=(0,i9.calculateOutputColumnWidths)(s);return(0,c9.drawTable)(r,a,i,s)};Tm.table=x9});var bk=L(yk=>{"use strict";Object.defineProperty(yk,"__esModule",{value:!0})});var Dk=L($t=>{"use strict";var y9=$t&&$t.__createBinding||(Object.create?function(e,t,r,o){o===void 0&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){o===void 0&&(o=r),e[o]=t[r]}),b9=$t&&$t.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&y9(t,e,r)};Object.defineProperty($t,"__esModule",{value:!0});$t.getBorderCharacters=$t.createStream=$t.table=void 0;var D9=tk();Object.defineProperty($t,"createStream",{enumerable:!0,get:function(){return D9.createStream}});var S9=lb();Object.defineProperty($t,"getBorderCharacters",{enumerable:!0,get:function(){return S9.getBorderCharacters}});var E9=xk();Object.defineProperty($t,"table",{enumerable:!0,get:function(){return E9.table}});b9(bk(),$t)});var Pb=e=>typeof e=="function",u=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):r=>t(r,...arguments)};switch(e){case 0:return t;case 1:return function(r){return arguments.length>=1?t(r):function(){return t(r)}};case 2:return function(r,o){return arguments.length>=2?t(r,o):function(n){return t(n,r)}};case 3:return function(r,o,n){return arguments.length>=3?t(r,o,n):function(s){return t(s,r,o)}};case 4:return function(r,o,n,s){return arguments.length>=4?t(r,o,n,s):function(i){return t(i,r,o,n)}};case 5:return function(r,o,n,s,i){return arguments.length>=5?t(r,o,n,s,i):function(a){return t(a,r,o,n,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);let r=arguments;return function(o){return t(o,...r)}}}};var I=e=>e;var Cs=e=>()=>e,Ir=Cs(!0),Vt=Cs(!1),Pm=Cs(null),cu=Cs(void 0),_s=cu;function ue(e,t,r,o,n,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return o(r(t(e)));case 5:return n(o(r(t(e))));case 6:return s(n(o(r(t(e)))));case 7:return i(s(n(o(r(t(e))))));case 8:return a(i(s(n(o(r(t(e)))))));case 9:return c(a(i(s(n(o(r(t(e))))))));default:{let l=arguments[0];for(let p=1;p<arguments.length;p++)l=arguments[p](l);return l}}}var Os=e=>(t,r)=>t===r||e(t,r);var Nb=u(2,(e,t)=>Os((r,o)=>e(t(r),t(o))));var Lb=e=>Os((t,r)=>{if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(!e(t[o],r[o]))return!1;return!0});var ws=e=>(t,r)=>t===r?0:e(t,r);var qb=ws((e,t)=>e<t?-1:1);var Hb=e=>ws((t,r)=>e(r,t));var ca=u(2,(e,t)=>ws((r,o)=>e(t(r),t(o))));var vk=e=>ws((t,r)=>{let o=Math.min(t.length,r.length),n=0;for(let s of e){if(n>=o)break;let i=s(t[n],r[n]);if(i!==0)return i;n++}return 0});var jb=(...e)=>vk(e);var Nm=e=>u(2,(t,r)=>e(t,r)===1);var Lm=e=>u(2,(t,r)=>t===r||e(t,r)>-1?t:r);var ua=e=>typeof e=="string",mn=e=>typeof e=="number",pu=e=>typeof e=="boolean",Rs=e=>typeof e=="bigint",Bb=e=>typeof e=="symbol",Ub=Pb,la=e=>e===void 0;var Wb=e=>e===null;var zb=e=>!1;var de=e=>typeof e=="object"&&e!=null||Ub(e);var hn=e=>e==null,Kb=e=>e!=null;var fu=e=>e instanceof Date,Jt=e=>de(e)&&Symbol.iterator in e,pa=e=>de(e)&&!Array.isArray(e);var $b=e=>!e;var Gb,Vb=Symbol.for("@effect/data/Gen/GenKind"),qm=class{constructor(t){this.value=t,this[Gb]=Vb}get _F(){return I}get _R(){return t=>t}get _O(){return t=>t}get _E(){return t=>t}[(Gb=Vb,Symbol.iterator)](){return new Hm(this)}},Hm=class e{constructor(t){this.self=t,this.called=!1}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new e(this.self)}};var Jb=()=>function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new qm(e)};var Tk=335903614,Ik=4150755663,Pk=1481765933,Nk=1284865837,Lk=9007199254740992,qk=134217728,Fs=class{constructor(t,r,o,n){return hn(r)&&hn(t)?(r=Math.random()*4294967295>>>0,t=0):hn(r)&&(r=t,t=0),hn(n)&&hn(o)?(n=this._state?this._state[3]:Ik,o=this._state?this._state[2]:Tk):hn(n)&&(n=o,o=0),this._state=new Int32Array([0,0,o>>>0,((n||0)|1)>>>0]),this._next(),Yb(this._state,this._state[0],this._state[1],t>>>0,r>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){if(!t)return this._next();if(t=t>>>0,!(t&t-1))return this._next()&t-1;let r=0,o=(-t>>>0)%t>>>0;for(r=this._next();r<o;r=this._next());return r%t}number(){let t=(this._next()&67108863)*1,r=(this._next()&134217727)*1;return(t*qk+r)/Lk}_next(){let t=this._state[0]>>>0,r=this._state[1]>>>0;Hk(this._state,t,r,Pk,Nk),Yb(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let o=t>>>18,n=(r>>>18|t<<14)>>>0;o=(o^t)>>>0,n=(n^r)>>>0;let s=(n>>>27|o<<5)>>>0,i=t>>>27,a=(-i>>>0&31)>>>0;return(s>>>i|s<<a)>>>0}};function Hk(e,t,r,o,n){let s=(r>>>16)*(n&65535)>>>0,i=(r&65535)*(n>>>16)>>>0,a=(r&65535)*(n&65535)>>>0,c=(r>>>16)*(n>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(r,o)>>>0,c=c+Math.imul(t,n)>>>0,e[0]=c,e[1]=a}function Yb(e,t,r,o,n){let s=t+o>>>0,i=r+n>>>0;i>>>0<r>>>0&&(s=s+1|0),e[0]=s,e[1]=i}var Bm=Symbol.for("@effect/data/Global/globalStoreId");Bm in globalThis||(globalThis[Bm]=new Map);var jm=globalThis[Bm],V=(e,t)=>(jm.has(e)||jm.set(e,t()),jm.get(e));var Um=V(Symbol.for("@effect/data/Hash/randomHashCache"),()=>new WeakMap),Uk=V(Symbol.for("@effect/data/Hash/pcgr"),()=>new Fs),R=Symbol.for("@effect/data/Hash"),E=e=>{switch(typeof e){case"number":return hu(e);case"bigint":return He(e.toString(10));case"boolean":return He(String(e));case"symbol":return He(String(e));case"string":return He(e);case"undefined":return He("undefined");case"function":case"object":return e===null?He("null"):Wk(e)?e[R]():Bo(e);default:throw new Error("Bug in Equal.hash")}},Bo=e=>(Um.has(e)||Um.set(e,hu(Uk.integer(Number.MAX_SAFE_INTEGER))),Um.get(e)),k=e=>t=>t*53^e,mu=e=>e&3221225471|e>>>1&1073741824,Wk=e=>typeof e=="object"&&e!==null&&R in e,hu=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return mu(e)},He=e=>{let t=5381,r=e.length;for(;r;)t=t*33^e.charCodeAt(--r);return mu(t)},zk=(e,t)=>{let r=12289;for(let o=0;o<t.length;o++)r^=k(E(e[t[o]]))(He(t[o]));return mu(r)},ma=e=>zk(e,Object.keys(e)),fo=e=>{let t=6151;for(let r=0;r<e.length;r++)t=k(E(e[r]))(t);return mu(t)};var F=Symbol.for("@effect/data/Equal");function O(){return arguments.length===1?e=>Zb(e,arguments[0]):Zb(arguments[0],arguments[1])}function Zb(e,t){if(e===t)return!0;let r=typeof e;return r!==typeof t?!1:(r==="object"||r==="function")&&e!==null&&t!==null&&As(e)&&As(t)?E(e)===E(t)&&e[F](t):!1}var As=e=>typeof e=="object"&&e!==null&&F in e,du=()=>(e,t)=>E(e)===E(t)&&O(e,t);var Uo=Symbol.for("@effect/io/Effect"),Wo={_R:e=>e,_E:e=>e,_A:e=>e};var C=(e,t)=>{switch(t.length){case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let r=e;for(let o=0,n=t.length;o<n;o++)r=t[o](r);return r}}};var Qb,Xb,gu=Symbol.for("@effect/data/Option"),Wm=class{[(Qb=Uo,F)](t){return eD(t)&&Km(t)&&O(t.i0,this.i0)}[R](){return E(this.i0)}toString(){return`Some(${String(this.i0)})`}toJSON(){return{_tag:this._tag,value:this.i0}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}get[gu](){return{_A:t=>t}}get value(){return this.i0}constructor(t){this.i0=t,this._tag="Some",this._id=gu,this.i1=void 0,this.i2=void 0,this[Qb]=Wo}pipe(){return C(this,arguments)}},zm=class{constructor(){this._tag="None",this._id=gu,this.i0=void 0,this.i1=void 0,this.i2=void 0,this[Xb]=Wo}[(Xb=Uo,F)](t){return eD(t)&&xu(t)}[R](){return E(this._tag)}toString(){return"None()"}toJSON(){return{_tag:this._tag}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}get[gu](){return{_A:t=>t}}pipe(){return C(this,arguments)}},eD=e=>typeof e=="object"&&e!=null&&"_tag"in e&&(e._tag==="None"||e._tag==="Some")&&As(e),xu=e=>e._tag==="None",Km=e=>e._tag==="Some",vs=new zm,Ms=e=>new Wm(e);var rD,oD,yu=Symbol.for("@effect/data/Either"),$m=class{[(rD=Uo,F)](t){return nD(t)&&bu(t)&&O(t.i0,this.i0)}[R](){return E(this.i0)}get right(){return this.i0}constructor(t){this.i0=t,this._tag="Right",this._id=yu,this.i1=void 0,this.i2=void 0,this[rD]=Wo}get[yu](){return{_E:t=>t,_A:t=>t}}toString(){return`right(${String(this.i0)})`}toJSON(){return{_tag:this._tag,right:this.i0}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},Gm=class{[(oD=Uo,F)](t){return nD(t)&&ks(t)&&O(t.i0,this.i0)}[R](){return E(this.i0)}get[yu](){return{_E:t=>t,_A:t=>t}}get left(){return this.i0}constructor(t){this.i0=t,this._tag="Left",this._id=yu,this.i1=void 0,this.i2=void 0,this[oD]=Wo}toString(){return`left(${String(this.i0)})`}toJSON(){return{_tag:this._tag,left:this.i0}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},nD=e=>typeof e=="object"&&e!=null&&"_tag"in e&&(e._tag==="Left"||e._tag==="Right")&&As(e),ks=e=>e._tag==="Left",bu=e=>e._tag==="Right",Du=e=>new Gm(e),Su=e=>new $m(e),Vm=e=>bu(e)?vs:Ms(e.left),Jm=e=>ks(e)?vs:Ms(e.right);var Kk=Symbol.for("@effect/data/Either"),q=Su,z=Du;var ha=e=>de(e)&&"_id"in e&&e._id===Kk,Fe=ks,Pr=bu;var da=u(2,(e,{onLeft:t,onRight:r})=>Fe(e)?t(e.left):r(e.right)),Eu=da({onLeft:I,onRight:I});var iD=u(2,(e,t)=>e+t),aD=u(2,(e,t)=>e*t),cD=u(2,(e,t)=>e-t),uD=u(2,(e,t)=>e/t);var Mt=qb;var lD=Symbol.for("@effect/data/Option"),g=()=>vs,x=Ms,Ym=e=>de(e)&&"_id"in e&&e._id===lD,H=xu,P=Km,je=u(2,(e,{onNone:t,onSome:r})=>H(e)?t():r(e.value)),Jk=e=>t=>P(e(t)),Yk=e=>{for(let t of e)return x(t);return g()},pD=Jm,Zk=Vm,J=u(2,(e,t)=>H(e)?t():e.value),dn=u(2,(e,t)=>H(e)?t():e),Qk=u(2,(e,t)=>H(e)?te(t(),Su):te(e,Du)),Xk=e=>{let t=g();for(t of e)if(P(t))return t;return t},Ze=e=>e==null?g():x(e),eT=e=>(...t)=>Ze(e(...t)),Zm=J(Pm),Ke=J(cu),tT=e=>(...t)=>{try{return x(e(...t))}catch{return g()}},fD=u(2,(e,t)=>{if(P(e))return e.value;throw t()}),Qm=fD(()=>new Error("getOrThrow called on a None")),te=u(2,(e,t)=>H(e)?g():x(t(e.value))),mD=u(2,(e,t)=>te(e,()=>t)),rT=mD(void 0),oT=x(void 0),mr=u(2,(e,t)=>H(e)?g():t(e.value)),nT=u(2,(e,t)=>H(e)?g():Ze(t(e.value))),Xm=mr(I),sT=u(2,(e,t)=>mr(e,()=>t)),iT=u(2,(e,t)=>r=>mr(e(r),t)),aT=u(2,(e,t)=>hD(e,()=>t)),hD=u(2,(e,t)=>mr(e,r=>te(t(r),()=>r))),dD=(e,t)=>P(e)&&P(t)?x([e.value,t.value]):g(),cT=(e,t)=>{if(H(e))return g();let r=[e.value];for(let o of t){if(H(o))return g();r.push(o.value)}return x(r)},gD=e=>{if(Symbol.iterator in e){let r=[];for(let o of e){if(H(o))return g();r.push(o.value)}return x(r)}let t={};for(let r of Object.keys(e)){let o=e[r];if(H(o))return g();t[r]=o.value}return x(t)},eh=u(3,(e,t,r)=>te(dD(e,t),([o,n])=>r(o,n))),uT=u(2,(e,t)=>eh(e,t,(r,o)=>r(o))),lT=u(3,(e,t,r)=>{let o=t;for(let n of e)P(n)&&(o=r(o,n.value));return o}),xD=e=>H(e)?[]:[e.value],pT=u(2,(e,t)=>{if(H(e))return[g(),g()];let r=t(e.value);return ks(r)?[x(r.left),g()]:[g(),x(r.right)]}),yD=u(2,(e,t)=>H(e)?g():t(e.value)),fT=u(2,(e,t)=>yD(e,r=>t(r)?Ms(r):vs)),mT=e=>Os((t,r)=>t===r||(H(t)?H(r):H(r)?!1:e(t.value,r.value))),hT=e=>ws((t,r)=>P(t)?P(r)?e(t.value,r.value):1:-1),xa=e=>u(2,(t,r)=>eh(t,r,e)),bD=e=>t=>e(t)?x(t):g(),DD=e=>u(2,(t,r)=>H(t)?!1:e(t.value,r)),dT=du(),th=DD(dT),gT=u(2,(e,t)=>H(e)?!1:t(e.value)),xT=xa(iD),yT=xa(aD),bT=xa(cD),DT=xa(uD),ST=e=>{let t=0;for(let r of e)P(r)&&(t+=r.value);return t},ET=e=>{let t=1;for(let r of e)if(P(r)){let o=r.value;if(o===0)return 0;t*=o}return t},CT=u(2,(e,t)=>te(e,r=>({[t]:r}))),_T=u(3,(e,t,r)=>te(e,o=>Object.assign({},o,{[t]:r(o)})));var OT=u(3,(e,t,r)=>mr(e,o=>te(r(o),n=>Object.assign({},o,{[t]:n})))),wT=x({}),RT=Jb(),FT=e=>{let t=e(RT),r=t.next();if(r.done)return x(void 0);{let o=r.value.value;if(H(o))return o;for(;!r.done;)if(r=t.next(o.value),!r.done&&(o=r.value.value,H(o)))return o;return x(r.value)}};var rh=e=>e.length>0;var oh=(e,t)=>{let r=Math.max(1,Math.floor(e)),o=[t(0)];for(let n=1;n<r;n++)o.push(t(n));return o};var re=e=>Array.isArray(e)?e:Array.from(e);var hr=u(2,(e,t)=>[t,...e]);var SD=u(2,(e,t)=>[...e,t]);var vT=e=>e.length===0,nh=vT,Cu=rh,Nr=rh;var ED=(e,t)=>e<0||e>=t.length;var MT=u(2,(e,t)=>{let r=Math.floor(t);return ED(r,e)?g():x(e[r])}),sh=u(2,(e,t)=>{let r=Math.floor(t);if(ED(r,e))throw new Error(`Index ${r} out of bounds`);return e[r]});var _u=MT(0),Ae=sh(0),CD=e=>Nr(e)?x(kT(e)):g(),kT=e=>e[e.length-1];var Yt=e=>e.slice(1);var ih=e=>Array.from(e).reverse();var gn=u(2,(e,t)=>{let r=Array.from(e);return r.sort(t),r});var ah=u(2,(e,t)=>_D(e,t,(r,o)=>[r,o])),_D=u(3,(e,t,r)=>{let o=re(e),n=re(t);return Nr(o)&&Nr(n)?TT(n,r)(o):[]});var TT=u(3,(e,t,r)=>{let o=[r(Ae(e),Ae(t))],n=Math.min(e.length,t.length);for(let s=1;s<n;s++)o[s]=r(e[s],t[s]);return o});var IT=u(2,(e,t)=>{let r=[Ae(e)],o=Yt(e);for(let n of o)r.every(s=>!t(n,s))&&r.push(n);return r});var xn=()=>[],kt=e=>[e],mo=u(2,(e,t)=>e.map(t)),Ts=mo,Ou=u(2,(e,t)=>{if(nh(e))return[];let r=[];for(let o=0;o<e.length;o++)r.push(...t(e[o],o));return r});var wu=Ou(I);var ya=u(2,(e,t)=>{let r=re(e),o=[];for(let n=0;n<r.length;n++){let s=t(r[n],n);P(s)&&o.push(s.value)}return o});var OD=ya(I);var bt=u(3,(e,t,r)=>re(e).reduce((o,n,s)=>r(o,n,s),t)),Ru=u(3,(e,t,r)=>re(e).reduceRight((o,n,s)=>r(o,n,s),t));var ch=(e,t)=>{let r=[],o=e,n;for(;P(n=t(o));){let[s,i]=n.value;r.push(s),o=i}return r};var wD=Lb;var PT=u(2,(e,t)=>{let r=re(e);return Nr(r)?IT(t)(r):[]}),RD=PT(du());var ho=u(2,(e,t)=>re(e).join(t));var FD,uh=Symbol.for("@effect/data/Context/Tag"),Fu=class{[(FD=Uo,F)](t){return this===t}[R](){return Bo(this)}get[uh](){return{_S:t=>t,_I:t=>t}}constructor(t){this._tag="Tag",this.i0=void 0,this.i1=void 0,this.i2=void 0,this[FD]=Wo;let r=Error.stackTraceLimit;if(Error.stackTraceLimit=3,this.creationError=new Error,Error.stackTraceLimit=r,typeof t<"u")return this.i0=t,V(t,()=>this)}get stack(){return this.creationError.stack}toString(){return JSON.stringify(this)}toJSON(){return{_tag:"Tag",identifier:this.i0,stack:this.stack}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}of(t){return t}context(t){return fh(this,t)}},lh=Symbol.for("@effect/data/Context"),dr=class{[F](t){if(ph(t)&&this.unsafeMap.size===t.unsafeMap.size){for(let r of this.unsafeMap.keys())if(!t.unsafeMap.has(r)||!O(this.unsafeMap.get(r),t.unsafeMap.get(r)))return!1;return!0}return!1}[R](){return hu(this.unsafeMap.size)}constructor(t){this.unsafeMap=t,this._id=lh,this._S=r=>r}pipe(){return C(this,arguments)}},NT=e=>{let t=new Error(`Service not found${e.i0?`: ${String(e.i0)}`:""}`);if(e.stack){let r=e.stack.split(`
`);if(r.length>2){let o=r[3].match(/at (.*)/);o&&(t.message=t.message+` (defined at ${o[1]})`)}}if(t.stack){let r=t.stack.split(`
`);r.splice(1,3),t.stack=r.join(`
`)}return t},ph=e=>typeof e=="object"&&e!==null&&"_id"in e&&e._id===lh,AD=e=>typeof e=="object"&&e!==null&&uh in e,vD=()=>new dr(new Map),fh=(e,t)=>new dr(new Map([[e,t]])),MD=u(3,(e,t,r)=>{let o=new Map(e.unsafeMap);return o.set(t,r),new dr(o)}),mh=u(2,(e,t)=>{if(!e.unsafeMap.has(t))throw NT(t);return e.unsafeMap.get(t)}),kD=mh,TD=u(2,(e,t)=>e.unsafeMap.has(t)?x(e.unsafeMap.get(t)):g()),ID=u(2,(e,t)=>{let r=new Map(e.unsafeMap);for(let[o,n]of t.unsafeMap)r.set(o,n);return new dr(r)}),PD=(...e)=>t=>{let r=new Set(e),o=new Map;for(let[n,s]of t.unsafeMap.entries())r.has(n)&&o.set(n,s);return new dr(o)},ND=(...e)=>t=>{let r=new Map(t.unsafeMap);for(let o of e)r.delete(o);return new dr(r)};var Dt=e=>new Fu(e);var qT=ph,LD=AD,Tt=vD,Au=fh,Ie=MD,Lr=kD,Is=mh,hh=TD,yn=ID,HT=PD,jT=ND;var BT=(()=>{let e={[R](){return fo(this)},[F](t){return Array.isArray(t)&&this.length===t.length?this.every((r,o)=>O(r,t[o])):!1}};return Object.setPrototypeOf(e,Array.prototype)})(),UT=(()=>{let e={[R](){return ma(this)},[F](t){let r=Object.keys(this),o=Object.keys(t);if(r.length!==o.length)return!1;for(let n of r)if(!(n in t&&O(this[n],t[n])))return!1;return!0}};return Object.setPrototypeOf(e,Object.prototype)})(),go=e=>qD(Object.assign({},e)),qD=e=>Object.setPrototypeOf(e,UT),WT=(...e)=>dh(e),zT=e=>dh(e.slice(0)),dh=e=>Object.setPrototypeOf(e,BT),KT=()=>e=>go(e===void 0?{}:e);var HD=e=>t=>go(t===void 0?{_tag:e}:{...t,_tag:e}),$T=e=>{class t extends jD{constructor(){super(...arguments),this._tag=e}}return t},jD=(()=>{class e{constructor(r){r&&Object.assign(this,r)}[R](){return ma(this)}[F](r){let o=Object.keys(this),n=Object.keys(r);if(o.length!==n.length)return!1;for(let s of o)if(!(s in r&&O(this[s],r[s])))return!1;return!0}}return e})(),GT=()=>HD;var zD=Symbol.for("@effect/data/Duration"),JT=BigInt(1e3),BD=BigInt(1e9),UD=/^(-?\d+(?:\.\d+)?)\s+(nanos|micros|millis|seconds|minutes|hours|days|weeks)$/,Qe=e=>{if(KD(e))return e;if(mn(e))return Ps(e);if(Rs(e))return vu(e);{UD.lastIndex=0;let t=UD.exec(e);if(t){let[r,o,n]=t,s=Number(o);switch(n){case"nanos":return vu(BigInt(o));case"micros":return ZT(BigInt(o));case"millis":return Ps(s);case"seconds":return xh(s);case"minutes":return QT(s);case"hours":return XT(s);case"days":return e1(s);case"weeks":return t1(s)}}}throw new Error("Invalid duration input")},WD={_tag:"Millis",millis:0},YT={_tag:"Infinity"},gr=class{constructor(t){this._id=zD,mn(t)?isNaN(t)||t<0?this.value=WD:Number.isFinite(t)?Number.isInteger(t)?this.value={_tag:"Millis",millis:t}:this.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:this.value=YT:t<BigInt(0)?this.value=WD:this.value={_tag:"Nanos",nanos:t}}[R](){return ma(this.value)}[F](t){return KD(t)&&n1(this,t)}toString(){switch(this.value._tag){case"Millis":return`Duration("${this.value.millis} millis")`;case"Nanos":return`Duration("${this.value.nanos} nanos")`;case"Infinity":return"Duration(Infinity)"}}toJSON(){return this.value._tag==="Nanos"?{_tag:"Duration",value:{_tag:"Nanos",hrtime:r1(this)}}:{_tag:"Duration",value:this.value}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},KD=e=>de(e)&&"_id"in e&&e._id===zD,gh=new gr(0);var vu=e=>new gr(e),ZT=e=>new gr(e*JT),Ps=e=>new gr(e),xh=e=>new gr(e*1e3),QT=e=>new gr(e*6e4),XT=e=>new gr(e*36e5),e1=e=>new gr(e*864e5),t1=e=>new gr(e*6048e5),qr=e=>{let t=Qe(e);switch(t.value._tag){case"Infinity":return 1/0;case"Nanos":return Number(t.value.nanos)/1e6;case"Millis":return t.value.millis}};var r1=e=>{let t=Qe(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/BD),Number(t.value.nanos%BD)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}};var $D=u(3,(e,t,r)=>{let o=Qe(e),n=Qe(t);if(o.value._tag==="Infinity"||n.value._tag==="Infinity")return r.onMillis(qr(o),qr(n));if(o.value._tag==="Nanos"||n.value._tag==="Nanos"){let s=o.value._tag==="Nanos"?o.value.nanos:BigInt(Math.round(o.value.millis*1e6)),i=n.value._tag==="Nanos"?n.value.nanos:BigInt(Math.round(n.value.millis*1e6));return r.onNanos(s,i)}return r.onMillis(o.value.millis,n.value.millis)});var o1=(e,t)=>$D(e,t,{onMillis:(r,o)=>r===o,onNanos:(r,o)=>r===o});var yh=u(2,(e,t)=>$D(e,t,{onMillis:(r,o)=>r>=o,onNanos:(r,o)=>r>=o})),n1=u(2,(e,t)=>o1(Qe(e),Qe(t)));var bh=Math.pow(2,5),GD=bh-1,VD=bh/2,JD=bh/4;function s1(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function zo(e,t){return t>>>e&GD}function Ko(e){return 1<<e}function Mu(e,t){return s1(e&t-1)}function Dn(e,t,r,o){let n=o;if(!e){let s=o.length;n=new Array(s);for(let i=0;i<s;++i)n[i]=o[i]}return n[t]=r,n}function Dh(e,t,r){let o=r.length-1,n=0,s=0,i=r;if(e)n=s=t;else for(i=new Array(o);n<t;)i[s++]=r[n++];for(++n;n<=o;)i[s++]=r[n++];return e&&(i.length=o),i}function YD(e,t,r,o){let n=o.length;if(e){let c=n;for(;c>=t;)o[c--]=o[c];return o[t]=r,o}let s=0,i=0,a=new Array(n+1);for(;s<t;)a[i++]=o[s++];for(a[t]=r;s<n;)a[++i]=o[s++];return a}var ku=class{constructor(t,r){this.value=t,this.previous=r}};var Hr=class e{constructor(){this._tag="EmptyNode"}modify(t,r,o,n,s,i){let a=o(g());return H(a)?new e:(++i.value,new Ns(t,n,s,a))}};function Zt(e){return e instanceof Hr}function i1(e){return Zt(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function Tu(e,t){return Zt(e)?!1:t===e.edit}var Ns=class e{constructor(t,r,o,n){this.edit=t,this.hash=r,this.key=o,this.value=n,this._tag="LeafNode"}modify(t,r,o,n,s,i){if(O(s,this.key)){let c=o(this.value);return c===this.value?this:H(c)?(--i.value,new Hr):Tu(this,t)?(this.value=c,this):new e(t,n,s,c)}let a=o(g());return H(a)?this:(++i.value,ZD(t,r,this.hash,this,n,new e(t,n,s,a)))}},Sh=class e{constructor(t,r,o){this.edit=t,this.hash=r,this.children=o,this._tag="CollisionNode"}modify(t,r,o,n,s,i){if(n===this.hash){let c=Tu(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,o,s,i);return l===this.children?this:l.length>1?new e(t,this.hash,l):l[0]}let a=o(g());return H(a)?this:(++i.value,ZD(t,r,this.hash,this,n,new Ns(t,n,s,a)))}updateCollisionList(t,r,o,n,s,i,a){let c=n.length;for(let p=0;p<c;++p){let f=n[p];if("key"in f&&O(i,f.key)){let h=f.value,d=s(h);return d===h?n:H(d)?(--a.value,Dh(t,p,n)):Dn(t,p,new Ns(r,o,i,d),n)}}let l=s(g());return H(l)?n:(++a.value,Dn(t,c,new Ns(r,o,i,l),n))}},ba=class e{constructor(t,r,o){this.edit=t,this.mask=r,this.children=o,this._tag="IndexedNode"}modify(t,r,o,n,s,i){let a=this.mask,c=this.children,l=zo(r,n),p=Ko(l),f=Mu(a,p),h=a&p,d=Tu(this,t);if(!h){let B=new Hr().modify(t,r+5,o,n,s,i);return B?c.length>=VD?c1(t,l,B,a,c):new e(t,a|p,YD(d,f,B,c)):this}let S=c[f],w=S.modify(t,r+5,o,n,s,i);if(S===w)return this;let A=a,T;if(Zt(w)){if(A&=~p,!A)return new Hr;if(c.length<=2&&i1(c[f^1]))return c[f^1];T=Dh(d,f,c)}else T=Dn(d,f,w,c);return d?(this.mask=A,this.children=T,this):new e(t,A,T)}},Eh=class e{constructor(t,r,o){this.edit=t,this.size=r,this.children=o,this._tag="ArrayNode"}modify(t,r,o,n,s,i){let a=this.size,c=this.children,l=zo(r,n),p=c[l],f=(p||new Hr).modify(t,r+5,o,n,s,i);if(p===f)return this;let h=Tu(this,t),d;if(Zt(p)&&!Zt(f))++a,d=Dn(h,l,f,c);else if(!Zt(p)&&Zt(f)){if(--a,a<=JD)return a1(t,a,l,c);d=Dn(h,l,new Hr,c)}else d=Dn(h,l,f,c);return h?(this.size=a,this.children=d,this):new e(t,a,d)}};function a1(e,t,r,o){let n=new Array(t-1),s=0,i=0;for(let a=0,c=o.length;a<c;++a)if(a!==r){let l=o[a];l&&!Zt(l)&&(n[s++]=l,i|=1<<a)}return new ba(e,i,n)}function c1(e,t,r,o,n){let s=[],i=o,a=0;for(let c=0;i;++c)i&1&&(s[c]=n[a++]),i>>>=1;return s[t]=r,new Eh(e,a+1,s)}function u1(e,t,r,o,n,s){if(r===n)return new Sh(e,r,[s,o]);let i=zo(t,r),a=zo(t,n);if(i===a)return c=>new ba(e,Ko(i)|Ko(a),[c]);{let c=i<a?[o,s]:[s,o];return new ba(e,Ko(i)|Ko(a),c)}}function ZD(e,t,r,o,n,s){let i,a=t;for(;;){let c=u1(e,a,r,o,n,s);if(typeof c=="function")i=new ku(c,i),a=a+5;else{let l=c;for(;i!=null;)l=i.value(l),i=i.previous;return l}}}var Ch=Symbol.for("@effect/data/HashMap"),Da=class{constructor(t,r,o,n){this._editable=t,this._edit=r,this._root=o,this._size=n,this._id=Ch}[Symbol.iterator](){return new Iu(this,(t,r)=>[t,r])}[R](){let t=E("HashMap");for(let r of this)t^=k(E(r[0]))(E(r[1]));return t}[F](t){if(tS(t)){if(t._size!==this._size)return!1;for(let r of this){let o=Nu(r[0],E(r[0]))(t);if(H(o))return!1;if(!O(r[1],o.value))return!1}return!0}return!1}toString(){return`HashMap(${Array.from(this).map(([t,r])=>`[${String(t)}, ${String(r)}]`).join(", ")})`}toJSON(){return{_tag:"HashMap",values:Array.from(this)}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},Iu=class e{constructor(t,r){this.map=t,this.f=r,this.v=QD(this.map._root,this.f,void 0)}next(){if(H(this.v))return{done:!0,value:void 0};let t=this.v.value;return this.v=Pu(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new e(this.map,this.f)}},Pu=e=>e?XD(e[0],e[1],e[2],e[3],e[4]):g(),QD=(e,t,r=void 0)=>{switch(e._tag){case"LeafNode":return P(e.value)?x({value:t(e.key,e.value.value),cont:r}):Pu(r);case"CollisionNode":case"ArrayNode":case"IndexedNode":{let o=e.children;return XD(o.length,o,0,t,r)}default:return Pu(r)}},XD=(e,t,r,o,n)=>{for(;r<e;){let s=t[r++];if(s&&!Zt(s))return QD(s,o,[e,t,r,o,n])}return Pu(n)},qs=()=>new Da(!1,0,new Hr,0),eS=(...e)=>_h(e),_h=e=>{let t=qu(qs());for(let r of e)Sn(r[0],r[1])(t);return nS(t)},tS=e=>de(e)&&"_id"in e&&e._id===Ch,rS=e=>e&&Zt(e._root),oS=u(2,(e,t)=>Nu(e,t,E(t))),Nu=u(3,(e,t,r)=>{let o=e._root,n=0;for(;;)switch(o._tag){case"LeafNode":return O(t,o.key)?o.value:g();case"CollisionNode":{if(r===o.hash){let s=o.children;for(let i=0,a=s.length;i<a;++i){let c=s[i];if("key"in c&&O(t,c.key))return c.value}}return g()}case"IndexedNode":{let s=zo(n,r),i=Ko(s);if(o.mask&i){o=o.children[Mu(o.mask,i)],n+=5;break}return g()}case"ArrayNode":{if(o=o.children[zo(n,r)],o){n+=5;break}return g()}default:return g()}});var Oh=u(2,(e,t)=>P(Nu(e,t,E(t))));var Sn=u(3,(e,t,r)=>wh(e,t,()=>x(r))),p1=u(3,(e,t,r)=>e._editable?(e._root=t,e._size=r,e):t===e._root?e:new Da(e._editable,e._edit,t,r)),Lu=e=>new Iu(e,t=>t);var Hs=e=>e._size,qu=e=>new Da(!0,e._edit+1,e._root,e._size),nS=e=>(e._editable=!1,e);var wh=u(3,(e,t,r)=>sS(e,t,E(t),r)),sS=u(4,(e,t,r,o)=>{let n={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,o,r,t,n);return p1(s,n.value)(e)});var Sa=u(2,(e,t)=>wh(e,t,g));var iS=u(2,(e,t)=>js(e,qs(),(r,o,n)=>Sn(r,n,t(o,n))));var Hu=u(2,(e,t)=>js(e,void 0,(r,o,n)=>t(o,n))),js=u(3,(e,t,r)=>{let o=e._root;if(o._tag==="LeafNode")return P(o.value)?r(t,o.value.value,o.key):t;if(o._tag==="EmptyNode")return t;let n=[o.children],s;for(;s=n.pop();)for(let i=0,a=s.length;i<a;){let c=s[i++];c&&!Zt(c)&&(c._tag==="LeafNode"?P(c.value)&&(t=r(t,c.value.value,c.key)):n.push(c.children))}return t});var Rh=Symbol.for("@effect/data/HashSet"),Bs=class{constructor(t){this._keyMap=t,this._id=Rh}[Symbol.iterator](){return Lu(this._keyMap)}[R](){return k(E(this._keyMap))(E("HashSet"))}[F](t){return cS(t)?Hs(this._keyMap)===Hs(t._keyMap)&&O(this._keyMap,t._keyMap):!1}toString(){return`HashSet(${Array.from(this).map(String).join(", ")})`}toJSON(){return{_tag:"HashSet",values:Array.from(this)}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},cS=e=>de(e)&&"_id"in e&&e._id===Rh,Ea=()=>new Bs(qs()),uS=e=>{let t=ju(Ea());for(let r of e)Us(t,r);return Bu(t)},lS=(...e)=>{let t=ju(Ea());for(let r of e)Us(t,r);return Bu(t)},pS=u(2,(e,t)=>Oh(e._keyMap,t));var fS=e=>Hs(e._keyMap),ju=e=>new Bs(qu(e._keyMap)),Bu=e=>(e._keyMap._editable=!1,e),Fh=u(2,(e,t)=>{let r=ju(e);return t(r),Bu(r)}),Us=u(2,(e,t)=>e._keyMap._editable?(Sn(t,!0)(e._keyMap),e):new Bs(Sn(t,!0)(e._keyMap))),Ah=u(2,(e,t)=>e._keyMap._editable?(Sa(t)(e._keyMap),e):new Bs(Sa(t)(e._keyMap))),mS=u(2,(e,t)=>Fh(e,r=>{for(let o of t)Ah(r,o)}));var hS=u(2,(e,t)=>Fh(Ea(),r=>{dS(e,o=>Us(r,o));for(let o of t)Us(r,o)}));var dS=u(2,(e,t)=>Hu(e._keyMap,(r,o)=>t(o))),gS=u(3,(e,t,r)=>js(e._keyMap,t,(o,n,s)=>r(o,s)));var xo=qs,xS=eS,Uu=_h,yS=rS,Ca=oS;var jr=Sn,vh=Lu;var Wu=Hs;var bS=Sa;var DS=iS;var SS=Hu,Mh=js;var m1=Symbol.for("@effect/data/MutableRef"),kh=class{constructor(t){this.current=t,this._T=r=>r,this._id=m1}toString(){return`MutableRef(${String(this.current)})`}toJSON(){return{_tag:"MutableRef",current:this.current}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},St=e=>new kh(e),zu=u(3,(e,t,r)=>O(t,e.current)?(e.current=r,!0):!1);var Pt=e=>e.current;var ES=e=>d1(e,t=>t+1),Qt=u(2,(e,t)=>(e.current=t,e)),h1=u(2,(e,t)=>(e.current=t,e.current)),Th=u(2,(e,t)=>Qt(e,t(Pt(e)))),d1=u(2,(e,t)=>h1(e,t(Pt(e))));var g1=Symbol.for("@effect/data/MutableHashMap"),Ih=class{constructor(){this._id=g1,this.backingMap=St(xo())}[Symbol.iterator](){return this.backingMap.current[Symbol.iterator]()}toString(){return`MutableHashMap(${Array.from(this).map(([t,r])=>`[${String(t)}, ${String(r)}]`).join(", ")})`}toJSON(){return{_tag:"MutableHashMap",values:Array.from(this)}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},_n=()=>new Ih;var _e=u(2,(e,t)=>Ca(e.backingMap.current,t)),xr=u(2,(e,t)=>P(_e(e,t)));var On=u(2,(e,t)=>(Th(e.backingMap,bS(t)),e)),Et=u(3,(e,t,r)=>(Th(e.backingMap,jr(t,r)),e)),Ku=e=>Wu(Pt(e.backingMap));var CS=Symbol.for("@effect/data/Chunk");function x1(e,t,r,o,n){for(let s=t;s<Math.min(e.length,t+n);s++)r[o+s-t]=e[s];return r}var _S=[],y1=e=>Os((t,r)=>at(t).every((o,n)=>e(o,$o(r,n)))),b1=y1(O),ce=class{constructor(t){switch(this.backing=t,this._id=CS,t._tag){case"IEmpty":{this.length=0,this.depth=0,this.left=this,this.right=this;break}case"IConcat":{this.length=t.left.length+t.right.length,this.depth=1+Math.max(t.left.depth,t.right.depth),this.left=t.left,this.right=t.right;break}case"IArray":{this.length=t.array.length,this.depth=0,this.left=yr,this.right=yr;break}case"ISingleton":{this.length=1,this.depth=0,this.left=yr,this.right=yr;break}case"ISlice":{this.length=t.length,this.depth=t.chunk.depth+1,this.left=yr,this.right=yr;break}}}toString(){return`Chunk(${at(this).map(String).join(", ")})`}toJSON(){return{_tag:"Chunk",values:at(this)}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}[F](t){return OS(t)&&b1(this,t)}[R](){return fo(at(this))}[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return _S[Symbol.iterator]();default:return at(this)[Symbol.iterator]()}}pipe(){return C(this,arguments)}},OS=e=>de(e)&&"_id"in e&&e._id===CS,yr=new ce({_tag:"IEmpty"}),ct=()=>yr;var ve=e=>new ce({_tag:"ISingleton",a:e}),Br=e=>OS(e)?e:new ce({_tag:"IArray",array:re(e)}),Nh=(e,t,r)=>{switch(e.backing._tag){case"IArray":{x1(e.backing.array,0,t,r,e.length);break}case"IConcat":{Nh(e.left,t,r),Nh(e.right,t,r+e.left.length);break}case"ISingleton":{t[r]=e.backing.a;break}case"ISlice":{let o=0,n=r;for(;o<e.length;)t[n]=$o(e,o),o+=1,n+=1;break}}},at=e=>{switch(e.backing._tag){case"IEmpty":return _S;case"IArray":return e.backing.array;default:{let t=new Array(e.length);return Nh(e,t,0),e.backing={_tag:"IArray",array:t},e.left=yr,e.right=yr,e.depth=0,t}}},yo=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return new ce({_tag:"IArray",array:ih(e.backing.array)});case"IConcat":return new ce({_tag:"IConcat",left:yo(e.backing.right),right:yo(e.backing.left)});case"ISlice":return Nt(ih(at(e)))}},D1=u(2,(e,t)=>t<0||t>=e.length?g():x($o(e,t))),Nt=e=>new ce({_tag:"IArray",array:e});var $o=u(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?$o(e.left,t):$o(e.right,t-e.left.length);case"ISlice":return $o(e.backing.chunk,t+e.backing.offset)}}),$u=u(2,(e,t)=>wS(e,ve(t))),Pe=u(2,(e,t)=>wS(ve(t),e)),Lh=u(2,(e,t)=>{if(t<=0)return yr;if(t>=e.length)return e;switch(e.backing._tag){case"ISlice":return new ce({_tag:"ISlice",chunk:e.backing.chunk,length:t,offset:e.backing.offset});case"IConcat":return t>e.left.length?new ce({_tag:"IConcat",left:e.left,right:Lh(e.right,t-e.left.length)}):Lh(e.left,t);default:return new ce({_tag:"ISlice",chunk:e,offset:0,length:t})}}),Ws=u(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return yr;switch(e.backing._tag){case"ISlice":return new ce({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?Ws(e.right,t-e.left.length):new ce({_tag:"IConcat",left:Ws(e.left,t),right:e.right});default:return new ce({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}});var br=u(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;let r=t.depth-e.depth;if(Math.abs(r)<=1)return new ce({_tag:"IConcat",left:e,right:t});if(r<-1)if(e.left.depth>=e.right.depth){let o=br(e.right,t);return new ce({_tag:"IConcat",left:e.left,right:o})}else{let o=br(e.right.right,t);if(o.depth===e.depth-3){let n=new ce({_tag:"IConcat",left:e.right.left,right:o});return new ce({_tag:"IConcat",left:e.left,right:n})}else{let n=new ce({_tag:"IConcat",left:e.left,right:e.right.left});return new ce({_tag:"IConcat",left:n,right:o})}}else if(t.right.depth>=t.left.depth){let o=br(e,t.left);return new ce({_tag:"IConcat",left:o,right:t.right})}else{let o=br(e,t.left.left);if(o.depth===t.depth-3){let n=new ce({_tag:"IConcat",left:o,right:t.left.right});return new ce({_tag:"IConcat",left:n,right:t.right})}else{let n=new ce({_tag:"IConcat",left:t.left.right,right:t.right});return new ce({_tag:"IConcat",left:o,right:n})}}}),wS=u(2,(e,t)=>br(e,t));var zs=e=>e.length===0,Xe=e=>e.length>0,wn=D1(0),Rn=e=>$o(e,0),et=Rn;var RS=e=>$o(e,e.length-1),qh=u(2,(e,t)=>e.backing._tag==="ISingleton"?ve(t(e.backing.a,0)):Nt(mo((r,o)=>t(r,o))(at(e))));var Gu=u(2,(e,t)=>Nt(gn(at(e),t)));var S1=u(2,(e,t)=>[Lh(e,t),Ws(e,t)]);var FS=u(2,(e,t)=>{let r=0;for(let o of at(e)){if(t(o))break;r++}return S1(e,r)});var tt=e=>Ws(e,1);var AS=e=>Nt(RD(at(e)));var E1=Symbol.for("@effect/data/MutableList"),Hh=class{constructor(){this._id=E1,this.head=void 0,this.tail=void 0,this._length=0}[Symbol.iterator](){let t=!1,r=this.head;return{next(){if(t)return this.return();if(r==null)return t=!0,this.return();let o=r.value;return r=r.next,{done:t,value:o}},return(o){return t||(t=!0),{done:!0,value:o}}}}toString(){return`MutableList(${Array.from(this).map(String).join(", ")})`}toJSON(){return{_tag:"MutableList",values:Array.from(this)}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}},jh=class{constructor(t){this.value=t,this.removed=!1,this.prev=void 0,this.next=void 0}},vS=()=>new Hh;var MS=e=>Bh(e)===0,Bh=e=>e._length;var kS=u(2,(e,t)=>{let r=new jh(t);return e.head===void 0&&(e.head=r),e.tail===void 0||(e.tail.next=r,r.prev=e.tail),e.tail=r,e._length+=1,e}),TS=e=>{let t=e.head;if(t!==void 0)return C1(e,t),t.value};var C1=(e,t)=>{t.removed||(t.removed=!0,t.prev!==void 0&&t.next!==void 0?(t.prev.next=t.next,t.next.prev=t.prev):t.prev!==void 0?(e.tail=t.prev,t.prev.next=void 0):t.next!==void 0?(e.head=t.next,t.next.prev=void 0):(e.tail=void 0,e.head=void 0),e._length>0&&(e._length-=1))};var O1=Symbol.for("@effect/data/MutableQueue"),Wh=Symbol.for("@effect/data/mutable/MutableQueue/Empty"),Uh=class{constructor(t=void 0){this.capacity=t,this._tag="Bounded",this._id=O1,this.queue=vS()}[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()}toString(){return`MutableQueue(${Array.from(this).map(String).join(", ")})`}toJSON(){return{_tag:"MutableQueue",values:Array.from(this)}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}pipe(){return C(this,arguments)}};var IS=()=>new Uh;var PS=u(2,(e,t)=>{let r=Bh(e.queue);return e.capacity!==void 0&&r===e.capacity?!1:(kS(t)(e.queue),!0)});var NS=u(2,(e,t)=>MS(e.queue)?t:TS(e.queue));var Ks=Symbol.for("@effect/data/Differ/ContextPatch");function Ur(e){return e}var zh=class{constructor(){this._tag="Empty",this._Input=Ur,this._Output=Ur,this._id=Ks}[R](){return He("ContextPatch(Empty)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id}},Kh=class{constructor(t,r){this.first=t,this.second=r,this._tag="AndThen",this._id=Ks,this._Input=Ur,this._Output=Ur}[R](){return He("ContextPatch(AndThen)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id&&O(this.first,t.first)&&O(this.second,t.second)}},$h=class{constructor(t,r){this.tag=t,this.service=r,this._tag="AddService",this._id=Ks,this._Input=Ur,this._Output=Ur}[R](){return He("ContextPatch(AddService)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id&&O(this.tag,t.tag)&&O(this.service,t.service)}},Gh=class{constructor(t){this.tag=t,this._tag="RemoveService",this._id=Ks,this._Input=Ur,this._Output=Ur}[R](){return He("ContextPatch(RemoveService)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id&&O(this.tag,t.tag)}},Vh=class{constructor(t,r){this.tag=t,this.update=r,this._tag="UpdateService",this._id=Ks,this._Input=Ur,this._Output=Ur}[R](){return He("ContextPatch(AndThen)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id&&O(this.tag,t.tag)&&O(this.update,t.update)}},Jh=()=>new zh,LS=(e,t)=>{let r=new Map(e.unsafeMap),o=Jh();for(let[n,s]of t.unsafeMap.entries())if(r.has(n)){let i=r.get(n);r.delete(n),O(i,s)||(o=_a(new Vh(n,()=>s))(o))}else r.delete(n),o=_a(new $h(n,s))(o);for(let[n]of r.entries())o=_a(new Gh(n))(o);return o},_a=u(2,(e,t)=>new Kh(e,t)),qS=u(2,(e,t)=>{let r=!1,o=ve(e),n=new Map(t.unsafeMap);for(;Xe(o);){let i=et(o),a=tt(o);switch(i._tag){case"Empty":{o=a;break}case"AddService":{n.set(i.tag,i.service),o=a;break}case"AndThen":{o=Pe(Pe(a,i.second),i.first);break}case"RemoveService":{n.delete(i.tag),o=a;break}case"UpdateService":{n.set(i.tag,i.update(n.get(i.tag))),r=!0,o=a;break}}}if(!r)return new dr(n);let s=new Map;for(let[i]of t.unsafeMap)n.has(i)&&(s.set(i,n.get(i)),n.delete(i));for(let[i,a]of n)s.set(i,a);return new dr(s)});var Vu=Jh,HS=LS,jS=_a,BS=qS;var rt=Ea,Ct=uS,bo=lS,WS=pS;var Do=fS;var Wr=Us,Yh=Ah,Zh=mS;var ot=hS;var Fn=gS;var Oa=Symbol.for("@effect/data/Differ/HashSetPatch");function Yu(e){return e}var Qh=class{constructor(){this._tag="Empty",this._Value=Yu,this._id=Oa}[R](){return He("HashSetPatch(Empty)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id}},Xh=class{constructor(t,r){this.first=t,this.second=r,this._tag="AndThen",this._Value=Yu,this._id=Oa}[R](){return He("HashSetPatch(AndThen)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id&&O(this.first,t.first)&&O(this.second,t.second)}},ed=class{constructor(t){this.value=t,this._tag="Add",this._Value=Yu,this._id=Oa}[R](){return He("HashSetPatch(Add)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id&&O(this.value,t.value)}},td=class{constructor(t){this.value=t,this._tag="Remove",this._Value=Yu,this._id=Oa}[R](){return He("HashSetPatch(Remove)")}[F](t){return typeof t=="object"&&t!==null&&"_id"in t&&t._id===this._id&&"_tag"in t&&t._tag===this._id&&O(this.value,t.value)}},rd=()=>new Qh,zS=(e,t)=>{let[r,o]=Fn([e,rd()],([n,s],i)=>WS(i)(n)?[Yh(i)(n),s]:[n,Ju(new ed(i))(s)])(t);return Fn(o,(n,s)=>Ju(new td(s))(n))(r)},Ju=u(2,(e,t)=>new Xh(e,t)),KS=u(2,(e,t)=>{let r=t,o=ve(e);for(;Xe(o);){let n=et(o),s=tt(o);switch(n._tag){case"Empty":{o=s;break}case"AndThen":{o=Pe(n.first)(Pe(n.second)(s));break}case"Add":{r=Wr(n.value)(r),o=s;break}case"Remove":r=Yh(n.value)(r),o=s}}return r});var Zu=rd,$S=zS,GS=Ju,VS=KS;var YS=Symbol.for("@effect/data/Differ"),od=class{constructor(t){this._id=YS,this._P=I,this._V=I,this.empty=t.empty,this.diff=t.diff,this.combine=t.combine,this.patch=t.patch}},wa=e=>new od(e),ZS=()=>wa({empty:Vu(),combine:(e,t)=>jS(t)(e),diff:(e,t)=>HS(e,t),patch:(e,t)=>BS(t)(e)});var QS=()=>wa({empty:Zu(),combine:(e,t)=>GS(t)(e),diff:(e,t)=>$S(e,t),patch:(e,t)=>VS(t)(e)});var XS=()=>eE((e,t)=>t),eE=e=>wa({empty:I,combine:(t,r)=>t===I?r:r===I?t:o=>r(t(o)),diff:(t,r)=>O(t,r)?I:Cs(r),patch:(t,r)=>e(r,t(r))});var tE=u(3,(e,t,r)=>e.diff(t,r)),rE=u(3,(e,t,r)=>e.combine(t,r)),oE=u(3,(e,t,r)=>e.patch(t,r)),Qu=wa,nE=ZS;var sE=QS;var iE=XS;var id=Symbol.for("@effect/data/List"),Ra=e=>Array.from(e),M1=e=>Nb(wD(e),Ra),k1=M1(O),$s=class{constructor(t,r){this.head=t,this.tail=r,this._tag="Cons",this._id=id}toString(){return`List.Cons(${Ra(this).map(String).join(", ")})`}toJSON(){return{_tag:"List.Cons",values:Ra(this)}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}[F](t){return aE(t)&&this._tag===t._tag&&k1(this,t)}[R](){return fo(Ra(this))}[Symbol.iterator](){let t=!1,r=this;return{next(){if(t)return this.return();if(r._tag==="Nil")return t=!0,this.return();let o=r.head;return r=r.tail,{done:t,value:o}},return(o){return t||(t=!0),{done:!0,value:o}}}}pipe(){return C(this,arguments)}},sd=class{constructor(){this._tag="Nil",this._id=id}toString(){return"List.Nil"}toJSON(){return{_tag:"List.Nil"}}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}[R](){return fo(Ra(this))}[F](t){return aE(t)&&this._tag===t._tag}[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}}pipe(){return C(this,arguments)}},aE=e=>de(e)&&"_id"in e&&e._id===id,_t=e=>e._tag==="Nil",Fa=e=>e._tag==="Cons";var cE=new sd,T1=()=>cE,So=(e,t)=>new $s(e,t),Dr=T1,Aa=e=>new $s(e,cE);var uE=u(2,(e,t)=>I1(t,e));var Go=u(2,(e,t)=>So(t,e)),I1=u(2,(e,t)=>{if(_t(e))return t;if(_t(t))return e;{let r=new $s(t.head,e),o=r,n=t.tail;for(;!_t(n);){let s=new $s(n.head,e);o.tail=s,o=s,n=n.tail}return r}});var lE=u(2,(e,t)=>{let r=e;for(;!_t(r);){if(t(r.head))return x(r.head);r=r.tail}return g()});var Xu=e=>_t(e)?g():x(e.head);var pE=u(3,(e,t,r)=>{let o=t,n=e;for(;!_t(n);)o=r(o,n.head),n=n.tail;return o});var fE=e=>{let t=Dr(),r=e;for(;!_t(r);)t=Go(t,r.head),r=r.tail;return t};var mE,hE,dE,tl="@effect/io/Fiber/Id",Vo=Symbol.for(tl),va="None",ad="Runtime",cd="Composite",ud=class{constructor(){this[mE]=Vo,this._tag=va}[(mE=Vo,R)](){return k(E(this._tag))(E(tl))}[F](t){return ol(t)&&t._tag===va}},ld=class{constructor(t,r){this.id=t,this.startTimeMillis=r,this[hE]=Vo,this._tag=ad}[(hE=Vo,R)](){return k(E(this.startTimeMillis))(k(E(this.id))(k(E(this._tag))(E(tl))))}[F](t){return ol(t)&&t._tag===ad&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}},pd=class{constructor(t,r){this.left=t,this.right=r,this[dE]=Vo,this._tag=cd}[(dE=Vo,R)](){return k(E(this.right))(k(E(this.left))(k(E(this._tag))(E(tl))))}[F](t){return ol(t)&&t._tag===cd&&O(this.left,t.left)&&O(this.right,t.right)}},rl=new ud;var ol=e=>typeof e=="object"&&e!=null&&Vo in e;var xE=u(2,(e,t)=>e._tag===va?t:t._tag===va?e:new pd(e,t));var el=e=>{switch(e._tag){case va:return rt();case ad:return bo(e.id);case cd:return ot(el(e.right))(el(e.left))}},gE=V(Symbol.for("@effect/io/Fiber/Id/_fiberCounter"),()=>St(0));var nl=e=>Array.from(el(e)).map(r=>`#${r}`).join(",");var yE=()=>{let e=Pt(gE);return Qt(e+1)(gE),new ld(e,new Date().getTime())};var ut=rl;var fd=xE;var DE=nl;var sl=yE;var An="Die",Jo="Empty",vn="Fail",Js="Interrupt",Mn="Annotated",kn="Parallel",Tn="Sequential";var wE="@effect/io/Cause",xd=Symbol.for(wE),N1={_E:e=>e},Pn={[xd]:N1,[R](){return k(E(q1(this)))(E(wE))},[F](e){return ul(e)&&L1(this,e)},pipe(){return C(this,arguments)},toJSON(){return{_tag:"Cause",errors:ml(this)}},toString(){return _o(this)},[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}},lt=(()=>{let e=Object.create(Pn);return e._tag=Jo,e})(),Nn=e=>{let t=Object.create(Pn);return t._tag=vn,t.error=e,t},$e=e=>{let t=Object.create(Pn);return t._tag=An,t.defect=e,t},Sr=e=>{let t=Object.create(Pn);return t._tag=Js,t.fiberId=e,t},Yo=(e,t)=>{let r=Object.create(Pn);return r._tag=Mn,r.cause=e,r.annotation=t,r},Be=(e,t)=>{let r=Object.create(Pn);return r._tag=kn,r.left=e,r.right=t,r},Me=(e,t)=>{let r=Object.create(Pn);return r._tag=Tn,r.left=e,r.right=t,r},ul=e=>typeof e=="object"&&e!=null&&xd in e,yd=e=>e._tag===Jo;var ll=e=>e._tag===An;var bd=e=>e._tag===Jo?!0:In(e,!0,(t,r)=>{switch(r._tag){case Jo:return x(t);case An:case vn:case Js:return x(!1);default:return g()}});var Zo=e=>fl(void 0,j1)(e),Ma=e=>yo(In(e,ct(),(t,r)=>r._tag===vn?x(Pe(r.error)(t)):g())),pl=e=>yo(In(e,ct(),(t,r)=>r._tag===An?x(Pe(r.defect)(t)):g())),ka=e=>In(e,rt(),(t,r)=>r._tag===Js?x(Wr(r.fiberId)(t)):g()),RE=e=>Ta(e,t=>t._tag===vn?x(t.error):g()),Eo=e=>{let t=RE(e);switch(t._tag){case"None":return q(e);case"Some":return z(t.value)}};var Dd=e=>Zs(e,{onEmpty:g(),onFail:()=>g(),onDie:t=>x($e(t)),onInterrupt:()=>g(),onAnnotated:(t,r)=>te(o=>Yo(o,r))(t),onSequential:(t,r)=>P(t)&&P(r)?x(Me(t.value,r.value)):P(t)&&H(r)?x(t.value):H(t)&&P(r)?x(r.value):g(),onParallel:(t,r)=>P(t)&&P(r)?x(Be(t.value,r.value)):P(t)&&H(r)?x(t.value):H(t)&&P(r)?x(r.value):g()}),FE=e=>Zs(e,{onEmpty:g(),onFail:t=>x($e(t)),onDie:t=>x($e(t)),onInterrupt:()=>g(),onAnnotated:(t,r)=>te(o=>Yo(o,r))(t),onSequential:(t,r)=>P(t)&&P(r)?x(Me(t.value,r.value)):P(t)&&H(r)?x(t.value):H(t)&&P(r)?x(r.value):g(),onParallel:(t,r)=>P(t)&&P(r)?x(Be(t.value,r.value)):P(t)&&H(r)?x(t.value):H(t)&&P(r)?x(r.value):g()});var Ys=e=>Zs(e,{onEmpty:lt,onFail:()=>lt,onDie:t=>$e(t),onInterrupt:t=>Sr(t),onAnnotated:(t,r)=>yd(t)?t:Yo(t,r),onSequential:Me,onParallel:Be}),AE=e=>Zs(e,{onEmpty:lt,onFail:t=>$e(t),onDie:t=>$e(t),onInterrupt:t=>Sr(t),onAnnotated:(t,r)=>yd(t)?t:Yo(t,r),onSequential:(t,r)=>Me(t,r),onParallel:(t,r)=>Be(t,r)});var vE=u(2,(e,t)=>Zs(e,{onEmpty:lt,onFail:r=>t(r),onDie:r=>$e(r),onInterrupt:r=>Sr(r),onAnnotated:(r,o)=>Yo(r,o),onSequential:(r,o)=>Me(r,o),onParallel:(r,o)=>Be(r,o)})),Sd=e=>vE(e,I);var L1=(e,t)=>{let r=ve(e),o=ve(t);for(;Xe(r)&&Xe(o);){let[n,s]=In([rt(),ct()],([c,l],p)=>{let[f,h]=md(p);return x([ot(f)(c),br(h)(l)])})(et(r)),[i,a]=In([rt(),ct()],([c,l],p)=>{let[f,h]=md(p);return x([ot(f)(c),br(h)(l)])})(et(o));if(!O(n,i))return!1;r=s,o=a}return!0},q1=e=>H1(ve(e),ct()),H1=(e,t)=>{for(;;){let[r,o]=bt([rt(),ct()],([s,i],a)=>{let[c,l]=md(a);return[ot(c)(s),br(l)(i)]})(e),n=Do(r)>0?Pe(r)(t):t;if(zs(o))return yo(n);e=o,t=n}throw new Error("BUG: Cause.flattenCauseLoop - please report an issue at https://github.com/Effect-TS/io/issues")};var Ta=u(2,(e,t)=>{let r=[e];for(;r.length>0;){let o=r.pop(),n=t(o);switch(n._tag){case"None":{switch(o._tag){case Tn:case kn:{r.push(o.right),r.push(o.left);break}case Mn:{r.push(o.cause);break}}break}case"Some":return n}}return g()});var md=e=>{let t=e,r=[],o=rt(),n=ct();for(;t!==void 0;)switch(t._tag){case Jo:{if(r.length===0)return[o,n];t=r.pop();break}case vn:{if(r.length===0)return[Wr(t.error)(o),n];o=Wr(t.error)(o),t=r.pop();break}case An:{if(r.length===0)return[Wr(t.defect)(o),n];o=Wr(t.defect)(o),t=r.pop();break}case Js:{if(r.length===0)return[Wr(t.fiberId)(o),n];o=Wr(t.fiberId)(o),t=r.pop();break}case Mn:{t=t.cause;break}case Tn:{switch(t.left._tag){case Jo:{t=t.right;break}case Tn:{t=Me(t.left.left,Me(t.left.right,t.right));break}case kn:{t=Be(Me(t.left.left,t.right),Me(t.left.right,t.right));break}case Mn:{t=Me(t.left.cause,t.right);break}default:{n=Pe(t.right)(n),t=t.left;break}}break}case kn:{r.push(t.right),t=t.left;break}}throw new Error("BUG: Cause.evaluateCauseLoop - please report an issue at https://github.com/Effect-TS/io/issues")};var j1={emptyCase:Ir,failCase:Vt,dieCase:Vt,interruptCase:Ir,annotatedCase:(e,t)=>t,sequentialCase:(e,t,r)=>t&&r,parallelCase:(e,t,r)=>t&&r};var SE="SequentialCase",EE="ParallelCase",CE="AnnotatedCase",Zs=u(2,(e,{onAnnotated:t,onDie:r,onEmpty:o,onFail:n,onInterrupt:s,onParallel:i,onSequential:a})=>fl(e,void 0,{emptyCase:()=>o,failCase:(c,l)=>n(l),dieCase:(c,l)=>r(l),interruptCase:(c,l)=>s(l),annotatedCase:(c,l,p)=>t(l,p),sequentialCase:(c,l,p)=>a(l,p),parallelCase:(c,l,p)=>i(l,p)})),In=u(3,(e,t,r)=>{let o=t,n=e,s=[];for(;n!==void 0;){let i=r(o,n);switch(o=P(i)?i.value:o,n._tag){case Tn:{s.push(n.right),n=n.left;break}case kn:{s.push(n.right),n=n.left;break}case Mn:{n=n.cause;break}default:{n=void 0;break}}n===void 0&&s.length>0&&(n=s.pop())}return o}),fl=u(3,(e,t,r)=>{let o=[e],n=[];for(;o.length>0;){let i=o.pop();switch(i._tag){case Jo:{n.push(q(r.emptyCase(t)));break}case vn:{n.push(q(r.failCase(t,i.error)));break}case An:{n.push(q(r.dieCase(t,i.defect)));break}case Js:{n.push(q(r.interruptCase(t,i.fiberId)));break}case Mn:{o.push(i.cause),n.push(z({_tag:CE,annotation:i.annotation}));break}case Tn:{o.push(i.right),o.push(i.left),n.push(z({_tag:SE}));break}case kn:{o.push(i.right),o.push(i.left),n.push(z({_tag:EE}));break}}}let s=[];for(;n.length>0;){let i=n.pop();switch(i._tag){case"Left":{switch(i.left._tag){case SE:{let a=s.pop(),c=s.pop(),l=r.sequentialCase(t,a,c);s.push(l);break}case EE:{let a=s.pop(),c=s.pop(),l=r.parallelCase(t,a,c);s.push(l);break}case CE:{let a=s.pop(),c=r.annotatedCase(t,a,i.left.annotation);s.push(c);break}}break}case"Right":{s.push(i.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/io/issues");return s.pop()}),Ia=(e,t)=>{let r={value:t,enumerable:!0},o={...e,toString(){return`${this._tag}: ${this.message}`}};return n=>Object.create(o,{_tag:r,message:{value:n,enumerable:!0}})},hd=Symbol.for("@effect/io/Cause/errors/RuntimeException"),Ed=Ia({[hd]:hd},"RuntimeException");var il=Symbol.for("@effect/io/Cause/errors/InterruptedException"),B1=Ia({[il]:il},"InterruptedException"),Cd=e=>typeof e=="object"&&e!=null&&il in e,dd=Symbol.for("@effect/io/Cause/errors/IllegalArgument"),Qs=Ia({[dd]:dd},"IllegalArgumentException");var al=Symbol.for("@effect/io/Cause/errors/NoSuchElement"),Co=Ia({[al]:al},"NoSuchElementException"),_d=e=>typeof e=="object"&&e!=null&&al in e,gd=Symbol.for("@effect/io/Cause/errors/InvalidHubCapacityException"),Pz=Ia({[gd]:gd},"InvalidHubCapacityException");var cl=Symbol.for("@effect/io/Cause/SpanAnnotation"),U1=e=>typeof e=="object"&&e!==null&&cl in e,ME=e=>({_tag:"SpanAnnotation",[cl]:cl,span:e});var _E=e=>{if(typeof e=="object"&&e!=null&&"toString"in e&&typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString();if(typeof e=="string")return`Error: ${e}`;if(typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"){let t=JSON.parse(JSON.stringify(e)),r=new Set(Object.keys(t));if(r.delete("name"),r.delete("message"),r.delete("_tag"),r.size===0)return`${"name"in e&&typeof e.name=="string"?e.name:"Error"}${"_tag"in e&&typeof e._tag=="string"?`(${e._tag})`:""}: ${e.message}`}return`Error: ${JSON.stringify(e)}`},OE=e=>e instanceof Error?[_E(e),e.stack?.split(`
`).filter(t=>!t.startsWith("Error")).join(`
`)]:[_E(e),void 0];var W1=e=>{let t=e.split(`
`),r=[];for(let o=0;o<t.length;o++){if(t[o].includes("EffectPrimitive")||t[o].includes("Generator.next")||t[o].includes("FiberRuntime"))return r.join(`
`);r.push(t[o])}return r.join(`
`)},_o=e=>{if(Zo(e))return"All fibers interrupted without errors.";let t=ml(e).map(r=>{let o=r.message;if(r.stack&&(o+=`\r
${W1(r.stack)}`),r.span){let n=r.span,s=0;for(;n&&n._tag==="Span"&&s<10;)o+=`\r
    at ${n.name}`,n=Ke(n.parent),s++}return o}).join(`\r
\r
`);return t.includes(`\r
`)?`\r
${t}\r
`:t},ml=e=>fl(e,void 0,{emptyCase:()=>[],dieCase:(t,r)=>{let o=OE(r);return[{message:o[0],stack:o[1],span:void 0}]},failCase:(t,r)=>{let o=OE(r);return[{message:o[0],stack:o[1],span:void 0}]},interruptCase:()=>[],parallelCase:(t,r,o)=>[...r,...o],sequentialCase:(t,r,o)=>[...r,...o],annotatedCase:(t,r,o)=>U1(o)?r.map(n=>({...n,span:n.span??o.span})):r});var kE=_o;var Pa=255,TE=8,hl=e=>e&Pa,dl=e=>e>>TE&Pa,qn=(e,t)=>(e&Pa)+((t&e&Pa)<<TE),gl=qn(0,0),IE=e=>qn(e,e),PE=e=>qn(e,0);var NE=u(2,(e,t)=>qn(hl(e)&~t,dl(e)));var Od=u(2,(e,t)=>e|t);var LE=e=>~e>>>0&Pa;var HE=0,Er=1,wd=2,xl=4,Na=16,yl=32;var Rd=e=>La(e,yl);var Fd=u(2,(e,t)=>e|t);var zr=e=>Xs(e)&&!jE(e),Xs=e=>La(e,Er);var La=u(2,(e,t)=>(e&t)!==0),bl=(...e)=>e.reduce((t,r)=>t|r,0),Ad=bl(HE);var qa=e=>La(e,xl);var jE=e=>La(e,Na);var Hn=u(2,(e,t)=>qn(e^t,t)),ei=u(2,(e,t)=>e&(LE(hl(t))|dl(t))|hl(t)&dl(t));var vd=Qu({empty:gl,diff:(e,t)=>Hn(e,t),combine:(e,t)=>Od(t)(e),patch:(e,t)=>ei(t,e)});var Sl=gl;var Md=IE,kd=PE;var Td=NE;var UE,WE,zE,KE={_tag:"Empty"},jn=(e,t)=>({_tag:"Par",left:e,right:t}),El=(e,t)=>({_tag:"Seq",left:e,right:t}),Nd=(e,t)=>({_tag:"Single",dataSource:e,blockedRequest:t});var $E=e=>{let t=Aa(e),r=Dr();for(;;){let[o,n]=pE(t,[GE(),Dr()],([s,i],a)=>{let[c,l]=V1(a);return[VE(s,c),uE(i,l)]});if(r=J1(r,o),_t(n))return fE(r);t=n}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/query/issues")},V1=e=>{let t=e,r=GE(),o=Dr(),n=Dr();for(;;)switch(t._tag){case"Empty":{if(_t(o))return[r,n];t=o.head,o=o.tail;break}case"Par":{o=So(t.right,o),t=t.left;break}case"Seq":{let s=t.left,i=t.right;switch(s._tag){case"Empty":{t=i;break}case"Par":{let a=s.left,c=s.right;t=jn(El(a,i),El(c,i));break}case"Seq":{let a=s.left,c=s.right;t=El(a,El(c,i));break}case"Single":{t=s,n=So(i,n);break}}break}case"Single":{if(r=VE(r,eI(t.dataSource,t.blockedRequest)),_t(o))return[r,n];t=o.head,o=o.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/query/issues")},J1=(e,t)=>{if(_t(e))return Aa(Id(t));if(tI(t))return e;let r=aI(e.head),o=rI(t);return r.length===1&&o.length===1&&O(r[0],o[0])?So(iI(e.head,Id(t)),e.tail):So(Id(t),e)},Y1=Symbol.for("@effect/io/RequestBlock.Entry"),Pd=class{constructor(t,r,o,n,s){this.request=t,this.result=r,this.listeners=o,this.ownerId=n,this.state=s,this[UE]=Z1}};UE=Y1;var Z1={_R:e=>e};var Ld=e=>new Pd(e.request,e.result,e.listeners,e.ownerId,e.state),Q1=Symbol.for("@effect/io/RequestBlockParallel"),X1={_R:e=>e},Ha=class{constructor(t){this.map=t,this[WE]=X1}};WE=Q1;var GE=()=>new Ha(xo()),eI=(e,t)=>new Ha(xS([e,Array.of(t)])),VE=(e,t)=>new Ha(Mh(e.map,t.map,(r,o,n)=>jr(r,n,je(Ca(r,n),{onNone:()=>o,onSome:s=>[...s,...o]})))),tI=e=>yS(e.map),rI=e=>Array.from(vh(e.map)),Id=e=>sI(DS(e.map,t=>Array.of(t)));var oI=Symbol.for("@effect/io/RequestBlockSequential"),nI={_R:e=>e},Cl=class{constructor(t){this.map=t,this[zE]=nI}};zE=oI;var sI=e=>new Cl(e),iI=(e,t)=>new Cl(Mh(t.map,e.map,(r,o,n)=>jr(r,n,je(Ca(r,n),{onNone:()=>[],onSome:s=>[...s,...o]}))));var aI=e=>Array.from(vh(e.map)),JE=e=>Array.from(e.map);var Bn="Pending",ja="Done";var cI="@effect/io/Deferred",QE=Symbol.for(cI),XE={_E:e=>e,_A:e=>e},_l=e=>({_tag:Bn,joiners:e}),qd=e=>({_tag:ja,effect:e});var ti="Async",e0="Commit",ye="Failure",ri="OnFailure",oi="OnSuccess",ni="OnSuccessAndFailure",be="Success",Ol="Sync",t0="Tag",Oo="UpdateRuntimeFlags",si="While",wl="WithRuntime",ii="Yield",Ba="RevertFlags";var Fl=class{constructor(){this.buckets=[]}scheduleTask(t,r){let o,n;for(n=0;n<this.buckets.length&&this.buckets[n][0]<=r;n++)o=this.buckets[n];if(o)o[1].push(t);else{let s=[];for(let i=0;i<n;i++)s.push(this.buckets[i]);s.push([r,[t]]);for(let i=n;i<this.buckets.length;i++)s.push(this.buckets[i]);this.buckets=s}}},Hd=class{constructor(t){this.maxNextTickBeforeTimer=t,this.running=!1,this.tasks=new Fl}starveInternal(t){let r=this.tasks.buckets;this.tasks.buckets=[];for(let[o,n]of r)for(let s=0;s<n.length;s++)n[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}scheduleTask(t,r){this.tasks.scheduleTask(t,r),this.running||(this.running=!0,this.starve())}},jd=V(Symbol.for("@effect/io/Scheduler/defaultScheduler"),()=>new Hd(2048)),Al=class{constructor(){this.tasks=new Fl,this.deferred=!1}scheduleTask(t,r){this.deferred?jd.scheduleTask(t,r):this.tasks.scheduleTask(t,r)}flush(){for(;this.tasks.buckets.length>0;){let t=this.tasks.buckets;this.tasks.buckets=[];for(let[r,o]of t)for(let n=0;n<o.length;n++)o[n]()}this.deferred=!0}};var o0,n0,s0,i0,lI="@effect/io/Effect/Error",Bd=Symbol.for(lI),c0=e=>typeof e=="object"&&e!=null&&Bd in e,u0=e=>({[Bd]:Bd,_tag:"EffectError",cause:e}),De=(e,t)=>{let r=new ke("Blocked");return r.i0=e,r.i1=t,r},Il=e=>{let t=new ke("RunBlocked");return t.i0=e,t},ai=Symbol.for("@effect/io/Effect"),Ml=class{constructor(t,r){this.patch=t,this.op=r,this._tag=Ba}},ke=class{constructor(t){this._tag=t,this.i0=void 0,this.i1=void 0,this.i2=void 0,this.trace=void 0,this[o0]=Ud}[(o0=ai,F)](t){return this===t}[R](){return Bo(this)}pipe(){return C(this,arguments)}},kl=class{constructor(t){this._tag=t,this.i0=void 0,this.i1=void 0,this.i2=void 0,this.trace=void 0,this[n0]=Ud}[(n0=ai,F)](t){return this===t}[R](){return Bo(this)}get cause(){return this.i0}pipe(){return C(this,arguments)}toJSON(){return{_tag:this._tag,cause:this.cause.toJSON()}}toString(){return kE(this.cause)}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}},Tl=class{constructor(t){this._tag=t,this.i0=void 0,this.i1=void 0,this.i2=void 0,this.trace=void 0,this[s0]=Ud}[(s0=ai,F)](t){return this===t}[R](){return Bo(this)}get value(){return this.i0}pipe(){return C(this,arguments)}toJSON(){return{_tag:this._tag,value:this.value}}toString(){return`Success: ${String(this.value)}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}},Ud={_R:e=>e,_E:e=>e,_A:e=>e},Se=e=>typeof e=="object"&&e!=null&&ai in e,ge=e=>{let t=new ke(wl);return t.i0=e,t},tr=u(3,(e,t,r)=>Oe(o=>m(e,n=>m(ne(v(()=>o(t(n)))),s=>v(()=>r(n,s)).pipe(ee({onFailure:i=>{switch(s._tag){case ye:return U(Be(s.i0,i));case be:return U(i)}},onSuccess:()=>s})))))),X=u(2,(e,t)=>m(e,()=>y(t))),oe=e=>X(e,void 0),rr=(e,t=ut)=>v(()=>{let r,o,n=new ke(ti);if(e.length!==1){let s=new AbortController;o=s,n.i0=i=>{r=e(i,s.signal)}}else n.i0=s=>{r=e(s)};return n.i1=t,rn(n,()=>(o&&o.abort(),r??N))}),Gr=(e,t=ut)=>rr(r=>{let o=e(r);if(Pr(o))r(o.right);else return o.left},t),Vr=u(2,(e,t)=>{let r=new ke(ri);return r.i0=e,r.i1=t,r}),Ot=u(2,(e,t)=>pe(e,{onFailure:t,onSuccess:y})),Qo=e=>(...t)=>e(...t),l0=u(2,(e,t)=>ee(e,{onFailure:Qo(r=>{let o=Eo(r);switch(o._tag){case"Left":return J(()=>U(r))(t(o.left));case"Right":return U(o.right)}}),onSuccess:y})),p0=e=>ge((t,r)=>e(Xs(r.runtimeFlags))),Wd=e=>U($e(e)),ci=e=>Zr(()=>$e(Ed(e))),Xo=e=>Zr(()=>$e(e())),Jr=e=>pe(e,{onFailure:t=>y(z(t)),onSuccess:t=>y(q(t))}),Yr=()=>v(()=>nt(Fo)),ui=e=>m(Yr(),e),ne=e=>Wa(e,{onFailure:Y,onSuccess:se}),W=e=>U(Nn(e)),Cr=e=>Zr(()=>Nn(e())),U=e=>{let t=new kl(ye);return t.i0=e,t},Zr=e=>m(D(e),U),en=ge(e=>y(e.id())),or=e=>ge(t=>e(t.id())),m=u(2,(e,t)=>{let r=new ke(oi);return r.i0=e,r.i1=t,r}),Kr=e=>{let t=new ke("OnStep");return t.i0=e,t.i1=se,t},li=(e,t)=>{let r=new ke("OnStep");return r.i0=e,r.i1=t,r},wt=e=>m(e,I),tn=e=>pe(e,{onFailure:y,onSuccess:W}),Wa=u(2,(e,{onFailure:t,onSuccess:r})=>ee(e,{onFailure:o=>y(t(o)),onSuccess:o=>y(r(o))})),ee=u(2,(e,{onFailure:t,onSuccess:r})=>{let o=new ke(ni);return o.i0=e,o.i1=t,o.i2=r,o}),pe=u(2,(e,{onFailure:t,onSuccess:r})=>ee(e,{onFailure:o=>{let n=Ma(o);return pl(o).length>0?U(AE(o)):n.length>0?t(Rn(n)):U(o)},onSuccess:r})),Ge=u(2,(e,t)=>v(()=>{let r=re(e),o=new Array(r.length),n=0;return X($n({while:()=>n<r.length,body:()=>t(r[n],n),step:s=>{o[n++]=s}}),o)})),Rt=u(2,(e,t)=>v(()=>{let r=re(e),o=0;return $n({while:()=>o<r.length,body:()=>t(r[o],o),step:()=>{o++}})})),Pl=u(e=>typeof e[0]=="boolean"||Se(e[0]),(e,{onFalse:t,onTrue:r})=>typeof e=="boolean"?e?r:t:m(e,Qo(o=>o?r:t))),Nl=m(en,e=>Ll(e)),Ll=e=>U(Sr(e)),er=e=>{let t=new ke(Oo);t.i0=Md(Er);let r=o=>o._tag==="Blocked"?De(o.i0,er(o.i1)):o;return t.i1=()=>li(e,r),t},f0=e=>{let t=new ke(Oo);t.i0=Md(Er);let r=o=>o._tag==="Blocked"?De(o.i0,er(o.i1)):o;return t.i1=o=>Xs(o)?Kr(e(er)):Kr(e($r)),m(t,r)},Qr=u(2,(e,t)=>Oe(r=>m(ne(r(e)),o=>ag(t,o)))),_=u(2,(e,t)=>m(e,r=>D(()=>t(r)))),ql=u(2,(e,{onFailure:t,onSuccess:r})=>pe(e,{onFailure:o=>Cr(()=>t(o)),onSuccess:o=>D(()=>r(o))})),wo=u(2,(e,t)=>ee(e,{onFailure:r=>{let o=Eo(r);switch(o._tag){case"Left":return Cr(()=>t(o.left));case"Right":return U(o.right)}},onSuccess:y})),Hl=u(2,(e,t)=>_r(e,Qo(r=>Zl(r)?N:t(r.i0)))),_r=u(2,(e,t)=>Oe(r=>ee(r(e),{onFailure:o=>{let n=Y(o);return ee(t(n),{onFailure:s=>Y(Me(o,s)),onSuccess:()=>n})},onSuccess:o=>{let n=se(o);return $(t(n),n)}}))),rn=u(2,(e,t)=>_r(e,ep({onFailure:r=>Zo(r)?oe(t(ka(r))):N,onSuccess:()=>N}))),Wn=u(2,(e,t)=>pI(e,t,y)),zn=e=>zd(e,I),zd=u(2,(e,t)=>pe(e,{onFailure:r=>Wd(t(r)),onSuccess:y})),m0=(e,t)=>re(e).reduceRight(([r,o],n)=>{let s=t(n);switch(s._tag){case"Left":return[[s.left,...r],o];case"Right":return[r,[s.right,...o]]}},[new Array,new Array]),qt=u(2,(e,t)=>Re(Fo,t)(e)),h0=u(2,(e,t)=>Ve(Fo,r=>yn(r,t))(e)),Kn=u(2,(e,t)=>ui(r=>qt(e,t(r)))),jl=ge((e,t)=>y(t.runtimeFlags)),y=e=>{let t=new Tl(be);return t.i0=e,t},v=e=>m(D(e),I),D=e=>{let t=new ke(Ol);return t.i0=e,t},Ht=u(2,(e,t)=>m(e,r=>X(t(r),r))),Bl=e=>ge(t=>{let r=t.getFiberRef(Ua),o=J(()=>t.scope())(r);return e(Re(Ua,x(o)))}),pI=u(3,(e,t,r)=>ee(e,{onFailure:o=>pl(o).length>0?U(Qm(FE(o))):t(),onSuccess:r})),$r=e=>{let t=new ke(Oo);t.i0=kd(Er),t.i1=()=>li(e,r);let r=o=>o._tag==="Blocked"?De(o.i0,$r(o.i1)):o;return t},Oe=e=>{let t=new ke(Oo);t.i0=kd(Er);let r=o=>o._tag==="Blocked"?De(o.i0,$r(o.i1)):o;return t.i1=o=>Xs(o)?Kr(e(er)):Kr(e($r)),m(t,r)},N=y(void 0),pi=e=>{let t=new ke(Oo);return t.i0=e,t.i1=void 0,t},fi=u(2,(e,t)=>m(t,r=>r?_(x)(e):y(g()))),$n=e=>{let t=new ke(si);return t.i0=e.while,t.i1=e.body,t.i2=e.step,t},d0=u(2,(e,t)=>Re(e,Gl,t)),g0=u(2,(e,t)=>Re(e,$a,t)),x0=u(2,(e,t)=>{let r=new ke(Oo);return r.i0=t,r.i1=()=>e,r}),y0=u(2,(e,t)=>Re(e,Va,t)),jt=e=>{let t=new ke(ii);return typeof e?.priority<"u"?tg(e.priority)(t):t},Ul=u(2,(e,t)=>m(e,r=>_(t,o=>[r,o])));var mi=u(2,(e,t)=>m(e,r=>X(t,r))),$=u(2,(e,t)=>m(e,()=>t)),Ro=u(3,(e,t,r)=>m(e,o=>_(t,n=>r(o,n)))),Gn=Gr(()=>{let e=setInterval(()=>{},2147483647);return z(D(()=>clearInterval(e)))}),on=e=>m(en,t=>nr(t)(e)),nr=u(2,(e,t)=>m(e.interruptAsFork(t),()=>e.await())),Kd={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return C(this,arguments)}},$d={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return C(this,arguments)}},Gd={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return C(this,arguments)}},Vd={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return C(this,arguments)}},Wl={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return C(this,arguments)}},zl={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return C(this,arguments)}},Jd={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return C(this,arguments)}},Yd={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return C(this,arguments)}},Zd=[Kd,Jd,zl,Wl,Vd,Gd,$d,Yd],fI="@effect/io/FiberRef",mI=Symbol.for(fI),hI={_A:e=>e},nt=e=>b0(e,t=>[t,t]);var we=u(2,(e,t)=>m(nt(e),t)),Un=u(2,(e,t)=>b0(e,()=>[void 0,t]));var b0=u(2,(e,t)=>ge(r=>{let[o,n]=t(r.getFiberRef(e));return r.setFiberRef(e,n),y(o)}));var dI="@effect/io/RequestResolver",D0=Symbol.for(dI),gI={_R:e=>e,_A:e=>e},a0=class e{constructor(t,r){this.runAll=t,this.target=r,this[i0]=gI,this.runAll=t}[(i0=D0,R)](){return this.target?E(this.target):Bo(this)}[F](t){return this.target?xI(t)&&O(this.target,t.target):this===t}identified(...t){return new e(this.runAll,Br(t))}pipe(){return C(this,arguments)}},xI=e=>typeof e=="object"&&e!=null&&D0 in e;var Re=u(3,(e,t,r)=>m(tr(mi(nt(t),Un(t,r)),()=>Kr(e),o=>Un(t,o)),o=>o._tag==="Blocked"?De(o.i0,Re(o.i1,t,r)):o)),Ve=u(3,(e,t,r)=>we(t,o=>Re(e,t,r(o)))),Ee=(e,t)=>hi(e,{differ:iE(),fork:t?.fork??I,join:t?.join}),Qd=e=>hi(e,{differ:sE(),fork:Zu()}),Kl=e=>hi(e,{differ:nE(),fork:Vu()}),hi=(e,t)=>({[mI]:hI,initial:e,diff:(r,o)=>tE(r,o)(t.differ),combine:(r,o)=>rE(r,o)(t.differ),patch:r=>o=>oE(r,o)(t.differ),fork:t.fork,join:t.join??((r,o)=>o),pipe(){return C(this,arguments)}}),S0=e=>hi(e,{differ:vd,fork:Sl}),Fo=Kl(Tt()),za=Ee(0),Xd=Ee(2048),Ka=V(Symbol.for("@effect/io/FiberRef/currentLogAnnotation"),()=>Ee(xo())),eg=Ee(Wl),$l=V(Symbol.for("@effect/io/FiberRef/currentLogSpan"),()=>Ee(Dr())),Ao=V(Symbol.for("@effect/io/FiberRef/currentScheduler"),()=>Ee(jd)),E0=u(2,(e,t)=>Re(e,Ao,t)),tg=u(2,(e,t)=>Re(e,za,t)),C0=u(2,(e,t)=>Re(e,Xd,t)),Gl=V(Symbol.for("@effect/io/FiberRef/currentConcurrency"),()=>Ee("unbounded")),$a=V(Symbol.for("@effect/io/FiberRef/currentRequestBatching"),()=>Ee(!0)),Ga=V(Symbol.for("@effect/io/FiberRef/currentUnhandledErrorLogLevel"),()=>Ee(x(zl))),_0=u(2,(e,t)=>Re(e,Ga,t)),vo=Qd(rt()),O0=nt(vo),Ua=V(Symbol.for("@effect/io/FiberRef/currentForkScopeOverride"),()=>Ee(g(),{fork:()=>g(),join:(e,t)=>e})),Vn=V(Symbol.for("@effect/io/FiberRef/currentInterruptedCause"),()=>Ee(lt,{fork:()=>lt,join:(e,t)=>e})),Mo=V(Symbol.for("@effect/io/FiberRef/currentTracerSpan"),()=>Ee(Dr())),Va=V(Symbol.for("@effect/io/FiberRef/currentTracerTiming"),()=>Ee(!0)),Vl=V(Symbol.for("@effect/io/FiberRef/currentTracerSpanAnnotations"),()=>Ee(xo())),Jl=V(Symbol.for("@effect/io/FiberRef/currentTracerSpanLinks"),()=>Ee(ct())),Yl=Symbol.for("@effect/io/Scope"),rg=Symbol.for("@effect/io/CloseableScope");var di=(e,t)=>e.addFinalizer(t),nn=(e,t)=>e.close(t),og=(e,t)=>e.fork(t),ng=u(2,(e,t)=>_(bI(e,t),je({onNone:()=>()=>N,onSome:r=>o=>yI(r,o)(e)}))),yI=u(3,(e,t,r)=>v(()=>{switch(e.state._tag){case"Exited":return N;case"Running":{let o=e.state.finalizers.get(t);return e.state.finalizers.delete(t),o!=null?e.state.update(o)(r):N}}})),bI=u(2,(e,t)=>v(()=>{switch(e.state._tag){case"Exited":return e.state.nextKey+=1,X(t(e.state.exit),g());case"Running":{let r=e.state.nextKey;return e.state.finalizers.set(r,t),e.state.nextKey+=1,y(x(r))}}}));var w0=D(()=>({state:{_tag:"Running",nextKey:0,finalizers:new Map,update:I}}));var sg=e=>e._tag==="Failure",Zl=e=>e._tag==="Success";var R0=u(2,(e,t)=>{switch(e._tag){case ye:return Y(e.i0);case be:return se(t)}}),Ja=e=>R0(e,void 0);var gi=(e,t)=>DI(e,t?.parallel?Be:Me),Ql=e=>Y($e(e));var Or=e=>Y(Nn(e)),Y=e=>{let t=new kl(ye);return t.i0=e,t},F0=u(2,(e,t)=>{switch(e._tag){case ye:return Y(e.i0);case be:return t(e.i0)}});var A0=e=>F0(I)(e);var Xl=e=>Y(Sr(e)),vl=u(2,(e,t)=>{switch(e._tag){case ye:return Y(e.i0);case be:return se(t(e.i0))}});var ep=u(2,(e,{onFailure:t,onSuccess:r})=>{switch(e._tag){case ye:return t(e.i0);case be:return r(e.i0)}}),Jn=u(2,(e,{onFailure:t,onSuccess:r})=>{switch(e._tag){case ye:return t(e.i0);case be:return r(e.i0)}}),se=e=>{let t=new Tl(be);return t.i0=e,t};var Xr=se(void 0);var Ya=u(3,(e,t,{onFailure:r,onSuccess:o})=>{switch(e._tag){case ye:switch(t._tag){case be:return Y(e.i0);case ye:return Y(r(e.i0,t.i0))}case be:switch(t._tag){case be:return se(o(e.i0,t.i0));case ye:return Y(t.i0)}}}),DI=(e,t)=>{let r=Br(e);return Xe(r)?x(vl(o=>Array.from(o))(vl(yo)(bt(vl(ve)(et(r)),(o,n)=>Ya(n,{onSuccess:(s,i)=>Pe(i)(s),onFailure:t})(o))(tt(r))))):g()},xi=e=>({[QE]:XE,state:St(_l([])),blockingOn:e,pipe(){return C(this,arguments)}}),pt=()=>m(en,e=>v0(e)),v0=e=>D(()=>xi(e)),Ne=e=>Gr(t=>{let r=Pt(e.state);switch(r._tag){case ja:return q(r.effect);case Bn:return Qt(_l([t,...r.joiners]))(e.state),z(SI(e,t))}},e.blockingOn),ig=u(2,(e,t)=>Qr(t,e)),yi=u(2,(e,t)=>D(()=>{let r=Pt(e.state);switch(r._tag){case ja:return!1;case Bn:{Qt(qd(t))(e.state);for(let o=0;o<r.joiners.length;o++)r.joiners[o](t);return!0}}})),ag=u(2,(e,t)=>yi(e,t)),Za=u(2,(e,t)=>yi(e,W(t)));var Yn=u(2,(e,t)=>yi(e,U(t)));var M0=e=>m(en,t=>yi(e,Ll(t)));var bi=u(2,(e,t)=>yi(e,y(t)));var Di=(e,t)=>{let r=Pt(e.state);if(r._tag===Bn){Qt(qd(t))(e.state);for(let o=r.joiners.length-1;o>=0;o--)r.joiners[o](t)}},SI=(e,t)=>D(()=>{let r=Pt(e.state);r._tag===Bn&&Qt(_l(r.joiners.filter(o=>o!==t)))(e.state)});var Zn=Ne;var k0=ag;var T0=M0;var cg=xi;var P0=A0;var N0=se;var j0,EI="@effect/io/Clock",lg=Symbol.for(EI),eo=Dt(lg),CI=2**31-1,q0={unsafeSchedule(e,t){let r=qr(t);if(r>CI)return Vt;let o=!1,n=setTimeout(()=>{o=!0,e()},r);return()=>(clearTimeout(n),!o)}},H0=function(){let e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;let t="timeOrigin"in performance&&typeof performance.timeOrigin=="number"?BigInt(Math.round(performance.timeOrigin*1e6)):BigInt(Date.now())*e;return()=>t+BigInt(Math.round(performance.now()*1e6))}(),_I=function(){let e=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!e)return H0;let t=H0()-e.bigint();return()=>t+e.bigint()}(),ug=class{constructor(){this[j0]=lg,this.currentTimeMillis=D(()=>this.unsafeCurrentTimeMillis()),this.currentTimeNanos=D(()=>this.unsafeCurrentTimeNanos())}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return _I()}scheduler(){return y(q0)}sleep(t){return Gr(r=>{let o=q0.unsafeSchedule(()=>r(N),t);return z(oe(D(o)))})}};j0=lg;var B0=()=>new ug;var tp="And",rp="Or",op="InvalidData",np="MissingData",sp="SourceUnavailable",ip="Unsupported";var wI="@effect/io/Config/Error",pg=Symbol.for(wI),Si={[pg]:pg},ap=(e,t)=>{let r=Object.create(Si);return r._tag=tp,r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),r},cp=(e,t)=>{let r=Object.create(Si);return r._tag=rp,r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),r},to=(e,t,r={pathDelim:"."})=>{let o=Object.create(Si);return o._tag=op,o.path=e,o.message=t,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Invalid data at ${ho(r.pathDelim)(this.path)}: "${this.message}")`}}),o},wr=(e,t,r={pathDelim:"."})=>{let o=Object.create(Si);return o._tag=np,o.path=e,o.message=t,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Missing data at ${ho(r.pathDelim)(this.path)}: "${this.message}")`}}),o},W0=(e,t,r,o={pathDelim:"."})=>{let n=Object.create(Si);return n._tag=sp,n.path=e,n.message=t,n.cause=r,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`(Source unavailable at ${ho(o.pathDelim)(this.path)}: "${this.message}")`}}),n},up=(e,t,r={pathDelim:"."})=>{let o=Object.create(Si);return o._tag=ip,o.path=e,o.message=t,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${ho(r.pathDelim)(this.path)}: "${this.message}")`}}),o};var ko=u(2,(e,t)=>{switch(e._tag){case tp:return ap(ko(t)(e.left),ko(t)(e.right));case rp:return cp(ko(t)(e.left),ko(t)(e.right));case op:return to([...t,...e.path],e.message);case np:return wr([...t,...e.path],e.message);case sp:return W0([...t,...e.path],e.message,e.cause);case ip:return up([...t,...e.path],e.message)}}),RI={andCase:(e,t,r)=>t&&r,orCase:(e,t,r)=>t&&r,invalidDataCase:Vt,missingDataCase:Ir,sourceUnavailableCase:Vt,unsupportedCase:Vt},z0=u(3,(e,t,r)=>{let o=[e],n=[];for(;o.length>0;){let i=o.pop();switch(i._tag){case tp:{o.push(i.right),o.push(i.left),n.push(z({_tag:"AndCase"}));break}case rp:{o.push(i.right),o.push(i.left),n.push(z({_tag:"OrCase"}));break}case op:{n.push(q(r.invalidDataCase(t,i.path,i.message)));break}case np:{n.push(q(r.missingDataCase(t,i.path,i.message)));break}case sp:{n.push(q(r.sourceUnavailableCase(t,i.path,i.message,i.cause)));break}case ip:{n.push(q(r.unsupportedCase(t,i.path,i.message)));break}}}let s=[];for(;n.length>0;){let i=n.pop();switch(i._tag){case"Left":{switch(i.left._tag){case"AndCase":{let a=s.pop(),c=s.pop(),l=r.andCase(t,a,c);s.push(l);break}case"OrCase":{let a=s.pop(),c=s.pop(),l=r.orCase(t,a,c);s.push(l);break}}break}case"Right":{s.push(i.right);break}}}if(s.length===0)throw new Error("BUG: ConfigError.reduceWithContext - please report an issue at https://github.com/Effect-TS/io/issues");return s.pop()}),K0=e=>z0(e,void 0,RI);var fg=K0;var $0="@effect/io/Config/Secret",mg=Symbol.for($0),AI={[mg]:mg,[R](){return k(fo(this.raw))(E($0))},[F](e){return vI(e)&&this.raw.length===e.raw.length&&this.raw.every((t,r)=>O(t,e.raw[r]))}},vI=e=>typeof e=="object"&&e!=null&&mg in e,MI=e=>{let t=Object.create(AI);return Object.defineProperty(t,"toString",{enumerable:!1,value(){return"ConfigSecret(<redacted>)"}}),Object.defineProperty(t,"raw",{enumerable:!1,value:e}),t};var G0=e=>MI(e.split("").map(t=>t.charCodeAt(0)));var pp="Constant",fp="Fail",Qa="Fallback",mp="Described",hp="Lazy",dp="MapOrFail",gp="Nested",xp="Primitive",yp="Sequence",bp="HashMap",Dp="ZipWith";var TI="@effect/io/Config",Ep=Symbol.for(TI),II={_A:e=>e},sr={[Ep]:II,pipe(){return C(this,arguments)}},Y0=e=>{let t=sn("a boolean property",r=>{switch(r){case"true":case"yes":case"on":case"1":return q(!0);case"false":case"no":case"off":case"0":return q(!1);default:{let o=to([],`Expected a boolean value, but received ${r}`);return z(o)}}});return e===void 0?t:ir(e)(t)},Z0=(e,t)=>To(at)(Cp(e,t)),Cp=(e,t)=>To(t===void 0?Sp(e):ir(t)(Sp(e)),Nt),Q0=e=>{let t=sn("a date property",r=>{let o=Date.parse(r);return Number.isNaN(o)?z(to([],`Expected a date value but received ${r}`)):q(new Date(o))});return e===void 0?t:ir(e)(t)},X0=e=>{let t=Object.create(sr);return t._tag=fp,t.message=e,t.parse=()=>z(up([],e)),t},eC=e=>{let t=sn("a number property",r=>{let o=Number.parseFloat(r);return Number.isNaN(o)?z(to([],`Expected an number value but received ${r}`)):q(o)});return e===void 0?t:ir(e)(t)},tC=e=>{let t=sn("an integer property",r=>{let o=Number.parseInt(r,10);return Number.isNaN(o)?z(to([],`Expected an integer value but received ${r}`)):q(o)});return e===void 0?t:ir(e)(t)},rC=e=>{let t=Ei(hg(),r=>{let o=r.toUpperCase(),n=Zd.find(s=>s.label===o);return n===void 0?z(to([],`Expected a log level, but found: ${r}`)):q(n)});return e===void 0?t:ir(t,e)},To=u(2,(e,t)=>Ei(e,r=>q(t(r)))),oC=u(2,(e,t)=>Ei(e,r=>{try{return q(t(r))}catch(o){return z(to([],o instanceof Error?o.message:`${o}`))}})),Ei=u(2,(e,t)=>{let r=Object.create(sr);return r._tag=dp,r.original=e,r.mapOrFail=t,r}),nC=e=>t=>wr([],`Expected ${t.description} with name ${e}`),ir=u(2,(e,t)=>{let r=Object.create(sr);return r._tag=gp,r.name=t,r.config=e,r}),sC=u(2,(e,t)=>{let r=Object.create(sr);return r._tag=Qa,r.first=e,r.second=Xa(t),r.condition=Ir,r}),_p=u(2,(e,t)=>{let r=Object.create(sr);return r._tag=Qa,r.first=e,r.second=Xa(t.orElse),r.condition=t.if,r}),iC=e=>_p({orElse:()=>Ci(g()),if:fg})(To(x)(e)),sn=(e,t)=>{let r=Object.create(sr);return r._tag=xp,r.description=e,r.parse=t,r},Sp=e=>{let t=Object.create(sr);return t._tag=yp,t.config=e,t},aC=e=>{let t=sn("a secret property",r=>q(G0(r)));return e===void 0?t:ir(e)(t)},cC=(e,t)=>{let r=To(Cp(e),Ct);return t===void 0?r:ir(t)(r)},hg=e=>{let t=sn("a text property",q);return e===void 0?t:ir(e)(t)},uC=e=>Array.isArray(e)?J0(e):Symbol.iterator in e?J0([...e]):lC(e),lC=e=>{let t=Object.entries(e),r=To(n=>({[t[0][0]]:n}))(t[0][1]);if(t.length===1)return r;let o=t.slice(1);for(let[n,s]of o)r=ec(s,(i,a)=>({...i,[n]:a}))(r);return r},Ci=e=>{let t=Object.create(sr);return t._tag=pp,t.value=e,t.parse=()=>q(e),t},Xa=e=>{let t=Object.create(sr);return t._tag=hp,t.config=e,t},pC=e=>Xa(()=>Ci(e())),fC=(e,t)=>{let r=Object.create(sr);return r._tag=bp,r.valueConfig=e,t===void 0?r:ir(t)(r)},dg=e=>typeof e=="object"&&e!=null&&Ep in e,J0=e=>{if(e.length===0)return Ci([]);if(e.length===1)return To(e[0],r=>[r]);let t=To(e[0],r=>[r]);for(let r=1;r<e.length;r++){let o=e[r];t=ec(o,(n,s)=>[...n,s])(t)}return t},gg=e=>dg(e)?e:lC(Object.fromEntries(Object.entries(e).map(([t,r])=>[t,gg(r)]))),mC=u(2,(e,{message:t,validation:r})=>Ei(e,o=>r(o)?q(o):z(to([],t)))),hC=u(2,(e,t)=>_p(e,{orElse:()=>Ci(t),if:fg})),dC=u(2,(e,t)=>{let r=Object.create(sr);return r._tag=mp,r.config=e,r.description=t,r}),gC=u(2,(e,t)=>ec(e,t,(r,o)=>[r,o])),ec=u(3,(e,t,r)=>{let o=Object.create(sr);return o._tag=Dp,o.left=e,o.right=t,o.zip=r,o});var yC={_tag:"Empty"};var Op=u(2,(e,t)=>{let r=Aa(t),o=e;for(;Fa(r);){let n=r.head;switch(n._tag){case"Empty":{r=r.tail;break}case"AndThen":{r=So(n.first,So(n.second,r.tail));break}case"MapName":{o=mo(o,n.f),r=r.tail;break}case"Nested":{o=hr(o,n.name),r=r.tail;break}case"Unnested":{if(th(n.name)(_u(o)))o=Yt(o),r=r.tail;else return z(wr(o,`Expected ${n.name} to be in path in ConfigProvider#unnested`));break}}}return q(o)});var wp=(e,t)=>[...e,...t],NI="@effect/io/Config/Provider",xg=Symbol.for(NI),_i=Dt(xg),LI="@effect/io/Config/Provider/Flat",bC=Symbol.for(LI),qI=e=>({[xg]:xg,pipe(){return C(this,arguments)},...e}),HI=e=>({[bC]:bC,patch:e.patch,load:(t,r,o=!0)=>e.load(t,r,o),enumerateChildren:e.enumerateChildren}),jI=e=>qI({load:t=>m(ar(e,xn(),t,!1),r=>je(_u(r),{onNone:()=>W(wr(xn(),`Expected a single value having structure: ${t}`)),onSome:y})),flattened:e}),DC=(e={})=>{let{pathDelim:t,seqDelim:r}=Object.assign({},{pathDelim:"_",seqDelim:","},e),o=c=>ho(t)(c),n=c=>c.split(t),s=()=>typeof process<"u"&&"env"in process&&typeof process.env=="object"?process.env:{};return jI(HI({load:(c,l,p=!0)=>{let f=o(c),h=s(),d=f in h?x(h[f]):g();return m(S=>zI(S,c,l,r,p))(wo(()=>wr(c,`Expected ${f} to exist in the process context`))(d))},enumerateChildren:c=>D(()=>{let l=s(),p=Object.keys(l),h=Array.from(p).map(d=>n(d.toUpperCase())).filter(d=>{for(let S=0;S<c.length;S++){let w=sh(S)(c),A=d[S];if(A===void 0||w!==A)return!1}return!0}).flatMap(d=>d.slice(c.length,c.length+1));return Ct(h)}),patch:yC}))};var BI=(e,t,r,o)=>{let n=ch(r.length,c=>c>=o.length?g():x([e(c),c+1])),s=ch(o.length,c=>c>=r.length?g():x([t(c),c+1])),i=wp(r,n),a=wp(o,s);return[i,a]},ar=(e,t,r,o)=>{let n=r;switch(n._tag){case pp:return y(kt(n.value));case mp:return v(()=>ar(e,t,n.config,o));case fp:return W(wr(t,n.message));case Qa:return Ot(s=>n.condition(s)?Ot(i=>W(cp(s,i)))(ar(e,t,n.second,o)):W(s))(v(()=>ar(e,t,n.first,o)));case hp:return v(()=>ar(e,t,n.config(),o));case dp:return v(()=>m(Ge(s=>wo(ko(t))(n.mapOrFail(s))))(ar(e,t,n.original,o)));case gp:return v(()=>ar(e,wp(t,kt(n.name)),n.config,o));case xp:return m(s=>m(i=>{if(i.length===0){let a=J(()=>"<n/a>")(CD(s));return W(nC(a))}return y(i)})(e.load(s,n,o)))(Op(t,e.patch));case yp:return m(s=>m(i=>i.length===0?v(()=>_(ar(e,s,n.config,!0),kt)):_(a=>{let c=wu(a);return c.length===0?kt(xn()):kt(c)})(Ge(i,a=>ar(e,SD(t,`[${a}]`),n.config,!0))))(m(GI)(e.enumerateChildren(s))))(Op(t,e.patch));case bp:return v(()=>m(s=>m(i=>_(a=>{if(a.length===0)return kt(xo());let c=a.map(l=>Array.from(l));return mo(l=>Uu(ah(re(i),l)))(KI(c))})(Ge(a=>ar(e,wp(s,kt(a)),n.valueConfig,o))(i)))(e.enumerateChildren(s)))(Op(t,e.patch)));case Dp:return v(()=>m(s=>m(i=>{if(Fe(s)&&Fe(i))return W(ap(s.left,i.left));if(Fe(s)&&Pr(i))return W(s.left);if(Pr(s)&&Fe(i))return W(i.left);if(Pr(s)&&Pr(i)){let a=ho(".")(t),c=UI(t,a),[l,p]=BI(c,c,mo(q)(s.right),mo(q)(i.right));return Ge(([f,h])=>_(([d,S])=>n.zip(d,S))(Ul(f,h)))(ah(p)(l))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/io/issues")})(Jr(ar(e,t,n.right,o))))(Jr(ar(e,t,n.left,o))))}},UI=(e,t)=>r=>z(wr(e,`The element at index ${r} in a sequence at path "${t}" was missing`));var WI=(e,t)=>e.split(new RegExp(`\\s*${$I(t)}\\s*`)),zI=(e,t,r,o,n)=>n?wo(ko(t))(Ge(s=>r.parse(s.trim()))(WI(e,o))):wo(ko(t))(_(kt)(r.parse(e))),KI=e=>Object.keys(e[0]).map(t=>e.map(r=>r[t])),$I=e=>e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),GI=e=>_(Eu)(Jr(ql({onFailure:()=>xn(),onSuccess:gn(Mt)})(Ge(e,JI))));var VI=/^(\[(\d+)\])$/,JI=e=>{let t=e.match(VI);if(t!==null){let r=t[2];return mr(YI)(r!==void 0&&r.length>0?x(r):g())}return g()};var YI=e=>{let t=Number.parseInt(e);return Number.isNaN(t)?g():x(t)};var yg=Symbol("@effect/io/Console"),SC=Dt(yg),EC={[yg]:yg,assert(e,...t){return D(()=>{console.assert(e,...t)})},clear:D(()=>{console.clear()}),count(e){return D(()=>{console.count(e)})},countReset(e){return D(()=>{console.countReset(e)})},debug(...e){return D(()=>{console.debug(...e)})},dir(e,t){return D(()=>{console.dir(e,t)})},dirxml(...e){return D(()=>{console.dirxml(...e)})},error(...e){return D(()=>{console.error(...e)})},group(e){return e?.collapsed?D(()=>console.groupCollapsed(e?.label)):D(()=>console.group(e?.label))},groupEnd:D(()=>{console.groupEnd()}),info(...e){return D(()=>{console.info(...e)})},log(...e){return D(()=>{console.log(...e)})},table(e,t){return D(()=>{console.table(e,t)})},time(e){return D(()=>console.time(e))},timeEnd(e){return D(()=>console.timeEnd(e))},timeLog(e,...t){return D(()=>{console.timeLog(e,...t)})},trace(...e){return D(()=>{console.trace(...e)})},warn(...e){return D(()=>{console.warn(...e)})},withGroup(e,t){return tr(t?.collapsed?D(()=>console.groupCollapsed(t?.label)):D(()=>console.group(t?.label)),()=>e,()=>D(()=>console.groupEnd()))},withTime(e,t){return tr(D(()=>console.time(t)),()=>e,()=>D(()=>console.timeEnd(t)))}};var CC,XI="@effect/io/Random",Dg=Symbol.for(XI),Sg=Dt(Dg),bg=class{constructor(t){this.seed=t,this[CC]=Dg,this.PRNG=new Fs(t)}next(){return D(()=>this.PRNG.number())}nextBoolean(){return _(this.next(),t=>t>.5)}nextInt(){return D(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,r){return _(this.next(),o=>(r-t)*o+t)}nextIntBetween(t,r){return D(()=>this.PRNG.integer(r-t)+t)}shuffle(t){return eP(t,r=>this.nextIntBetween(0,r+1))}};CC=Dg;var eP=(e,t)=>v(()=>m(r=>{let o=[];for(let n=r.length;n>=2;n=n-1)o.push(n);return X(Br(r))(Rt(n=>_(s=>tP(r,n-1,s))(t(n)))(o))})(D(()=>Array.from(e)))),tP=(e,t,r)=>{let o=e[t];return e[t]=e[r],e[r]=o,e},_C=e=>new bg(e);var OC=Symbol.for("@effect/io/Tracer"),oP=e=>({[OC]:OC,...e}),Oi=Dt(Symbol.for("@effect/io/Tracer")),nP=V("@effect/io/Tracer/SpanId.ids",()=>St(0)),Eg=class{constructor(t,r,o,n,s){this.name=t,this.parent=r,this.context=o,this.links=n,this.startTime=s,this._tag="Span",this.traceId="native",this.events=[],this.end=(i,a)=>{this.status={_tag:"Ended",endTime:i,exit:a,startTime:this.status.startTime}},this.attribute=(i,a)=>{this.attributes.set(i,a)},this.event=(i,a,c)=>{this.events.push([i,a,c??{}])},this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.spanId=`span${ES(nP)}`}},wC=oP({span:(e,t,r,o,n)=>new Eg(e,t,r,o,n)});var sP=Ie(Oi,wC)(Ie(_i,DC())(Ie(Sg,_C(Math.random()*4294967296>>>0))(Ie(SC,EC)(Ie(eo,B0())(Tt()))))),ft=Kl(sP),FC=e=>{let t=Qe(e);return tc(r=>r.sleep(t))},tc=e=>we(ft,t=>e(Lr(t,eo))),AC=tc(e=>e.currentTimeMillis),vC=tc(e=>e.currentTimeNanos),MC=u(2,(e,t)=>Ve(ft,Ie(eo,t))(e)),kC=u(2,(e,t)=>Ve(ft,Ie(_i,t))(e)),Cg=e=>we(ft,t=>e(Lr(t,_i))),TC=e=>Cg(t=>t.load(e));var Rp=e=>we(ft,t=>e(Lr(t,Sg)));var Fp=e=>we(ft,t=>e(Lr(t,Oi))),IC=u(2,(e,t)=>Ve(ft,Ie(Oi,t))(e));var _g=FC,Ap=AC,Og=vC,PC=tc;var LC;function qC(e){return new Qn(e)}var wg=Symbol.for("@effect/io/FiberRefs"),Qn=class{constructor(t){this.locals=t,this[LC]=wg}pipe(){return C(this,arguments)}};LC=wg;var iP=(e,t,r,o=!1)=>{let n=e,s=t,i=r,a=o,c;for(;c===void 0;)if(Nr(s)&&Nr(i)){let l=Ae(s)[0],p=Yt(s),f=Ae(i)[0],h=Ae(i)[1],d=Yt(i);l.startTimeMillis<f.startTimeMillis?(i=d,a=!0):l.startTimeMillis>f.startTimeMillis?s=p:l.id<f.id?(i=d,a=!0):l.id>f.id?s=p:c=[h,a]}else c=[n.initial,!0];return c},vp=u(3,(e,t,r)=>{let o=new Map(e.locals);for(let[n,s]of r.locals){let i=Ae(s)[1];if(!O(Ae(s)[0],t)){if(!o.has(n)){if(O(i,n.initial))continue;o.set(n,[[t,n.join(n.initial,i)]]);continue}let a=o.get(n),[c,l]=iP(n,a,s);if(l){let p=n.diff(c,i),f=Ae(a)[1],h=n.join(f,n.patch(p)(f));if(!O(f,h)){let d,S=Ae(a)[0];O(S,t)?d=hr([S,h])(Yt(a)):d=hr([t,h])(a),o.set(n,d)}}}}return new Qn(new Map(o))}),Mp=u(2,(e,t)=>{let r=new Map;for(let[o,n]of e.locals.entries()){let s=Ae(n)[1],i=o.patch(o.fork)(s);O(s,i)?r.set(o,n):r.set(o,hr([t,i])(n))}return new Qn(r)}),HC=e=>Ct(e.locals.keys()),jC=e=>Rt(HC(e),t=>Un(t,wi(e,t))),oc=u(2,(e,t)=>{let r=new Map(e.locals);return r.delete(t),new Qn(r)}),nc=u(2,(e,t)=>e.locals.has(t)?x(Ae(e.locals.get(t))[1]):g()),wi=u(2,(e,t)=>J(()=>t.initial)(nc(e,t))),Xn=u(2,(e,{fiberId:t,fiberRef:r,value:o})=>{let n=e.locals.has(r)?e.locals.get(r):xn(),s;if(nh(n))s=kt([t,o]);else{let[a,c]=Ae(n);if(O(a,t)){if(O(c,o))return e;s=hr([t,o])(Yt(n))}else s=hr([t,o])(n)}let i=new Map(e.locals);return new Qn(i.set(r,s))});var BC=Mp;var UC=vp,WC=jC,Fg=Xn,zC=qC;var $C="Empty",GC="Add",VC="Remove",JC="Update",YC="AndThen",ZC={_tag:$C},Tp=(e,t)=>{let r=new Map(e.locals),o=ZC;for(let[n,s]of t.locals.entries()){let i=Ae(s)[1],a=r.get(n);if(a!==void 0){let c=Ae(a)[1];O(c,i)||(o=kp({_tag:JC,fiberRef:n,patch:n.diff(c,i)})(o))}else o=kp({_tag:GC,fiberRef:n,value:i})(o);r.delete(n)}for(let[n]of r.entries())o=kp({_tag:VC,fiberRef:n})(o);return o},kp=u(2,(e,t)=>({_tag:YC,first:e,second:t})),Ip=u(3,(e,t,r)=>{let o=r,n=kt(e);for(;Nr(n);){let s=Ae(n),i=Yt(n);switch(s._tag){case $C:{n=i;break}case GC:{o=Xn(o,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),n=i;break}case VC:{o=oc(o,s.fiberRef),n=i;break}case JC:{let a=wi(o,s.fiberRef);o=Xn(o,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),n=i;break}case YC:{n=hr(s.first)(hr(s.second)(i));break}}}return o});var XC,e_="@effect/io/Metric/Label",Ag=Symbol.for(e_),vg=class{constructor(t,r){this.key=t,this.value=r,this[XC]=Ag}[(XC=Ag,R)](){return k(E(this.value))(k(E(this.key))(E(e_)))}[F](t){return aP(t)&&this.key===t.key&&this.value===t.value}pipe(){return C(this,arguments)}},Pp=(e,t)=>new vg(e,t),aP=e=>typeof e=="object"&&e!=null&&Ag in e;var Np=class e{constructor(t){this.self=t,this.called=!1}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new e(this.self)}};var uP=Kd,Mg=$d,kg=Gd,Tg=Vd,Ig=Wl,Pg=zl,Ng=Jd,lP=Yd;var pP=ca(e=>e.ordinal)(Mt);var r_=Nm(pP);var o_=e=>{switch(e){case"All":return uP;case"Debug":return Pg;case"Error":return kg;case"Fatal":return Mg;case"Info":return Ig;case"Trace":return Ng;case"None":return lP;case"Warning":return Tg}};var s_=(e,t)=>({label:e,startTime:t}),i_=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`;var a_=s_,c_=i_;var l_,Lp=Symbol.for("@effect/io/Ref"),qg={_A:e=>e},Lg=class{constructor(t){this.ref=t,this[l_]=qg}modify(t){return D(()=>{let r=Pt(this.ref),[o,n]=t(r);return r!==n&&Qt(n)(this.ref),o})}pipe(){return C(this,arguments)}};l_=Lp;var qp=e=>new Lg(St(e)),es=e=>D(()=>qp(e)),Rr=e=>e.modify(t=>[t,t]),ro=u(2,(e,t)=>e.modify(()=>[void 0,t])),p_=u(2,(e,t)=>e.modify(r=>[r,t]));var Hp=u(2,(e,t)=>e.modify(t));var sc=u(2,(e,t)=>e.modify(r=>[void 0,t(r)]));var ic=es,Bp=Rr,f_=p_;var m_=Hp;var h_=sc;var g_=Fp;var x_=u(e=>Se(e[0]),function(){let e=arguments;return Ve(e[0],Ka,typeof e[1]=="string"?jr(e[1],e[2]):t=>Object.entries(e[1]).reduce((r,[o,n])=>jr(r,o,n),t))}),Up=e=>_(e,x),y_=e=>wo(e,x),b_=(e,t=ut)=>Gr(r=>{let o=e(r);switch(o._tag){case"None":return z(N);case"Some":return q(o.value)}},t),ac=e=>{let t,r;return typeof e=="function"?t=e:(t=e.try,r=e.catch),D(()=>{try{return t()}catch(o){throw u0(Nn(r?r(o):o))}})},D_=u(3,(e,t,r)=>Ot(e,o=>typeof o=="object"&&o!=null&&t in o&&o[t]===r.failure?r.onFailure(o):W(o))),S_=u(2,(e,t)=>Vr(e,Qo(r=>{let o=Ta(r,n=>ll(n)?x(n):g());switch(o._tag){case"None":return U(r);case"Some":return t(o.value.defect)}}))),E_=u(2,(e,t)=>ee(e,{onFailure:r=>{let o=t(r);switch(o._tag){case"None":return U(r);case"Some":return o.value}},onSuccess:y})),C_=u(2,(e,t)=>Vr(e,Qo(r=>{let o=Ta(r,n=>ll(n)?x(n):g());switch(o._tag){case"None":return U(r);case"Some":{let n=t(o.value.defect);return n._tag==="Some"?n.value:U(r)}}}))),__=u(3,(e,t,r)=>Ot(e,o=>de(o)&&"_tag"in o&&o._tag===t?r(o):W(o))),O_=u(2,(e,t)=>Ot(e,r=>{let o=Object.keys(t);return de(r)&&"_tag"in r&&o.includes(r._tag)?t[r._tag](r):W(r)})),w_=e=>Wa(e,{onFailure:I,onSuccess:()=>lt}),oo=PC,R_=oo(y),F_=u(2,(e,t)=>$(_g(t),e)),Wp=e=>ge((t,r)=>e({id:t.id(),status:r,interruptors:ka(t.getFiberRef(Vn))})),A_=Wp(e=>Do(e.interruptors)>0?Nl:N),v_=Wp(y),ts=e=>zp(e,Bg,Tp),M_=y({}),k_=u(3,(e,t,r)=>m(e,o=>_(r(o),n=>({...o,[t]:n})))),T_=u(2,(e,t)=>_(e,r=>({[t]:r}))),I_=u(3,(e,t,r)=>_(e,o=>({...o,[t]:r(o)}))),P_=u(2,(e,t)=>v(()=>{let r=e[Symbol.iterator](),o=[],n,s=y(!1),i=0;for(;(n=r.next())&&!n.done;){let a=n.value,c=i++;s=m(s,l=>l?(o.push(a),y(!0)):t(a,c))}return _(s,()=>o)})),N_=u(2,(e,t)=>v(()=>{let r=e[Symbol.iterator](),o=[],n,s=y(!0),i=0;for(;(n=r.next())&&!n.done;){let a=n.value,c=i++;s=m(s,l=>_(l?t(a,c):y(!1),p=>(p||o.push(a),p)))}return _(s,()=>o)})),L_=e=>_(Yr(),e),jg=e=>Wn(e,()=>m(jt(),()=>jg(e)));var q_=u(3,(e,t,r)=>cc(e,t,()=>Xo(r))),H_=u(3,(e,t,r)=>cc(e,t,()=>ci(r))),cc=u(3,(e,t,r)=>m(e,o=>t(o)?y(o):r(o))),j_=u(3,(e,t,r)=>cc(e,t,o=>Cr(()=>r(o)))),B_=u(2,(e,t)=>v(()=>{let r=e[Symbol.iterator](),o=r.next();return o.done?y(g()):U_(r,0,t,o.value)})),U_=(e,t,r,o)=>m(r(o,t),n=>{if(n)return y(x(o));let s=e.next();return s.done?y(g()):U_(e,t+1,r,s.value)}),W_=e=>v(()=>{let t=Br(e);return Xe(t)?bt(et(t),(r,o)=>Wn(r,()=>o))(tt(t)):Xo(()=>Qs("Received an empty collection of effects"))}),z_=u(2,(e,t)=>tn(t(tn(e)))),uc=u(2,(e,{onFailure:t,onSuccess:r})=>pe(e,{onFailure:o=>y(t(o)),onSuccess:o=>y(r(o))})),K_=u(2,(e,t)=>v(()=>$_(e[Symbol.iterator](),0,t))),$_=(e,t,r)=>{let o=e.next();return o.done?y(!0):m(r(o.value,t),n=>n?$_(e,t+1,r):y(n))},G_=e=>{let t=m(m(e,()=>jt()),()=>t);return t},Hg=class{constructor(t){this.value=t}[Symbol.iterator](){return new Np(this)}},hP=function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new Hg(e)},V_=e=>v(()=>{let t=e(hP),r=t.next(),o=n=>n.done?y(n.value):m(s=>o(t.next(s)))(n.value.value);return o(r)}),Bg=ge(e=>y(e.unsafeGetFiberRefs())),J_=e=>pe(e,{onFailure:t=>W(x(t)),onSuccess:t=>{let o=t[Symbol.iterator]().next();return o.done?W(g()):y(o.value)}}),Y_=e=>uc(e,{onFailure:_s,onSuccess:_s}),Z_=e=>ee(e,{onFailure:t=>Wg(t,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>N}),Q_=e=>Kp((t,r)=>UC(r,t,e)),X_=e=>uc(e,{onFailure:Ir,onSuccess:Vt}),eO=e=>uc(e,{onFailure:Vt,onSuccess:Ir}),Ug=(e,t)=>v(()=>t.while(e)?m(t.body(e),r=>Ug(r,t)):y(e)),rs=e=>(t,r)=>{let o=Ze(e),n,s;return ul(t)?(s=t,n=r??""):(n=t,s=r??lt),ge(i=>(i.log(n,s,o),N))},tO=rs(),rO=rs(Ng),Wg=rs(Pg),oO=rs(Ig),nO=rs(Tg),sO=rs(kg),iO=rs(Mg),aO=u(2,(e,t)=>m(Ap,r=>Ve(e,$l,Go(a_(t,r))))),cO=nt(Ka),uO=(e,t)=>t.discard?pO(e,t.while,t.step,t.body):_(lO(e,t.while,t.step,t.body),r=>Array.from(r)),lO=(e,t,r,o)=>v(()=>t(e)?m(o(e),n=>_(lO(r(e),t,r,o),Go(n))):D(()=>Dr())),pO=(e,t,r,o)=>v(()=>t(e)?m(o(e),()=>pO(r(e),t,r,o)):N),fO=u(3,(e,t,r)=>v(()=>{let o=e[Symbol.iterator](),n=[],s=y(t),i,a=0;for(;!(i=o.next()).done;){let c=a++;s=m(s,l=>_(r(l,i.value,c),([p,f])=>(n.push(f),p)))}return _(s,c=>[c,n])})),Ri=u(2,(e,t)=>ee(e,{onFailure:r=>Zr(()=>t(r)),onSuccess:y})),zg=e=>m(t=>_(r=>$(r,m(([o,n])=>X(os(o),n))(Ne(t))))(Kg(Qr(t)(ts(e)))))(pt()),mO=e=>pe(e,{onFailure:t=>y(t),onSuccess:y}),lc=e=>_(e,t=>!t),hO=e=>pe(e,{onFailure:t=>W(x(t)),onSuccess:t=>{switch(t._tag){case"None":return N;case"Some":return W(g())}}}),Kg=e=>_(ic(!0),t=>oe(fi(e,f_(t,!1)))),dO=e=>pe(e,{onFailure:()=>y(g()),onSuccess:t=>y(x(t))}),gO=u(2,(e,t)=>Wn(e,()=>Cr(t))),xO=u(2,(e,t)=>Wn(e,()=>D(t))),yO=e=>ee(e,{onFailure:t=>{let r=Array.from(Ma(t));return r.length===0?U(t):W(r)},onSuccess:y}),os=e=>Kp((t,r)=>Ip(t,r)(e)),bO=e=>e.length>=1?rr((t,r)=>{e(r).then(o=>t(se(o))).catch(o=>t(Ql(o)))}):rr(t=>{e().then(r=>t(se(r))).catch(r=>t(Ql(r)))}),DO=u(3,(e,t,r)=>$g(e,t,y(r))),$g=u(3,(e,t,r)=>ui(o=>m(r,n=>qt(e,Ie(t,n)(o))))),SO=Rp(y),EO=u(3,(e,t,r)=>re(e).reduce((o,n,s)=>m(o,i=>r(i,n,s)),y(t))),CO=u(3,(e,t,r)=>re(e).reduceRight((o,n,s)=>m(o,i=>r(n,i,s)),y(t))),_O=u(3,(e,t,r)=>m(D(()=>e[Symbol.iterator]()),o=>OO(o,0,t,r.while,r.body))),OO=(e,t,r,o,n)=>{let s=e.next();return!s.done&&o(r)?m(n(r,s.value,t),i=>OO(e,t+1,i,o,n)):y(r)},wO=u(2,(e,t)=>v(()=>RO(e,t))),RO=(e,t)=>m(e,r=>t<=0?y(r):$(jt(),RO(e,t-1))),FO=e=>ee(e,{onFailure:W,onSuccess:y}),AO=e=>v(()=>WC(e)),Fi=_g,vO=e=>pe(e,{onFailure:t=>W(x(t)),onSuccess:t=>{switch(t._tag){case"None":return W(g());case"Some":return y(t.value)}}}),Ai=y(g()),Gg=e=>y(x(e)),zp=u(3,(e,t,r)=>m(t,o=>m(e,n=>_(t,s=>[r(o,s),n])))),MO=u(3,(e,t,r)=>Vg(e,[Pp(t,r)])),Vg=u(2,(e,t)=>Jg(e,Ct(t))),Jg=u(2,(e,t)=>Ve(vo,r=>ot(t)(r))(e)),kO=u(2,(e,t)=>v(()=>{let r=e[Symbol.iterator](),o=[],n,s=y(!1),i=0;for(;(n=r.next())&&!n.done;){let a=n.value,c=i++;s=m(s,l=>l?y(!0):(o.push(a),t(a,c)))}return _(s,()=>o)})),TO=u(2,(e,t)=>v(()=>{let r=e[Symbol.iterator](),o=[],n,s=y(!0),i=0;for(;(n=r.next())&&!n.done;){let a=n.value,c=i++;s=m(s,l=>_(p=>(p&&o.push(a),p))(l?t(a,c):y(!1)))}return _(s,()=>o)})),IO=u(2,(e,{onFailure:t,onSuccess:r})=>ee(e,{onFailure:o=>{let n=Eo(o);switch(n._tag){case"Left":return $(t(n.left),U(o));case"Right":return U(o)}},onSuccess:o=>X(r(o),o)})),PO=u(2,(e,t)=>Vr(e,r=>je(Dd(r),{onNone:()=>U(r),onSome:o=>$(t(o),U(r))}))),Yg=u(2,(e,t)=>ee(e,{onFailure:r=>{let o=Eo(r);switch(o._tag){case"Left":return $(t(o.left),U(r));case"Right":return U(r)}},onSuccess:y})),NO=u(3,(e,t,r)=>Yg(e,o=>de(o)&&"_tag"in o&&o._tag===t?r(o):N)),LO=u(2,(e,t)=>ee(e,{onFailure:r=>$(t(r),U(r)),onSuccess:y})),qO=e=>Zg(e,Og),Zg=u(2,(e,t)=>zp(e,t,(r,o)=>vu(o-r))),HO=g_,jO=HO(y),Qg=e=>{let t,r;return typeof e=="function"?t=e:(t=e.try,r=e.catch),t.length>=1?v(()=>{let o=new AbortController;return m(ac(()=>t(o.signal)),n=>rr(s=>(n.then(i=>s(se(i))).catch(i=>s(Or(r?r(i):i))),D(()=>o.abort()))))}):m(ac(e),o=>rr(n=>{o.then(s=>n(se(s))).catch(s=>n(Or(r?r(s):s)))}))},BO=u(2,(e,t)=>m(e,r=>ac({try:()=>t.try(r),catch:t.catch}))),UO=u(2,(e,t)=>m(e,r=>Qg({try:t.try.length>=1?o=>t.try(r,o):()=>t.try(r),catch:t.catch}))),WO=u(2,(e,t)=>v(()=>t()?Ai:Up(e))),zO=u(2,(e,t)=>m(t,r=>r?Ai:Up(e))),KO=e=>Ri(e,Sd),Kp=e=>ge(t=>(t.setFiberRefs(e(t.id(),t.unsafeGetFiberRefs())),N)),$O=u(3,(e,t,r)=>Kn(e,o=>Ie(o,t,r(Is(o,t))))),$p=u(2,(e,t)=>v(()=>t()?_(e,x):y(g()))),GO=u(3,(e,t,r)=>m(nt(t),o=>r(o)?_(e,n=>[o,x(n)]):y([o,g()]))),VO=u(3,(e,t,r)=>m(Bp(t),o=>r(o)?_(e,n=>[o,x(n)]):y([o,g()]))),JO=u(2,(e,t)=>t(e)),YO=(e,t)=>(...r)=>m(e,o=>t(o)(...r)),ZO=(e,t)=>(...r)=>_(e,o=>t(o)(...r)),Xg=e=>new Proxy({},{get(t,r,o){return(...n)=>m(e,s=>s[r](...n))}}),ex=e=>new Proxy({},{get(t,r,o){return m(e,n=>n[r])}}),QO=e=>({functions:Xg(e),constants:ex(e)}),XO=function(){let e=arguments;return m(rx,t=>t._tag==="Some"?D(()=>{if(typeof e[0]=="string")t.value.attribute(e[0],e[1]);else for(let r in e[0])t.value.attribute(r,e[0][r])}):N)},ew=u(e=>Se(e[0]),function(){let e=arguments;return Ve(e[0],Vl,typeof e[1]=="string"?jr(e[1],e[2]):t=>Object.entries(e[1]).reduce((r,[o,n])=>jr(r,o,n),t))}),tx=_(nt(Mo),Xu),rx=_(nt(Mo),lE(e=>e._tag==="Span")),dP=BigInt(0),Gp=we(Va,e=>e?Og:y(dP)),tw=u(e=>Se(e[0]),(e,t,r)=>Ve(e,Jl,$u({_tag:"SpanLink",span:t,attributes:r??{}}))),vi=(e,t)=>HO(r=>m(t?.parent?Gg(t.parent):t?.root?Ai:tx,o=>m(nt(Vl),n=>m(nt(Jl),s=>m(Gp,i=>D(()=>{let a=t?.links?[...at(s),...t.links]:at(s),c=r.span(e,o,t?.context??Tt(),a,i);return SS(n,(l,p)=>c.attribute(p,l)),Object.entries(t?.attributes??{}).forEach(([l,p])=>c.attribute(l,p)),c})))))),rw=nt(Vl),ow=nt(Jl),ox=(e,...t)=>{let r=t.length===1?void 0:t[0],o=t[t.length-1];return tr(vi(e,r),o,(n,s)=>m(Gp,i=>D(()=>n.end(i,s))))},nx=u(2,(e,t)=>Ve(e,Mo,Go(t))),nw=u(e=>typeof e[0]!="string",(e,t,r)=>ox(t,r??{},o=>nx(e,o))),sw=e=>v(()=>{let t=e();return t==null?W(Co()):y(t)}),iw=e=>Ot(_(e,x),t=>_d(t)?Ai:W(t));var aw,cw,uw,Vp="@effect/io/Fiber/Status",an=Symbol.for(Vp),sx="Done",lw="Running",pw="Suspended",ix=class{constructor(){this[aw]=an,this._tag=sx}[(aw=an,R)](){return k(E(this._tag))(E(Vp))}[F](t){return Jp(t)&&t._tag===sx}},ax=class{constructor(t){this.runtimeFlags=t,this[cw]=an,this._tag=lw}[(cw=an,R)](){return k(E(this.runtimeFlags))(k(E(this._tag))(E(Vp)))}[F](t){return Jp(t)&&t._tag===lw&&this.runtimeFlags===t.runtimeFlags}},cx=class{constructor(t,r){this.runtimeFlags=t,this.blockingOn=r,this[uw]=an,this._tag=pw}[(uw=an,R)](){return k(E(this.blockingOn))(k(E(this.runtimeFlags))(k(E(this._tag))(E(Vp))))}[F](t){return Jp(t)&&t._tag===pw&&this.runtimeFlags===t.runtimeFlags&&O(this.blockingOn,t.blockingOn)}},fw=new ix,mw=e=>new ax(e),hw=(e,t)=>new cx(e,t),Jp=e=>typeof e=="object"&&e!=null&&an in e,dw=e=>e._tag===sx;var gw=fw,ux=mw,xw=hw;var yw=dw;var ki=Tp;var lx=Ip;var Yp=V(Symbol.for("@effect/io/FiberRef/currentRequestMap"),()=>Ee(new Map));var px=(e,t,r,o)=>{switch(e?.concurrency){case void 0:return t();case"unbounded":return r();case"inherit":return we(Gl,n=>n==="unbounded"?r():n>1?o(n):t());default:return e.concurrency>1?o(e.concurrency):t()}},pc=(e,t,r)=>{switch(e?.concurrency){case void 0:return t();case"unbounded":return r();case"inherit":return we(Gl,o=>o==="unbounded"||o>1?r():t());default:return e.concurrency>1?r():t()}};var Dw="Sequential",Sw="Parallel";var Ti={_tag:Dw},Ew={_tag:Sw};var Cw=e=>e._tag===Dw,_w=e=>e._tag===Sw;var Zp="InterruptSignal",Qp="Stateful",Xp="Resume",ef="YieldNow",fx=e=>({_tag:Zp,cause:e}),Ii=e=>({_tag:Qp,onFiber:e}),ns=e=>({_tag:Xp,effect:e}),ww=()=>({_tag:ef});var Fw,Aw,DP="@effect/io/Fiber/Scope",tf=Symbol.for(DP),mx=class{constructor(){this[Fw]=tf,this.fiberId=ut,this.roots=new Set}add(t,r){this.roots.add(r),r.unsafeAddObserver(()=>{this.roots.delete(r)})}};Fw=tf;var hx=class{constructor(t,r){this.fiberId=t,this.parent=r,this[Aw]=tf}add(t,r){this.parent.tell(Ii(o=>{o.addChild(r),r.unsafeAddObserver(()=>{o.removeChild(r)})}))}};Aw=tf;var vw=e=>new hx(e.id(),e),ss=V(Symbol.for("@effect/io/FiberScope/Global"),()=>new mx);var SP="@effect/io/Fiber",fc=Symbol.for(SP),mc={_E:e=>e,_A:e=>e},EP={[fc]:mc,pipe(){return C(this,arguments)}},CP="@effect/io/Fiber",kw=Symbol.for(CP);var dx=e=>e.await();var Tw=e=>e.inheritAll();var Iw=u(2,(e,t)=>e.interruptAsFork(t)),is=e=>mi(wt(e.await()),e.inheritAll());var P$={...EP,id:()=>ut,await:()=>Gn,children:()=>y([]),inheritAll:()=>Gn,poll:()=>y(g()),interruptAsFork:()=>Gn};var cn="@effect/io/Fiber/Current";var _P="@effect/io/Logger",Nw=Symbol.for(_P),Lw={_Message:e=>e,_Output:e=>e},rf=e=>({[Nw]:Lw,log:e,pipe(){return C(this,arguments)}});var q$={[Nw]:Lw,log:_s,pipe(){return C(this,arguments)}};var qw=rf(({annotations:e,cause:t,date:r,fiberId:o,logLevel:n,message:s,spans:i})=>{let a=r.getTime(),l=[`timestamp=${r.toISOString()}`,`level=${n.label}`,`fiber=${nl(o)}`].join(" "),p=OP(s);if(p.length>0&&(l=l+" message=",l=gx(p,l)),t!=null&&t!=lt&&(l=l+" cause=",l=gx(_o(t),l)),Fa(i)){l=l+" ";let f=!0;for(let h of i)f?f=!1:l=l+" ",l=l+c_(a)(h)}if(Wu(e)>0){l=l+" ";let f=!0;for(let[h,d]of e)f?f=!1:l=l+" ",l=l+FP(h),l=l+"=",l=gx(String(d),l)}return l}),OP=e=>{try{return typeof e=="object"?JSON.stringify(e):String(e)}catch{return String(e)}},wP=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,RP=/^[^\s"=]+$/,gx=(e,t)=>t+(e.match(RP)?e:wP(e));var FP=e=>e.replace(/[\s="]/g,"_");var Hw,jw="@effect/io/Metric/Boundaries",xx=Symbol.for(jw),yx=class{constructor(t){this.values=t,this[Hw]=xx}[(Hw=xx,R)](){return k(E(this.values))(E(jw))}[F](t){return vP(t)&&O(this.values,t.values)}pipe(){return C(this,arguments)}},vP=e=>typeof e=="object"&&e!=null&&xx in e,MP=e=>{let t=AS(br(ve(Number.POSITIVE_INFINITY))(e));return new yx(t)};var Bw=e=>MP(Nt(oh(e.count-1,t=>e.start*Math.pow(e.factor,t))));var Uw,Ww,zw,Kw,$w,Gw,Vw,Jw,Yw,Zw,TP="@effect/io/Metric/KeyType",hc=Symbol.for(TP),tR="effect/io/Metric/KeyType/Counter",bx=Symbol.for(tR),rR="effect/io/Metric/KeyType/Frequency",Dx=Symbol.for(rR),oR="effect/io/Metric/KeyType/Gauge",Sx=Symbol.for(oR),nR="effect/io/Metric/KeyType/Histogram",Ex=Symbol.for(nR),sR="effect/io/Metric/KeyType/Summary",Cx=Symbol.for(sR),dc={_In:e=>e,_Out:e=>e},_x=class{constructor(){this[Uw]=dc,this[Ww]=bx}[(Uw=hc,Ww=bx,R)](){return E(tR)}[F](t){return wx(t)}pipe(){return C(this,arguments)}},Qw=class{constructor(){this[zw]=dc,this[Kw]=Dx}[(zw=hc,Kw=Dx,R)](){return E(rR)}[F](t){return Rx(t)}pipe(){return C(this,arguments)}},Xw=class{constructor(){this[$w]=dc,this[Gw]=Sx}[($w=hc,Gw=Sx,R)](){return E(oR)}[F](t){return Fx(t)}pipe(){return C(this,arguments)}},Ox=class{constructor(t){this.boundaries=t,this[Vw]=dc,this[Jw]=Ex}[(Vw=hc,Jw=Ex,R)](){return k(E(this.boundaries))(E(nR))}[F](t){return Ax(t)&&O(this.boundaries,t.boundaries)}pipe(){return C(this,arguments)}},eR=class{constructor(t,r,o,n){this.maxAge=t,this.maxSize=r,this.error=o,this.quantiles=n,this[Yw]=dc,this[Zw]=Cx}[(Yw=hc,Zw=Cx,R)](){return k(E(this.quantiles))(k(E(this.error))(k(E(this.maxSize))(k(E(this.maxAge))(E(sR)))))}[F](t){return vx(t)&&O(this.maxAge,t.maxAge)&&this.maxSize===t.maxSize&&this.error===t.error&&O(this.quantiles,t.quantiles)}pipe(){return C(this,arguments)}},iR=new _x;var aR=e=>new Ox(e);var wx=e=>typeof e=="object"&&e!=null&&bx in e,Rx=e=>typeof e=="object"&&e!=null&&Dx in e,Fx=e=>typeof e=="object"&&e!=null&&Sx in e,Ax=e=>typeof e=="object"&&e!=null&&Ex in e,vx=e=>typeof e=="object"&&e!=null&&Cx in e;var uR,IP="@effect/io/Metric/Key",lR=Symbol.for(IP),PP={_Type:e=>e},gc=class{constructor(t,r,o,n=rt()){this.name=t,this.keyType=r,this.description=o,this.tags=n,this[uR]=PP}[(uR=lR,R)](){return k(E(this.tags))(k(E(this.description))(k(E(this.keyType))(E(this.name))))}[F](t){return NP(t)&&this.name===t.name&&O(this.keyType,t.keyType)&&O(this.description,t.description)&&O(this.tags,t.tags)}pipe(){return C(this,arguments)}},NP=e=>typeof e=="object"&&e!=null&&lR in e,pR=(e,t)=>new gc(e,iR,Ze(t));var fR=(e,t,r)=>new gc(e,aR(t),Ze(r));var mR=u(2,(e,t)=>Do(t)===0?e:new gc(e.name,e.keyType,e.description,ot(t)(e.tags)));var hR,dR,gR,xR,yR,bR,DR,SR,ER,CR,qP="@effect/io/Metric/State",xc=Symbol.for(qP),_R="effect/io/Metric/State/Counter",Mx=Symbol.for(_R),OR="effect/io/Metric/State/Frequency",kx=Symbol.for(OR),wR="effect/io/Metric/State/Gauge",Tx=Symbol.for(wR),RR="effect/io/Metric/State/Histogram",Ix=Symbol.for(RR),FR="effect/io/Metric/State/Summary",Px=Symbol.for(FR),yc={_A:e=>e},Nx=class{constructor(t){this.count=t,this[hR]=yc,this[dR]=Mx}[(hR=xc,dR=Mx,R)](){return k(E(this.count))(E(_R))}[F](t){return HP(t)&&this.count===t.count}pipe(){return C(this,arguments)}},Lx=class{constructor(t){this.occurrences=t,this[gR]=yc,this[xR]=kx}[(gR=xc,xR=kx,R)](){return k(E(this.occurrences))(E(OR))}[F](t){return jP(t)&&O(this.occurrences,t.occurrences)}pipe(){return C(this,arguments)}},qx=class{constructor(t){this.value=t,this[yR]=yc,this[bR]=Tx}[(yR=xc,bR=Tx,R)](){return k(E(this.value))(E(wR))}[F](t){return BP(t)&&this.value===t.value}pipe(){return C(this,arguments)}},Hx=class{constructor(t,r,o,n,s){this.buckets=t,this.count=r,this.min=o,this.max=n,this.sum=s,this[DR]=yc,this[SR]=Ix}[(DR=xc,SR=Ix,R)](){return k(E(this.sum))(k(E(this.max))(k(E(this.min))(k(E(this.count))(k(E(this.buckets))(E(RR))))))}[F](t){return UP(t)&&O(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return C(this,arguments)}},jx=class{constructor(t,r,o,n,s,i){this.error=t,this.quantiles=r,this.count=o,this.min=n,this.max=s,this.sum=i,this[ER]=yc,this[CR]=Px}[(ER=xc,CR=Px,R)](){return k(E(this.sum))(k(E(this.max))(k(E(this.min))(k(E(this.count))(k(E(this.quantiles))(k(E(this.error))(E(FR)))))))}[F](t){return WP(t)&&this.error===t.error&&O(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return C(this,arguments)}},AR=e=>new Nx(e),vR=e=>new Lx(e),MR=e=>new qx(e),kR=e=>new Hx(e.buckets,e.count,e.min,e.max,e.sum),TR=e=>new jx(e.error,e.quantiles,e.count,e.min,e.max,e.sum);var HP=e=>typeof e=="object"&&e!=null&&Mx in e,jP=e=>typeof e=="object"&&e!=null&&kx in e,BP=e=>typeof e=="object"&&e!=null&&Tx in e,UP=e=>typeof e=="object"&&e!=null&&Ix in e,WP=e=>typeof e=="object"&&e!=null&&Px in e;var KP="@effect/io/Metric/Hook",$P=Symbol.for(KP),GP={_In:e=>e,_Out:e=>e},bc=e=>({[$P]:GP,pipe(){return C(this,arguments)},...e});var PR=e=>{let t=0;return bc({get:()=>AR(t),update:r=>{t=t+r}})},NR=e=>{let t=0,r=new Map,o=s=>{t=t+1;let i=r.get(s)??0;r.set(s,i+1)},n=()=>Uu(r.entries());return bc({get:()=>vR(n()),update:o})},LR=(e,t)=>{let r=t;return bc({get:()=>MR(r),update:o=>{r=o}})},qR=e=>{let t=e.keyType.boundaries.values,r=t.length,o=new Uint32Array(r+1),n=new Float32Array(r),s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;qh((f,h)=>{n[h]=f})(Gu(Mt)(t));let l=f=>{let h=0,d=r;for(;h!==d;){let S=Math.floor(h+(d-h)/2),w=n[S];f<=w?d=S:h=S,d===h+1&&(f<=n[h]?d=h:h=d)}o[h]=o[h]+1,s=s+1,i=i+f,f<a&&(a=f),f>c&&(c=f)},p=()=>{let f=Array(r),h=0;for(let d=0;d<r;d++){let S=n[d],w=o[d];h=h+w,f[d]=[S,h]}return Nt(f)};return bc({get:()=>kR({buckets:p(),count:s,min:a,max:c,sum:i}),update:l})},HR=e=>{let{error:t,maxAge:r,maxSize:o,quantiles:n}=e.keyType,s=Gu(Mt)(n),i=Array(o),a=0,c=0,l=0,p=Number.MAX_VALUE,f=Number.MIN_VALUE,h=S=>{let w=[],A=0;for(;A!==o-1;){let T=i[A];if(T!=null){let[B,K]=T,ae=Ps(S-B);yh(ae,gh)&&ae<=r&&w.push(K)}A=A+1}return VP(t,s,Gu(Mt)(Nt(w)))},d=(S,w)=>{if(o>0){a=a+1;let A=a%o;i[A]=[w,S]}c=c+1,l=l+S,S<p&&(p=S),S>f&&(f=S)};return bc({get:()=>TR({error:t,quantiles:h(Date.now()),count:c,min:p,max:f,sum:l}),update:([S,w])=>d(S,w)})},VP=(e,t,r)=>{let o=r.length;if(zs(t))return ct();let n=Rn(t),s=Ws(1)(t),i=bt(ve(IR(e,o,g(),0,n,r)),(a,c)=>{let l=Rn(a);return $u(IR(e,o,l.value,l.consumed,c,l.rest))(a)})(s);return qh(a=>[a.quantile,a.value])(i)},IR=(e,t,r,o,n,s)=>{let i=e,a=t,c=r,l=o,p=n,f=s,h=e,d=t,S=r,w=o,A=n,T=s;for(;;){if(zs(f))return{quantile:p,value:g(),consumed:l,rest:ct()};if(p===1)return{quantile:p,value:x(RS(f)),consumed:l+f.length,rest:ct()};let B=FS(he=>he>Rn(f))(f),K=p*a,ae=i/2*K,Ce=l+B[0].length,qe=Math.abs(Ce-K);if(Ce<K-ae){h=i,d=a,S=wn(f),w=Ce,A=p,T=B[1],i=h,a=d,c=S,l=w,p=A,f=T;continue}if(Ce>K+ae)return{quantile:p,value:c,consumed:l,rest:f};switch(c._tag){case"None":{h=i,d=a,S=wn(f),w=Ce,A=p,T=B[1],i=h,a=d,c=S,l=w,p=A,f=T;continue}case"Some":{let he=Math.abs(K-c.value);if(qe<he){h=i,d=a,S=wn(f),w=Ce,A=p,T=B[1],i=h,a=d,c=S,l=w,p=A,f=T;continue}return{quantile:p,value:x(c.value),consumed:l,rest:f}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/io/issues")};var YP="@effect/io/Metric/Pair",ZP=Symbol.for(YP),QP={_Type:e=>e};var jR=(e,t)=>({[ZP]:QP,metricKey:e,metricState:t,pipe(){return C(this,arguments)}});var BR,eN="@effect/io/Metric/Registry",UR=Symbol.for(eN),Bx=class{constructor(){this[BR]=UR,this.map=_n()}snapshot(){let t=[];for(let[r,o]of this.map)t.push(jR(r,o.get()));return Ct(t)}get(t){let r=Ke(_e(t)(this.map));if(r==null){if(wx(t.keyType))return this.getCounter(t);if(Fx(t.keyType))return this.getGauge(t);if(Rx(t.keyType))return this.getFrequency(t);if(Ax(t.keyType))return this.getHistogram(t);if(vx(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/io/issues")}else return r}getCounter(t){let r=Ke(_e(t)(this.map));if(r==null){let o=PR(t);xr(t)(this.map)||Et(t,o)(this.map),r=o}return r}getFrequency(t){let r=Ke(_e(t)(this.map));if(r==null){let o=NR(t);xr(t)(this.map)||Et(t,o)(this.map),r=o}return r}getGauge(t){let r=Ke(_e(t)(this.map));if(r==null){let o=LR(t,0);xr(t)(this.map)||Et(t,o)(this.map),r=o}return r}getHistogram(t){let r=Ke(_e(t)(this.map));if(r==null){let o=qR(t);xr(t)(this.map)||Et(t,o)(this.map),r=o}return r}getSummary(t){let r=Ke(_e(t)(this.map));if(r==null){let o=HR(t);xr(t)(this.map)||Et(t,o)(this.map),r=o}return r}};BR=UR;var WR=()=>new Bx;var rN="@effect/io/Metric",oN=Symbol.for(rN),nN={_Type:e=>e,_In:e=>e,_Out:e=>e},sN=V(Symbol.for("@effect/io/Metric/globalMetricRegistry"),()=>WR()),iN=function(e,t,r){return Object.assign(n=>Ht(n,s=>D(()=>t(s,rt()))),{[oN]:nN,keyType:e,unsafeUpdate:t,unsafeValue:r,pipe(){return C(this,arguments)}})};var Dc=(e,t)=>zR(pR(e,t));var zR=e=>{let t=r=>{let o=mR(r)(e);return sN.get(o)};return iN(e.keyType,(r,o)=>t(o).update(r),r=>t(r).get())};var KR=(e,t,r)=>zR(fR(e,t,r));var $R=u(2,(e,t)=>we(Yp,r=>D(()=>{if(r.has(e)){let o=r.get(e);o.state.completed||(o.state.completed=!0,Di(o.result,t))}})));var Sc=class{constructor(){this.count=0,this.observers=new Set}addObserver(t){this.observers.add(t)}removeObserver(t){this.observers.delete(t)}increment(){this.count++,this.observers.forEach(t=>t(this.count))}decrement(){this.count--,this.observers.forEach(t=>t(this.count))}};var GR,VR,JR,YR,cN,uN="@effect/io/Supervisor",Cc=Symbol.for(uN),of={_T:e=>e},Ec=class e{constructor(t,r){this.underlying=t,this.value0=r,this[GR]=of}value(){return this.value0()}onStart(t,r,o,n){this.underlying.onStart(t,r,o,n)}onEnd(t,r){this.underlying.onEnd(t,r)}onEffect(t,r){this.underlying.onEffect(t,r)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new e(this,()=>_(t)(this.value()))}zip(t){return new un(this,t)}onRun(t,r){return this.underlying.onRun(t,r)}};GR=Cc;var un=class e{constructor(t,r){this.left=t,this.right=r,this[VR]=of}value(){return Ul(this.left.value(),this.right.value())}onStart(t,r,o,n){this.left.onStart(t,r,o,n),this.right.onStart(t,r,o,n)}onEnd(t,r){this.left.onEnd(t,r),this.right.onEnd(t,r)}onEffect(t,r){this.left.onEffect(t,r),this.right.onEffect(t,r)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Ec(this,()=>_(t)(this.value()))}zip(t){return new e(this,t)}onRun(t,r){return this.right.onRun(()=>this.left.onRun(t,r),r)}};VR=Cc;var Ux=class{constructor(){this[JR]=of,this.fibers=new Set}value(){return D(()=>Array.from(this.fibers))}onStart(t,r,o,n){this.fibers.add(n)}onEnd(t,r){this.fibers.delete(r)}onEffect(t,r){}onSuspend(t){}onResume(t){}map(t){return new Ec(this,()=>_(t)(this.value()))}zip(t){return new un(this,t)}onRun(t,r){return t()}};JR=Cc;var Wx=class{constructor(t){this.effect=t,this[YR]=of}value(){return this.effect}onStart(t,r,o,n){}onEnd(t,r){}onEffect(t,r){}onSuspend(t){}onResume(t){}map(t){return new Ec(this,()=>_(t)(this.value()))}zip(t){return new un(this,t)}onRun(t,r){return t()}};YR=Cc;cN=Cc;var lN=()=>new Ux,ZR=D(lN),pN=e=>new Wx(e),as=pN(N);var QR="Empty",XR="AddSupervisor",eF="RemoveSupervisor",tF="AndThen",Pi={_tag:QR},sf=(e,t)=>({_tag:tF,first:e,second:t}),fN=(e,t)=>mN(t,ve(e)),mN=(e,t)=>{let r=e,o=t;for(;Xe(o);){let n=et(o);switch(n._tag){case QR:{o=tt(o);break}case XR:{r=r.zip(n.supervisor),o=tt(o);break}case eF:{r=zx(r,n.supervisor),o=tt(o);break}case tF:{o=Pe(n.first)(Pe(n.second)(tt(o)));break}}}return r},zx=(e,t)=>O(e,t)?as:e instanceof un?zx(e.left,t).zip(zx(e.right,t)):e,af=e=>O(e,as)?rt():e instanceof un?ot(af(e.right))(af(e.left)):bo(e),hN=(e,t)=>{if(O(e,t))return Pi;let r=af(e),o=af(t),n=Fn(Pi,(i,a)=>sf(i,{_tag:XR,supervisor:a}))(Zh(r)(o)),s=Fn(Pi,(i,a)=>sf(i,{_tag:eF,supervisor:a}))(Zh(o)(r));return sf(n,s)},rF=Qu({empty:Pi,patch:fN,combine:sf,diff:hN});var oF,nF,gN=Dc("effect_fiber_started"),sF=Dc("effect_fiber_active"),xN=Dc("effect_fiber_successes"),yN=Dc("effect_fiber_failures"),bN=KR("effect_fiber_lifetimes",Bw({start:1,factor:2,count:100})),_c="Continue",DN="Done",iF="Yield",SN={_E:e=>e,_A:e=>e},Oc=e=>{throw new Error(`BUG: FiberRuntime - ${JSON.stringify(e)} - please report an issue at https://github.com/Effect-TS/io/issues`)},cf={[oi]:(e,t,r)=>t.i1(r),OnStep:(e,t,r)=>t.i1(se(r)),[ni]:(e,t,r)=>t.i2(r),[Ba]:(e,t,r)=>(e.patchRuntimeFlags(e._runtimeFlags,t.patch),zr(e._runtimeFlags)&&e.isInterrupted()?Y(e.getInterruptedCause()):se(r)),[si]:(e,t,r)=>(t.i2(r),t.i0()?(e.pushStack(t),t.i1()):N)},EN={[Zp]:(e,t,r,o)=>(e.processNewInterruptSignal(o.cause),zr(t)?Y(o.cause):r),[Xp]:(e,t,r,o)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Qp]:(e,t,r,o)=>(o.onFiber(e,ux(t)),r),[ef]:(e,t,r,o)=>m(jt(),()=>r)},CN=e=>Rt($E(e),t=>Li(JE(t),([r,o])=>{let n=new Map;for(let s of o)for(let i of s)n.set(i.request,i);return Re(IN(r.runAll(o),o.flat()),Yp,n)},!1)),wc=class{pipe(){return C(this,arguments)}constructor(t,r,o){if(this[oF]=mc,this[nF]=SN,this._queue=new Array,this._children=null,this._observers=new Array,this._running=!1,this._stack=[],this._asyncInterruptor=null,this._asyncBlockingOn=null,this._exitValue=null,this._steps=[!1],this.run=()=>{this.drainQueueOnCurrentThread()},this._runtimeFlags=o,this._fiberId=t,this._fiberRefs=r,this._supervisor=this.getFiberRef(Ni),qa(o)){let n=this.getFiberRef(vo);gN.unsafeUpdate(1,n),sF.unsafeUpdate(1,n)}}id(){return this._fiberId}resume(t){this.tell(ns(t))}status(){return this.ask((t,r)=>r)}runtimeFlags(){return this.ask((t,r)=>yw(r)?t._runtimeFlags:r.runtimeFlags)}scope(){return vw(this)}children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Vn)}fiberRefs(){return this.ask(t=>t.unsafeGetFiberRefs())}ask(t){return v(()=>{let r=xi(this._fiberId);return this.tell(Ii((o,n)=>{Di(r,D(()=>t(o,n)))})),Ne(r)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}await(){return rr(t=>{let r=o=>t(y(o));return this.tell(Ii((o,n)=>{o._exitValue!==null?r(this._exitValue):o.unsafeAddObserver(r)})),D(()=>this.tell(Ii((o,n)=>{o.unsafeRemoveObserver(r)})))},this.id())}inheritAll(){return ge((t,r)=>{let o=t.id(),n=t.unsafeGetFiberRefs(),s=r.runtimeFlags,i=this.unsafeGetFiberRefs(),a=vp(n,o,i);t.setFiberRefs(a);let c=t.getFiberRef(cF),l=Td(Na)(Td(Er)(Hn(s,c)));return pi(l)})}poll(){return D(()=>Ze(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return D(()=>this.tell(fx(Sr(t))))}unsafeAddObserver(t){this._exitValue!==null?t(this._exitValue):this._observers.push(t)}unsafeRemoveObserver(t){this._observers=this._observers.filter(r=>r!==t)}unsafeGetFiberRefs(){return this.setFiberRef(cF,this._runtimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=oc(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,r){this._fiberRefs=Xn(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:r}),t===Ni&&(this._supervisor=r)}setFiberRefs(t){this._fiberRefs=t,this._supervisor=this.getFiberRef(Ni)}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let r=_c,o=globalThis[cn];globalThis[cn]=this;try{for(;r===_c;)r=this._queue.length===0?DN:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[cn]=o}this._queue.length>0&&!this._running?(this._running=!0,r===iF?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.getFiberRef(Ao).scheduleTask(this.run,this.getFiberRef(za))}drainQueueWhileRunning(t,r){let o=r;for(;this._queue.length>0;){let n=this._queue.splice(0,1)[0];o=EN[n._tag](this,t,o,n)}return o}isInterrupted(){return!bd(this.getFiberRef(Vn))}addInterruptedCause(t){let r=this.getFiberRef(Vn);this.setFiberRef(Vn,Me(r,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let t=!1;for(let r of this._children)r.tell(fx(Sr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let t=this._children.values();this._children=null;let r=!1;return $n({while:()=>!r,body:()=>{let n=t.next();return n.done?D(()=>{r=!0}):oe(n.value.await())},step:()=>{}})}return null}reportExitValue(t){if(qa(this._runtimeFlags)){let r=this.getFiberRef(vo);switch(sF.unsafeUpdate(-1,r),t._tag){case be:{xN.unsafeUpdate(1,r);break}case ye:{yN.unsafeUpdate(1,r);break}}}if(t._tag==="Failure"){let r=this.getFiberRef(Ga);!Zo(t.cause)&&r._tag==="Some"&&this.log("Fiber terminated with a non handled error",t.cause,r)}}setExitValue(t){if(this._exitValue=t,qa(this._runtimeFlags)){let r=this.getFiberRef(vo),o=this.id().startTimeMillis,n=new Date().getTime();bN.unsafeUpdate((n-o)/1e3,r)}this.reportExitValue(t);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](t)}getLoggers(){return this.getFiberRef(pF)}log(t,r,o){let n=P(o)?o.value:this.getFiberRef(eg),s=this.getFiberRef(lF);if(r_(s,n))return;let i=this.getFiberRef($l),a=this.getFiberRef(Ka),c=this.getLoggers(),l=this.unsafeGetFiberRefs();if(Do(c)>0){let p=Lr(this.getFiberRef(ft),eo),f=new Date(p.unsafeCurrentTimeMillis());for(let h of c)h.log({fiberId:this.id(),logLevel:n,message:t,cause:r,context:l,spans:i,annotations:a,date:f})}}evaluateMessageWhileSuspended(t){switch(t._tag){case ef:return iF;case Zp:return this.processNewInterruptSignal(t.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(Y(t.cause)),this._asyncInterruptor=null),_c;case Xp:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),_c;case Qp:return t.onFiber(this,this._exitValue!==null?gw:xw(this._runtimeFlags,this._asyncBlockingOn)),_c;default:return Oc(t)}}evaluateEffect(t){this._supervisor.onResume(this);try{let r=zr(this._runtimeFlags)&&this.isInterrupted()?Y(this.getInterruptedCause()):t;for(;r!==null;)try{let o=r,n=this.runLoop(o);this._runtimeFlags=Fd(Na)(this._runtimeFlags);let s=this.interruptAllChildren();s!==null?r=m(s,()=>n):(this._queue.length===0?this.setExitValue(n):this.tell(ns(n)),r=null)}catch(o){if(Se(o))o._tag===ii?Rd(this._runtimeFlags)?(this.tell(ww()),this.tell(ns(Xr)),r=null):r=Xr:o._tag===ti&&(r=null);else throw o}}finally{this._supervisor.onSuspend(this)}}start(t){if(this._running)this.tell(ns(t));else{this._running=!0;let r=globalThis[cn];globalThis[cn]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[cn]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(ns(t))}patchRuntimeFlags(t,r){let o=ei(t,r);return globalThis[cn]=this,this._runtimeFlags=o,o}initiateAsync(t,r){let o=!1,n=s=>{o||(o=!0,this.tell(ns(s)))};zr(t)&&(this._asyncInterruptor=n);try{r(n)}catch(s){n(U($e(s)))}}pushStack(t){this._stack.push(t),t._tag==="OnStep"&&this._steps.push(!0),t._tag==="RevertFlags"&&this._steps.push(!1)}popStack(){let t=this._stack.pop();if(t)return(t._tag==="OnStep"||t._tag==="RevertFlags")&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._tag!==ri)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._tag!==oi&&t._tag!==si)return t;t=this.popStack()}}[(oF=fc,nF=kw,t0)](t){return _(nt(Fo),r=>{try{return Is(r,t)}catch(o){throw console.log(o),o}})}Left(t){return Or(t.i0)}None(t){return Or(Co())}Right(t){return se(t.i0)}Some(t){return se(t.i0)}[Ol](t){let r=t.i0(),o=this.getNextSuccessCont();if(o!==void 0)return o._tag in cf||Oc(o),cf[o._tag](this,o,r);throw se(r)}[be](t){let r=t,o=this.getNextSuccessCont();if(o!==void 0)return o._tag in cf||Oc(o),cf[o._tag](this,o,r.i0);throw r}[ye](t){let r=this.getFiberRef(Mo),o=_t(r)||r.head._tag==="ExternalSpan"?t.i0:Yo(t.i0,ME(r.head)),n=this.getNextFailCont();if(n!==void 0)switch(n._tag){case ri:case ni:return zr(this._runtimeFlags)&&this.isInterrupted()?Y(Ys(o)):n.i1(o);case"OnStep":return zr(this._runtimeFlags)&&this.isInterrupted()?Y(Ys(o)):n.i1(Y(o));case Ba:return this.patchRuntimeFlags(this._runtimeFlags,n.patch),zr(this._runtimeFlags)&&this.isInterrupted()?Y(Me(o,this.getInterruptedCause())):Y(o);default:Oc(n)}else throw Y(o)}[wl](t){return t.i0(this,ux(this._runtimeFlags))}Blocked(t){if(this._steps[this._steps.length-1]){let r=this.popStack();if(r)switch(r._tag){case"OnStep":return r.i1(t);case"OnSuccess":return De(t.i0,m(t.i1,r.i1));case"OnSuccessAndFailure":return De(t.i0,ee(t.i1,{onFailure:r.i1,onSuccess:r.i2}));case"OnFailure":return De(t.i0,Vr(t.i1,r.i1));case"While":return De(t.i0,m(t.i1,o=>(r.i2(o),r.i0()?$n({while:r.i0,body:r.i1,step:r.i2}):N)));case"RevertFlags":{this.pushStack(r);break}}}return Oe(r=>m(Bt(Il(t.i0)),()=>r(t.i1)))}RunBlocked(t){return CN(t.i0)}[Oo](t){let r=t.i0,o=this._runtimeFlags,n=ei(o,r);if(zr(n)&&this.isInterrupted())return Y(this.getInterruptedCause());if(this.patchRuntimeFlags(this._runtimeFlags,r),t.i1){let s=Hn(n,o);return this.pushStack(new Ml(s,t)),t.i1(o)}else return Xr}[oi](t){return this.pushStack(t),t.i0}OnStep(t){return this.pushStack(t),t.i0}[ri](t){return this.pushStack(t),t.i0}[ni](t){return this.pushStack(t),t.i0}[ti](t){throw this._asyncBlockingOn=t.i1,this.initiateAsync(this._runtimeFlags,t.i0),t}[ii](t){throw t}[si](t){let r=t.i0,o=t.i1;return r()?(this.pushStack(t),o()):Xr}[e0](t){return t.commit()}runLoop(t){let r=t,o=0;for(;;){if(this._runtimeFlags&wd&&this._supervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this._runtimeFlags,r)),o+=1,o>=this.getFiberRef(Xd)){o=0;let n=r;r=m(jt(),()=>n)}try{r._tag in this||(typeof r=="function"&&console.log(r()),Oc(r)),r=this._supervisor.onRun(()=>this[r._tag](r),this)}catch(n){if(Se(n)){if(n._tag===ii||n._tag===ti)throw n;if(n._tag===be||n._tag===ye)return n}else c0(n)?r=Y(n.cause):Cd(n)?r=Y(Me($e(n),Sr(ut))):r=Y($e(n))}}}},lF=Ee(o_("Info")),_N=rf(e=>{let t=qw.log(e);globalThis.console.log(t)});var ON=rf(({annotations:e,cause:t,context:r,fiberId:o,logLevel:n,message:s})=>{let i=mr(nc(r,Mo),Xu),a=te(nc(r,ft),l=>Lr(l,eo));if(i._tag==="None"||i.value._tag==="ExternalSpan"||a._tag==="None")return;let c=Object.fromEntries(e);c["effect.fiberId"]=DE(o),c["effect.logLevel"]=n.label,t!==null&&t!==lt&&(c["effect.cause"]=_o(t)),i.value.event(String(s),a.value.unsafeCurrentTimeNanos(),c)}),pF=Qd(bo(_N,ON)),Fc=u(e=>Se(e[0]),(e,t)=>$r(Ht(e,r=>Ac(o=>t(r,o))))),fF=u(e=>Se(e[0]),(e,t)=>no(e,Ac(r=>t(r)))),Ac=e=>ge(t=>{let r=t.unsafeGetFiberRefs();return m(lf,o=>di(o,n=>ge(s=>{let i=s.unsafeGetFiberRefs(),a=ki(i,r),c=ki(r,i);return s.setFiberRefs(lx(a,s.id(),r)),no(e(n),D(()=>{s.setFiberRefs(lx(c,s.id(),s.unsafeGetFiberRefs()))}))})))}),mF=e=>Re(Ua,x(ss))(e),aF=Symbol("@effect/io/Effect/existsPar/found"),hF=u(e=>Jt(e[0]),(e,t,r)=>pc(r,()=>v(()=>dF(e[Symbol.iterator](),0,t)),()=>pe(cr(e,(o,n)=>Pl(t(o,n),{onTrue:W(aF),onFalse:N}),r),{onFailure:o=>o===aF?y(!0):W(o),onSuccess:()=>y(!1)}))),dF=(e,t,r)=>{let o=e.next();return o.done?y(!1):m(r(o.value,t),n=>n?y(n):dF(e,t+1,r))},gF=u(e=>Jt(e[0]),(e,t,r)=>{let o=r?.negate?(n,s)=>_(t(n,s),$b):t;return pc(r,()=>v(()=>re(e).reduceRight((n,s,i)=>Ro(n,v(()=>o(s,i)),(a,c)=>c?[s,...a]:a),D(()=>new Array))),()=>_(cr(e,(n,s)=>_(o(n,s),i=>i?x(n):g()),r),OD))}),wN=e=>{if(Array.isArray(e)||Jt(e))return[e,g()];let t=Object.keys(e),r=t.length;return[t.map(o=>e[o]),x(o=>{let n={};for(let s=0;s<r;s++)n[t[s]]=o[s];return n})]},RN=(e,t,r)=>{let o=[];for(let n of e)o.push(Jr(n));return m(cr(o,I,{concurrency:r?.concurrency,batching:r?.batching}),n=>{let s=g(),i=n.length,a=new Array(i),c=new Array(i),l=!1;for(let p=0;p<i;p++){let f=n[p];f._tag==="Left"?(a[p]=x(f.left),l=!0):(c[p]=f.right,a[p]=s)}return l?t._tag==="Some"?W(t.value(a)):W(a):r?.discard?N:t._tag==="Some"?y(t.value(c)):y(c)})},FN=(e,t,r)=>{let o=[];for(let n of e)o.push(Jr(n));return r?.discard?cr(o,I,{concurrency:r?.concurrency,batching:r?.batching,discard:!0}):_(cr(o,I,{concurrency:r?.concurrency,batching:r?.batching}),n=>t._tag==="Some"?t.value(n):n)},qi=(e,t)=>{let[r,o]=wN(e);return t?.mode==="validate"?RN(r,o,t):t?.mode==="either"?FN(r,o,t):o._tag==="Some"?_(cr(r,I,t),o.value):cr(r,I,t)},xF=e=>t=>qi(t,e),yF=(e,t)=>_(qi(re(e).map(ne),t),ya(r=>Zl(r)?x(r.i0):g())),Vx=u(2,(e,t)=>Array.from({length:t},()=>e)),bF=u(e=>Se(e[0]),(e,t,r)=>qi(Vx(t)(e),r)),cr=u(e=>Jt(e[0]),(e,t,r)=>ge(o=>{let n=r?.batching===!0||r?.batching==="inherit"&&o.getFiberRef($a);return r?.discard?px(r,()=>n?Kx(e,t):Rt(e,t),()=>Li(e,t,n),s=>Jx(e,s,t,n)):px(r,()=>n?$x(e,1,t,!0):Ge(e,t),()=>Rc(e,t,n),s=>$x(e,s,t,n))})),Rc=(e,t,r)=>v(()=>{let o=re(e),n=new Array(o.length);return $(Li(o,(i,a)=>m(t(i,a),c=>D(()=>n[a]=c)),r),y(n))}),Kx=(e,t)=>v(()=>{let r=re(e),o=r.length;if(o===0)return N;if(o===1)return oe(t(r[0],0));let n=r.map(t),s=new Array,i=a=>a===n.length?v(()=>{if(s.length>0){let c=s.map(l=>l.i0).reduce(jn);return De(c,Kx(s.map(l=>l.i1),I))}return N}):li(n[a],c=>c._tag==="Blocked"?(s.push(c),i(a+1)):c._tag==="Failure"?v(()=>{if(s.length>0){let l=s.map(p=>p.i0).reduce(jn);return De(l,m(Kx(s.map(p=>p.i1),I),()=>c))}return N}):i(a+1));return i(0)}),Li=(e,t,r)=>v(()=>{let o=re(e),n=o.length;return n===0?N:n===1?oe(t(o[0],0)):Oe(s=>{let i=xi(ut),a=0,c=[],l=[],p=Bl(f=>Ge(o,(h,d)=>_(S=>(S.unsafeAddObserver(()=>{l.push(S)}),S))(cs(f(m(S=>{switch(S._tag){case"Failure":{if(c.length>0){let w=c.map(T=>T.i0).reduce(jn),A=Li(c,T=>T.i1,r);return De(w,ee(A,{onFailure:T=>$(Za(i,void 0),U(Be(T,S.cause))),onSuccess:()=>$(Za(i,void 0),U(S.cause))}))}return $(Za(i,void 0),U(S.cause))}default:{if(S._tag==="Blocked"&&c.push(S),a+1===n)if(c.length>0){let w=c.map(T=>T.i0).reduce(jn),A=Li(c,T=>T.i1,r);return bi(i,De(w,A))}else Di(i,se(Xr));else a=a+1;return N}}})(v(()=>s((r?Kr:ne)(t(h,d))))))))));return m(p,f=>ee(s(Ne(i)),{onFailure:h=>m(Rc(f,on,r),d=>{let S=gi(d,{parallel:!0});return S._tag==="Some"&&sg(S.value)?U(Be(Ys(h),S.value.i0)):U(Ys(h))}),onSuccess:h=>m(h,()=>Rt(l,d=>d.inheritAll()))}))})}),$x=(e,t,r,o)=>v(()=>{let n=re(e),s=new Array(n.length);return $(Jx(n,t,(a,c)=>_(r(a,c),l=>s[c]=l),o),y(s))}),Jx=(e,t,r,o)=>v(()=>{let n=0,s=e[Symbol.iterator](),i=[],a=m(D(()=>s.next()),l=>l.done?N:m((o?Kr:ne)(oe(r(l.value,n++))),p=>{switch(p._tag){case"Blocked":return i.push(p),a;case"Failure":return p;case"Success":return a}})),c=[];for(let l=0;l<t;l++)c.push(a);return m(ne(Li(c,I,o)),l=>{if(i.length===0)return l;let p=i.map(h=>h.i0).reduce(jn),f=Jx(i,t,h=>h.i1,o);return l._tag==="Failure"?De(p,ee(f,{onFailure:h=>Y(Be(l.cause,h)),onSuccess:()=>l})):De(p,f)})}),Bt=e=>ge((t,r)=>y(SF(e,t,r.runtimeFlags))),cs=e=>AN(e,ss),DF=u(2,(e,t)=>Bt(Hl(e,r=>{let o=Eo(r);switch(o._tag){case"Left":return t(o.left);case"Right":return U(o.right)}}))),SF=(e,t,r,o=null)=>{let n=Gx(e,t,r,o);return n.resume(e),n},Gx=(e,t,r,o=null)=>{let n=sl(),s=t.unsafeGetFiberRefs(),i=Mp(s,n),a=new wc(n,i,r),c=wi(i,Fo),l=a._supervisor;return l.onStart(c,e,x(t),a),a.unsafeAddObserver(f=>l.onEnd(f,a)),(o!==null?o:J(()=>t.scope())(t.getFiberRef(Ua))).add(r,a),a},AN=(e,t)=>ge((r,o)=>y(SF(e,r,o.runtimeFlags,t))),Yx=u(e=>Jt(e[0]),(e,t,r,o)=>pc(o,()=>re(e).reduce((n,s,i)=>Ro(n,s,(a,c)=>r(a,c,i)),y(t)),()=>m(ic(t),n=>m(cr(e,(s,i)=>m(s,a=>h_(n,c=>r(c,a,i))),o),()=>Bp(n))))),Zx=u(e=>Jt(e[0]),(e,t,r)=>_(o=>m0(o,I))(cr(e,(o,n)=>Jr(t(o,n)),r))),EF=u(e=>Jt(e[0]),(e,t,r)=>m(Zx(e,t,{concurrency:r?.concurrency,batching:r?.batching}),([o,n])=>o.length===0?r?.discard?N:y(n):W(o))),CF=e=>{let t=Br(e);if(!Xe(t))return Xo(()=>Qs("Received an empty collection of effects"));let r=et(t),o=tt(t),n=s=>X(s[0])(Tw(s[1]));return m(s=>m(i=>Oe(a=>m(c=>m(l=>rn(()=>bt(N,(p,f)=>mi(on(f))(p))(l))(a(m(n)(Zn(s)))))(Ht(l=>bt(N,(p,f)=>$(oe(Bt(m(vN(l,f,s,i))(dx(f)))))(p))(l))(_(l=>Pe(c)(l))(_(Nt)(Ge(l=>Bt(er(l)))(o))))))(Bt(er(r)))))(ic(o.length)))(pt())},vN=(e,t,r,o)=>n=>Jn(n,{onFailure:s=>wt(m_(o,i=>[i===0?oe(Yn(r,s)):N,i-1])),onSuccess:s=>m(i=>i?bt(N,(a,c)=>c===t?a:mi(on(c))(a))(Br(e)):N)(bi(r,[s,t]))}),_F=u(e=>Jt(e[0]),(e,t,r,o)=>pc(o,()=>re(e).reduce((n,s,i)=>Ro(n,s,(a,c)=>r(a,c,i)),t),()=>v(()=>_(n=>{switch(n._tag){case"None":throw new Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/io/issues");case"Some":return n.value}})(Yx([t,...e],g(),(n,s,i)=>{switch(n._tag){case"None":return x(s);case"Some":return x(r(n.value,s,i))}},o))))),OF=e=>m(lf,t=>m(us(Ew),r=>$(ls(e,r))(t.addFinalizer(o=>r.close(o))))),ln=e=>m(oy,e),Qx=e=>m(us(),t=>kN(t)(e)),wF=e=>ln(t=>m(r=>ls(r)(e))(og(t,Ti))),RF=(e,t)=>Xx([Pp(e,t)]),Xx=e=>ey(Ct(e)),ey=e=>Fr(vo,t=>ot(e)(t)),FF=u(2,(e,t)=>tr(us(),r=>m(ls(e,r),t),(r,o)=>nn(r,o))),AF=e=>pe(e,{onFailure:t=>{switch(t._tag){case"None":return y(g());case"Some":return W(t.value)}},onSuccess:t=>y(x(t))}),vF=u(e=>Se(e[1]),(e,t,r)=>ty(e,t,(o,n)=>[o,n],r)),ty=u(e=>Se(e[1]),(e,t,r,o)=>wt(Io(ne(e),ne(t),(n,s)=>Ya(n,s,{onSuccess:r,onFailure:(i,a)=>o?.concurrent?Be(i,a):Me(i,a)}),o)));var MF=u(e=>Jt(e[0]),(e,t,r)=>tn(cr(e,(o,n)=>tn(t(o,n)),r))),kF=e=>Fr(ft,Ie(eo,e)),uf=e=>Fr(ft,Ie(_i,e)),TF=e=>ln(t=>m(og(t,Ti),r=>_(o=>[or(n=>nn(r,Xl(n))),o])(ls(r)(e)))),IF=u(e=>Se(e[1]),(e,t,r)=>Io(e,t,(o,n)=>[o,n],r)),PF=u(e=>Se(e[1]),(e,t,r)=>Io(e,t,(o,n)=>o,r)),NF=u(e=>Se(e[1]),(e,t,r)=>Io(e,t,(o,n)=>n,r)),Io=u(e=>Se(e[1]),(e,t,r,o)=>_(qi([e,t],{concurrency:o?.concurrent?2:1,batching:o?.batching}),([n,s])=>r(n,s))),ry=e=>e===Sl?N:$r(m(t=>{let r=ei(t,e),o=Hn(r,t);return oe($(Ac(()=>pi(o)))(pi(e)))})(jl)),MN=(e,t)=>r=>v(()=>{switch(r.state._tag){case"Exited":return N;case"Running":{let o=r.state.finalizers,n=r.state.update,s=Array.from(o.keys()).sort((i,a)=>a-i).map(i=>o.get(i));return r.state={_tag:"Exited",nextKey:r.state.nextKey,exit:t,update:n},Cw(e)?m(i=>J(()=>Xr)(te(Ja)(gi(i))))(Ge(i=>ne(n(i)(t)))(s)):_w(e)?m(i=>J(()=>Xr)(te(Ja)(gi(i,{parallel:!0}))))(Rc(s,i=>ne(n(i)(t)),!1)):m(i=>J(()=>Xr)(te(Ja)(gi(i,{parallel:!0}))))($x(s,e.parallelism,i=>ne(n(i)(t)),!1))}}}),oy=Dt(Yl),lf=oy,us=(e=Ti)=>_(w0,t=>({[Yl]:Yl,[rg]:rg,pipe(){return C(this,arguments)},fork:r=>$r(m(o=>X(o)(Ht(n=>di(o,n))(ng(t,n=>nn(o,n)))))(us(r))),close:r=>oe(MN(e,r)(t)),addFinalizer:r=>oe(ng(r)(t))})),ls=u(2,(e,t)=>Kn(e,yn(Au(oy,t)))),kN=u(2,(e,t)=>_r(r=>t.close(r))(ls(t)(e))),TN=e=>hi(e,{differ:rF,fork:Pi}),ur=u(2,(e,t)=>oe(Fc(m(nt(e),r=>X(Un(e,t),r)),r=>Un(e,r)))),Fr=u(2,(e,t)=>we(e,r=>ur(e,t(r))));var cF=S0(Ad),Ni=TN(as),LF=e=>oe(dx(pf(e))),pf=e=>({[fc]:mc,id:()=>re(e).reduce((t,r)=>fd(t,r.id()),ut),await:()=>ne(Rc(e,t=>wt(t.await()),!1)),children:()=>_(Rc(e,t=>t.children(),!1),wu),inheritAll:()=>Rt(e,t=>t.inheritAll()),poll:()=>_(Ge(e,t=>t.poll()),Ru(x(se(new Array)),(t,r)=>{switch(r._tag){case"None":return g();case"Some":switch(t._tag){case"None":return g();case"Some":return x(Ya(r.value,t.value,{onSuccess:(o,n)=>[o,...n],onFailure:Be}))}}})),interruptAsFork:t=>Rt(e,r=>r.interruptAsFork(t)),pipe(){return C(this,arguments)}});var ny=u(3,(e,t,r)=>sy(e,t,{onSelfWin:(o,n)=>m(o.await(),s=>{switch(s._tag){case be:return m(o.inheritAll(),()=>r.onSelfDone(s,n));case ye:return r.onSelfDone(s,n)}}),onOtherWin:(o,n)=>m(o.await(),s=>{switch(s._tag){case be:return m(o.inheritAll(),()=>r.onOtherDone(s,n));case ye:return r.onOtherDone(s,n)}})})),qF=e=>Oe(t=>or(r=>m(cs(t(e)),o=>rn(()=>Iw(r)(o))(t(is(o)))))),ff=u(2,(e,t)=>or(r=>ny(e,t,{onSelfDone:(o,n)=>Jn(o,{onFailure:s=>Ri(i=>Be(s,i))(is(n)),onSuccess:s=>X(s)(nr(r)(n))}),onOtherDone:(o,n)=>Jn(o,{onFailure:s=>Ri(i=>Be(i,s))(is(n)),onSuccess:s=>X(s)(nr(r)(n))})}))),sy=u(3,(e,t,r)=>ge((o,n)=>{let s=n.runtimeFlags,i=St(!0),a=Gx(e,o,s,r.selfScope),c=Gx(t,o,s,r.otherScope);return rr(l=>{a.unsafeAddObserver(()=>uF(a,c,r.onSelfWin,i,l)),c.unsafeAddObserver(()=>uF(c,a,r.onOtherWin,i,l)),a.startFork(e),c.startFork(t)},fd(a.id(),c.id()))})),uF=(e,t,r,o,n)=>{zu(!0,!1)(o)&&n(r(e,t))},no=u(2,(e,t)=>Oe(r=>ee(r(e),{onFailure:o=>ee(t,{onFailure:n=>U(Me(o,n)),onSuccess:()=>U(o)}),onSuccess:o=>X(t,o)}))),IN=(e,t)=>or(r=>m(m(cs(er(e)),o=>rr(n=>{let s=t.map(c=>c.listeners.count),i=()=>{s.every(c=>c===0)&&(a.forEach(c=>c()),n(on(o)))};o.unsafeAddObserver(c=>{a.forEach(l=>l()),n(c)});let a=t.map((c,l)=>{let p=f=>{s[l]=f,i()};return c.listeners.addObserver(p),()=>c.listeners.removeObserver(p)});return i(),D(()=>{a.forEach(c=>c())})})),()=>v(()=>{let o=t.flatMap(n=>n.state.completed?[]:[n]);return Rt(o,n=>$R(n.request,Xl(r)))})));var HF=(e,t)=>Fc(vi(e,t),(r,o)=>m(Gp,n=>D(()=>r.end(n,o)))),mf=(e,t)=>m(vi(e,t),r=>Fr(Mo,Go(r))),hf=e=>Fr(ft,Ie(Oi,e)),df=e=>Fr(Mo,Go(e));var jF,WF,BF=(e,t,r,o)=>go({_tag:"Complete",key:e,exit:t,entryStats:r,timeToLiveMillis:o}),UF=(e,t)=>go({_tag:"Pending",key:e,deferred:t}),PN=(e,t)=>go({_tag:"Refreshing",deferred:e,complete:t}),iy=Symbol.for("@effect/cache/Cache/MapKey"),ay=class{constructor(t){this.current=t,this[jF]=iy,this.previous=void 0,this.next=void 0}[(jF=iy,R)](){return k(E(this.next))(k(E(this.previous))(E(this.current)))}[F](t){return this===t?!0:NN(t)&&O(this.current,t.current)&&O(this.previous,t.previous)&&O(this.next,t.next)}},Hi=e=>new ay(e),NN=e=>typeof e=="object"&&e!=null&&iy in e,cy=class{constructor(){this.head=void 0,this.tail=void 0}add(t){if(t!==this.tail)if(this.tail===void 0)this.head=t,this.tail=t;else{let r=t.previous,o=t.next;o!==void 0&&(t.next=void 0,r!==void 0?(r.next=o,o.previous=r):(this.head=o,this.head.previous=void 0)),this.tail.next=t,t.previous=this.tail,this.tail=t}}remove(){let t=this.head;if(t!==void 0){let r=t.next;r!==void 0?(t.next=void 0,this.head=r,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return t}},LN=()=>new cy,qN=(e,t,r,o,n,s)=>({map:e,keys:t,accesses:r,updating:o,hits:n,misses:s}),HN=()=>qN(_n(),LN(),IS(),St(!1),0,0),jN="@effect/cache/Cache",BN=Symbol.for(jN),UN={_Key:e=>e,_Error:e=>e,_Value:e=>e},WN=e=>e,gf=e=>({loadedMillis:e}),uy=class{constructor(t,r,o,n,s){this.capacity=t,this.context=r,this.fiberId=o,this.lookup=n,this.timeToLive=s,this[WF]=UN,this.cacheState=HN()}get(t){return _(this.getEither(t),Eu)}cacheStats(){return D(()=>WN({hits:this.cacheState.hits,misses:this.cacheState.misses,size:Ku(this.cacheState.map)}))}getOption(t){return v(()=>je(_e(this.cacheState.map,t),{onNone:()=>{let r=Hi(t);return this.trackAccess(r),this.trackMiss(),y(g())},onSome:r=>this.resolveMapValue(r)}))}getOptionComplete(t){return v(()=>je(_e(this.cacheState.map,t),{onNone:()=>{let r=Hi(t);return this.trackAccess(r),this.trackMiss(),y(g())},onSome:r=>this.resolveMapValue(r,!0)}))}contains(t){return D(()=>xr(this.cacheState.map,t))}entryStats(t){return D(()=>{let r=_e(this.cacheState.map,t);if(P(r))switch(r.value._tag){case"Complete":{let o=r.value.entryStats.loadedMillis;return x(gf(o))}case"Pending":return g();case"Refreshing":{let o=r.value.complete.entryStats.loadedMillis;return x(gf(o))}}return g()})}getEither(t){return v(()=>{let r=t,o,n,s=Ke(_e(this.cacheState.map,r));return s===void 0&&(n=cg(this.fiberId),o=Hi(r),xr(this.cacheState.map,r)?s=Ke(_e(this.cacheState.map,r)):Et(this.cacheState.map,r,UF(o,n))),s===void 0?(this.trackAccess(o),this.trackMiss(),_(this.lookupValueOf(t,n),q)):m(this.resolveMapValue(s),je({onNone:()=>this.getEither(t),onSome:i=>y(z(i))}))})}invalidate(t){return D(()=>{On(this.cacheState.map,t)})}invalidateWhen(t,r){return D(()=>{let o=_e(this.cacheState.map,t);P(o)&&o.value._tag==="Complete"&&o.value.exit._tag==="Success"&&r(o.value.exit.value)&&On(this.cacheState.map,t)})}invalidateAll(){return D(()=>{this.cacheState.map=_n()})}refresh(t){return oo(r=>v(()=>{let o=t,n=cg(this.fiberId),s=Ke(_e(this.cacheState.map,o));if(s===void 0&&(xr(this.cacheState.map,o)?s=Ke(_e(this.cacheState.map,o)):Et(this.cacheState.map,o,UF(Hi(o),n))),s===void 0)return oe(this.lookupValueOf(t,n));switch(s._tag){case"Complete":{if(this.hasExpired(r,s.timeToLiveMillis)){let i=Ke(_e(this.cacheState.map,o));return O(i,s)&&On(this.cacheState.map,o),oe(this.get(t))}return oe($p(()=>{let i=Ke(_e(this.cacheState.map,o));if(O(i,s)){let a=PN(n,s);return Et(this.cacheState.map,o,a),!0}return!1})(this.lookupValueOf(t,n)))}case"Pending":return Zn(s.deferred);case"Refreshing":return Zn(s.deferred)}}))}set(t,r){return oo(o=>D(()=>{let n=o.unsafeCurrentTimeMillis(),s=t,i=N0(r),a=BF(Hi(s),i,gf(n),n+qr(Qe(this.timeToLive(i))));Et(this.cacheState.map,s,a)}))}size(){return D(()=>Ku(this.cacheState.map))}values(){return D(()=>{let t=[];for(let r of this.cacheState.map)r[1]._tag==="Complete"&&r[1].exit._tag==="Success"&&t.push(r[1].exit.value);return t})}entries(){return D(()=>{let t=[];for(let r of this.cacheState.map)r[1]._tag==="Complete"&&r[1].exit._tag==="Success"&&t.push([r[0],r[1].exit.value]);return t})}keys(){return D(()=>{let t=[];for(let r of this.cacheState.map)r[1]._tag==="Complete"&&r[1].exit._tag==="Success"&&t.push(r[0]);return t})}resolveMapValue(t,r=!1){return oo(o=>{switch(t._tag){case"Complete":return this.trackAccess(t.key),this.trackHit(),this.hasExpired(o,t.timeToLiveMillis)?(On(this.cacheState.map,t.key.current),y(g())):_(t.exit,x);case"Pending":return this.trackAccess(t.key),this.trackHit(),r?y(g()):_(Zn(t.deferred),x);case"Refreshing":return this.trackAccess(t.complete.key),this.trackHit(),this.hasExpired(o,t.complete.timeToLiveMillis)?r?y(g()):_(Zn(t.deferred),x):_(t.complete.exit,x)}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(t){if(PS(this.cacheState.accesses,t),zu(this.cacheState.updating,!1,!0)){let r=!0;for(;r;){let n=NS(this.cacheState.accesses,Wh);n===Wh?r=!1:this.cacheState.keys.add(n)}let o=Ku(this.cacheState.map);for(r=o>this.capacity;r;){let n=this.cacheState.keys.remove();n!==void 0?xr(this.cacheState.map,n.current)&&(On(this.cacheState.map,n.current),o=o-1,r=o>this.capacity):r=!1}Qt(this.cacheState.updating,!1)}}hasExpired(t,r){return t.unsafeCurrentTimeMillis()>r}lookupValueOf(t,r){return oo(o=>v(()=>{let n=t;return rn(()=>$(T0(r),D(()=>{On(this.cacheState.map,n)})))(m(s=>{let i=o.unsafeCurrentTimeMillis(),a=gf(i),c=BF(Hi(n),s,a,i+qr(Qe(this.timeToLive(s))));return Et(this.cacheState.map,n,c),$(k0(r,s),s)})(ne(qt(this.context)(this.lookup(t)))))}))}};WF=BN;var zF=(e,t,r)=>new uy(e,Tt(),rl,t,o=>Qe(r(o)));var zN="@effect/io/Schedule/Interval",ly=Symbol.for(zN),KF={[ly]:ly,startMillis:0,endMillis:0};var $F=KF;var GF=e=>J(()=>$F)(wn(e.intervals)).startMillis;var VF=GF;var JN="Done";var JF=e=>e._tag===JN;var YF=JF;var QN,ZF,XN="@effect/io/Schedule",eL=Symbol.for(XN),tL="@effect/io/Schedule/Driver",rL=Symbol.for(tL);var oL={_Env:e=>e,_In:e=>e,_Out:e=>e};QN=eL;var py=class{constructor(t,r){this.schedule=t,this.ref=r,this[ZF]=oL}state(){return _(Rr(this.ref),t=>t[1])}last(){return m(Rr(this.ref),([t,r])=>{switch(t._tag){case"None":return Cr(()=>Co());case"Some":return y(t.value)}})}reset(){return ro(this.ref,[g(),this.schedule.initial])}next(t){return m(r=>m(o=>m(([n,s,i])=>YF(i)?$(W(g()))(ro(this.ref,[x(s),n])):X(s)($(Fi(Ps(VF(i.intervals)-o)))(ro(this.ref,[x(s),n]))))(v(()=>this.schedule.step(o,t,r))))(Ap))(_(Rr(this.ref),r=>r[1]))}};ZF=rL;var fy=e=>_(t=>new py(e,t))(es([g(),e.initial]));var QF=u(2,(e,t)=>my(e,t,(r,o)=>W(r))),my=u(3,(e,t,r)=>m(fy(t),o=>pe(e,{onFailure:n=>r(n,g()),onSuccess:n=>XF(e,o,r,n)}))),XF=(e,t,r,o)=>pe(t.next(o),{onFailure:()=>zn(t.last()),onSuccess:n=>pe(e,{onFailure:s=>r(s,x(n)),onSuccess:s=>XF(e,t,r,s)})}),eA=u(2,(e,t)=>Mc(e,r=>D(()=>t(r)))),Mc=u(2,(e,t)=>m(e,r=>m(t(r),o=>o?y(r):m(jt(),()=>Mc(e,t))))),tA=u(2,(e,t)=>hy(e,r=>D(()=>t(r)))),hy=u(2,(e,t)=>Mc(e,r=>lc(t(r)))),rA=u(2,(e,t)=>dy(e,t,(r,o)=>W(r))),oA=u(2,(e,t)=>nA(e,t)),nA=(e,t)=>Ot(e,r=>t<0?W(r):m(jt(),()=>nA(e,t-1))),dy=u(3,(e,t,r)=>m(fy(t),o=>sA(e,o,r))),sA=(e,t,r)=>Ot(e,o=>pe(t.next(o),{onFailure:()=>m(n=>r(o,n))(zn(t.last())),onSuccess:()=>sA(e,t,r)})),iA=u(2,(e,t)=>kc(e,r=>D(()=>t(r)))),kc=u(2,(e,t)=>Ot(e,r=>m(t(r),o=>o?W(r):m(jt(),()=>kc(e,t))))),aA=u(2,(e,t)=>gy(e,r=>D(()=>t(r)))),gy=u(2,(e,t)=>kc(e,r=>lc(t(r)))),xf=u(2,(e,t)=>xy(e,void 0,t)),xy=u(3,(e,t,r)=>m(fy(r),o=>cA(e,t,o))),cA=(e,t,r)=>pe(r.next(t),{onFailure:()=>zn(r.last()),onSuccess:()=>m(e,o=>cA(e,o,r))});var lA,fA,mA,by=class{constructor(t){this.permits=t,this.waiters=new Array,this.taken=0,this.take=r=>Gr(o=>{if(this.free<r){let n=()=>{if(this.free>=r){let s=this.waiters.findIndex(i=>i===n);s!==-1&&this.waiters.splice(s,1),this.taken+=r,o(y(r))}};return this.waiters.push(n),z(D(()=>{let s=this.waiters.findIndex(i=>i===n);s!==-1&&this.waiters.splice(s,1)}))}return this.taken+=r,q(y(r))}),this.release=r=>ge(o=>(this.taken-=r,o.getFiberRef(Ao).scheduleTask(()=>{this.waiters.forEach(n=>n())},o.getFiberRef(za)),N)),this.withPermits=r=>o=>Oe(n=>m(n(this.take(r)),s=>no(n(o),this.release(s))))}get free(){return this.permits-this.taken}},bf=e=>new by(e),hA=e=>D(()=>bf(e)),dA=e=>Df(e,LF),gA=u(2,(e,t)=>_(Sy(e,t),r=>r[0])),Sy=u(2,(e,t)=>{let r=Qe(t);return m(Yr(),o=>_(Sf(g()),n=>[qt(nL(e,r,n),o),sL(n)]))}),pA=(e,t,r)=>{let o=qr(Qe(t));return _(n=>x([r+o,n]))(Ht(n=>Qr(e,n))(pt()))},nL=(e,t,r)=>Oe(o=>m(n=>H(n)?ci("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/io/issues"):o(Ne(n.value[1])))(m(n=>lL(r,s=>{switch(s._tag){case"None":return x(pA(e,t,n));case"Some":{let[i]=s.value;return i-n<=0?x(pA(e,t,n)):g()}}}))(oo(n=>n.currentTimeMillis)))),sL=e=>ro(e,g()),xA=u(2,(e,t)=>Df(e,r=>t(pf(r)))),Df=u(2,(e,t)=>m(ZR,r=>no(m(r.value(),t))(_y(e,r)))),yA=u(e=>Jt(e[0]),(e,t)=>t?.discard?Rt(e,Bt):_(Ge(e,Bt),pf)),Ey=u(2,(e,t)=>Oe(r=>m(t.fork(Ti),o=>Ht(n=>o.addFinalizer(()=>or(s=>O(s,n.id())?N:oe(on(n)))))(cs(_r(n=>o.close(n))(r(e))))))),Cy=e=>ln(t=>Ey(e,t)),bA=e=>is(e),DA=e=>v(()=>m(e,is)),yy=Symbol.for("@effect/io/Effect/memoizeFunction.key"),yf=class{constructor(t,r){this.a=t,this.eq=r,this[lA]=yy}[(lA=yy,F)](t){return typeof t=="object"&&t!==null&&yy in t?this.eq?this.eq(this.a,t.a):O(this.a,t.a):!1}[R](){return this.eq?0:E(this.a)}},SA=(e,t)=>_(r=>o=>m(([n,s])=>X(s)(os(n)))(m(Ne)(r.modifyEffect(n=>{let s=_e(new yf(o,t))(n);return H(s)?_(i=>[i,Et(new yf(o,t),i)(n)])(Ht(i=>Bt(Qr(i)(ts(e(o)))))(pt())):y([s.value,n])}))))(m(Sf)(D(()=>_n()))),EA=u(2,(e,t)=>(r=>wt(r))(ff(ne(t))(ne(e)))),CA=u(2,(e,t)=>Cy(xf(t)(e))),_y=u(2,(e,t)=>Ve(Ni,o=>o.zip(t))(e)),_A=u(2,(e,t)=>Tc(e,{onTimeout:g,onSuccess:x,duration:t})),OA=u(2,(e,{duration:t,onTimeout:r})=>wt(Tc(e,{onTimeout:()=>Cr(r),onSuccess:y,duration:t}))),wA=u(2,(e,{duration:t,onTimeout:r})=>wt(Tc(e,{onTimeout:()=>Zr(r),onSuccess:y,duration:t}))),Tc=u(2,(e,{duration:t,onSuccess:r,onTimeout:o})=>or(n=>sy(e,er(Fi(t)),{onSelfWin:(s,i)=>m(s.await(),a=>a._tag==="Success"?m(s.inheritAll(),()=>X(nr(i,n),r(a.value))):m(nr(i,n),()=>Y(a.cause))),onOtherWin:(s,i)=>m(s.await(),a=>a._tag==="Success"?m(s.inheritAll(),()=>X(nr(i,n),o())):m(nr(i,n),()=>Y(a.cause))),otherScope:ss}))),iL="@effect/io/Ref/Synchronized",aL=Symbol.for(iL),cL={_A:e=>e},Dy=class{constructor(t,r){this.ref=t,this.withLock=r,this[fA]=cL,this[mA]=qg}modify(t){return this.modifyEffect(r=>y(t(r)))}modifyEffect(t){return this.withLock(m(([r,o])=>X(ro(this.ref,o),r))(m(Rr(this.ref),t)))}pipe(){return C(this,arguments)}};fA=aL,mA=Lp;var Sf=e=>D(()=>uL(e)),uL=e=>{let t=qp(e),r=bf(1);return new Dy(t,r.withPermits(1))},lL=u(2,(e,t)=>e.modifyEffect(r=>{let o=t(r);switch(o._tag){case"None":return y([r,r]);case"Some":return _(o.value,n=>[n,n])}}));var FA="Fresh",AA="FromEffect",vA="Scoped",MA="Suspend";var kA="ZipWithPar";var TA=nr;var Cf=e=>(t,r)=>{let o=sl(),n=t,s=Fg(e.fiberRefs,{fiberId:o,fiberRef:Fo,value:e.context});r?.scheduler&&(s=Fg(s,{fiberId:o,fiberRef:Ao,value:r.scheduler})),r?.updateRefs&&(s=r.updateRefs(s,o));let i=new wc(o,BC(s,o),e.runtimeFlags),a=i._supervisor;return a!==as&&(a.onStart(e.context,n,g(),i),i.unsafeAddObserver(c=>a.onEnd(c,i))),ss.add(e.runtimeFlags,i),i.start(n),i},Oy=e=>(t,r)=>{let o=Cf(e)(t);return r&&o.unsafeAddObserver(n=>{r(n)}),(n,s)=>Oy(e)(TA(n??ut)(o),s?i=>s(P0(i)):void 0)},mL=e=>t=>{let r=qA(e)(t);if(r._tag==="Failure")throw NA(r.i0);return r.i0},hL=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let r=new Error;Error.stackTraceLimit=t;let o=`Fiber #${e.id().id} cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work`,n="AsyncFiberException";return Object.defineProperties(r,{_tag:{value:n},message:{value:o},name:{value:n},toString:{get(){return()=>o}},[PA]:{get(){return()=>o}}}),r};var IA=Symbol.for("@effect/io/Runtime/FiberFailure"),dL=Symbol.for("@effect/io/Runtime/FiberFailure/Cause"),PA=Symbol.for("nodejs.util.inspect.custom"),NA=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let r=new Error;Error.stackTraceLimit=t;let o=ml(e);return o.length>0&&(r.name=o[0].message.split(":")[0],r.message=o[0].message.substring(r.name.length+2),r.stack=`${r.name}: ${r.message}
${o[0].stack}`),r[IA]=IA,r[dL]=e,r.toString=()=>_o(e),r[PA]=()=>r.toString(),r};var LA=e=>{let t=e;switch(t._tag){case"Failure":case"Success":return t;case"Left":return Or(t.left);case"Right":return se(t.right);case"Some":return se(t.value);case"None":return Or(Co())}},qA=e=>t=>{let r=LA(t);if(r)return r;let o=new Al,n=Cf(e)(t,{scheduler:o});o.flush();let s=n.unsafePoll();if(s)return s;throw hL(n)},gL=e=>t=>HA(e)(t).then(r=>{switch(r._tag){case be:return r.i0;case ye:throw NA(r.i0)}}),HA=e=>t=>new Promise(r=>{let o=LA(t);o&&r(o),Cf(e)(t).unsafeAddObserver(n=>{r(n)})}),Ef=class{constructor(t,r,o){this.context=t,this.runtimeFlags=r,this.fiberRefs=o}pipe(){return C(this,arguments)}},xL=e=>new Ef(e.context,e.flags,e.fiberRefs),wy=()=>ge((e,t)=>y(new Ef(e.getFiberRef(Fo),t.runtimeFlags,e.unsafeGetFiberRefs()))),yL=bl(Er,yl,xl),Ar=xL({context:Tt(),flags:yL,fiberRefs:zC(new Map)}),jA=Oy(Ar),BA=Cf(Ar),UA=gL(Ar),WA=HA(Ar),zA=mL(Ar),KA=qA(Ar),$A=e=>m(pt(),t=>m(wy(),r=>Oe(o=>$(Bt(o(Vr(e(n=>Oy(r)(Qr(n,t))),n=>Yn(t,n)))),o(Ne(t))))));var GA=u(2,(e,t)=>e.modifyEffect(t));var SL="@effect/io/Layer",EL=Symbol.for(SL),CL={_RIn:e=>e,_E:e=>e,_ROut:e=>e},_f={[EL]:CL,pipe(){return C(this,arguments)}};var _L=e=>e._tag===FA,Ry=class{constructor(t){this.ref=t}getOrElseMemoize(t,r){return wt(GA(this.ref,o=>{let n=o.get(t);if(n!==void 0){let[s,i]=n,a=_r(ep({onFailure:()=>N,onSuccess:()=>di(r,i)}))(m(([c,l])=>X(l)(os(c)))(s));return y([a,o])}return m(s=>m(i=>_(a=>{let c=Oe(p=>m(f=>m(h=>{switch(h._tag){case ye:return $(U(h.i0))($(nn(f,h))(Yn(i,h.i0)));case be:return X(h.i0[1])($(bi(i,h.i0))($(di(r,d=>m(S=>S(d))(Rr(a))))($(sc(s,d=>d+1))(ro(a,d=>oe(fi(Hp(s,S=>[S===1,S-1]))(nn(f,d))))))))}})(ne(p(m(JA(t,f),h=>ts(h(this)))))))(us())),l=[_r(Jn({onFailure:()=>N,onSuccess:()=>sc(s,p=>p+1)}))(Ne(i)),p=>m(f=>f(p))(Rr(a))];return[c,_L(t)?o:o.set(t,l)]})(es(()=>N)))(pt()))(es(0))}))}},OL=()=>_(Sf(new Map),e=>new Ry(e));var VA=u(2,(e,t)=>m(OL(),r=>m(JA(e,t),o=>o(r)))),JA=(e,t)=>{let r=e;switch(r._tag){case"Locally":return D(()=>o=>r.f(o.getOrElseMemoize(r.self,t)));case"ExtendScope":return D(()=>o=>ln(n=>o.getOrElseMemoize(r.layer,n)));case"Fold":return D(()=>o=>ee({onFailure:n=>o.getOrElseMemoize(r.failureK(n),t),onSuccess:n=>o.getOrElseMemoize(r.successK(n),t)})(o.getOrElseMemoize(r.layer,t)));case"Fresh":return D(()=>o=>VA(t)(r.layer));case"FromEffect":return D(()=>o=>r.effect);case"ProvideTo":return D(()=>o=>m(n=>qt(n)(o.getOrElseMemoize(r.second,t)))(o.getOrElseMemoize(r.first,t)));case"Scoped":return D(()=>o=>ls(r.effect,t));case"Suspend":return D(()=>o=>o.getOrElseMemoize(r.evaluate(),t));case"ZipWith":return D(()=>o=>Ro(o.getOrElseMemoize(r.second,t),r.zipK)(o.getOrElseMemoize(r.first,t)));case"ZipWithPar":return D(()=>o=>Io(o.getOrElseMemoize(r.second,t),r.zipK,{concurrent:!0})(o.getOrElseMemoize(r.first,t)))}};var wL=()=>RL(Yr());function RL(e){let t=Object.create(_f);return t._tag=AA,t.effect=e,t}var FL=u(2,(e,t)=>ML(e,t,(r,o)=>yn(o)(r)));var Ut=e=>AL(X(Tt())(e)),AL=e=>{let t=Object.create(_f);return t._tag=vA,t.effect=e,t};var vL=e=>{let t=Object.create(_f);return t._tag=MA,t.evaluate=e,t};var ML=u(3,(e,t,r)=>vL(()=>{let o=Object.create(_f);return o._tag=kA,o.first=e,o.second=t,o.zipK=r,o})),Fy=u(2,(e,t)=>tr(us(),r=>m(VA(t,r),o=>qt(e,o)),(r,o)=>nn(r,o))),YA=u(2,(e,t)=>Fy(e,FL(wL(),t)));var QA=e=>Ut(uf(e)),XA=e=>Ut(df(e)),e2=(e,t)=>Ut(mf(e,t)),t2=e=>Ut(hf(e));var Ay=Hn;var ji=Ee(zF(65536,()=>_(pt(),e=>({listeners:new Sc,handle:e})),()=>xh(60))),Ic=V(Symbol.for("@effect/io/FiberRef/currentCacheEnabled"),()=>Ee(!1)),vy=(e,t)=>m(Se(t)?t:y(t),r=>or(o=>{let n=new Proxy(e,{});return we(Ic,s=>{if(s)return we(ji,a=>m(a.getEither(n),c=>{switch(c._tag){case"Left":return c.left.listeners.increment(),De(KE,m(ne(Ne(c.left.handle)),l=>l._tag==="Failure"&&Zo(l.cause)?(c.left.listeners.decrement(),m(a.invalidateWhen(n,p=>p.handle===c.left.handle),()=>vy(n,t))):no(Ne(c.left.handle),D(()=>c.left.listeners.decrement()))));case"Right":return c.right.listeners.increment(),De(Nd(r,Ld({request:n,result:c.right.handle,listeners:c.right.listeners,ownerId:o,state:{completed:!1}})),Oe(l=>m(ne(l(Ne(c.right.handle))),p=>(c.right.listeners.decrement(),p))))}}));let i=new Sc;return i.increment(),m(pt(),a=>De(Nd(r,Ld({request:n,result:a,listeners:i,ownerId:o,state:{completed:!1}})),no(Ne(a),D(()=>i.decrement()))))})})),r2=(e,t)=>we(Ic,r=>r?we(ji,o=>m(o.getEither(e),n=>{switch(n._tag){case"Left":return N;case"Right":return ig(n.right.handle,t)}})):N),o2=u(2,(e,t)=>Re(e,Ic,t)),n2=u(2,(e,t)=>Re(e,ji,t));var PL=ai,NL=Se,LL=gA,qL=Sy,HL=zg,jL=SA,BL=Kg,UL=qi,WL=xF,zL=yF,KL=P_,$L=N_,GL=K_,VL=hF,JL=gF,YL=B_,ZL=W_,Pc=cr,QL=J_,XL=Yx,e3=Zx,t3=EO,r3=_F,o3=CO,n3=_O,s3=Vx,i3=bF,a3=kO,c3=TO,u3=EF,l3=MF,p3=rr,f3=$A,m3=b_,h3=Gr,d3=W,g3=Cr,x3=U,y3=Zr,b3=Wd,D3=ci,S3=Xo,E3=V_,C3=Gn,_3=hO,O3=bO,w3=y,R3=Ai,F3=Gg,Bi=v,A3=D,Ft=N,v3=jt,M3=D_;var k3=Ot,T3=Vr,I3=S_,P3=l0,N3=E_,L3=C_,q3=__,H3=O_,j3=w_,B3=jg,U3=Y_,W3=Z_,z3=yO,K3=FO,$3=rA,G3=oA,V3=dy,J3=iA,Y3=kc,Z3=aA,Q3=gy,X3=ac;var eq=BO,tq=UO,rq=Qg,oq=KO,nq=A_,sq=p0,iq=qF,aq=Nl,cq=Ll,uq=er,lq=f0,pq=rn,fq=$r,mq=Oe,hq=X,dq=Up,gq=y_,xq=oe,yq=tn,bq=z_,Ty=_,Dq=fO,Sq=ql,Eq=wo,Cq=Ri,_q=mO,Oq=lc,wq=Fc,Rq=fF,s2=tr,Fq=Ac,Aq=no,vq=Hl,Mq=_r,kq=OF,Tq=wF,Iq=lf,Pq=ln,Nq=Qx,Lq=FF,qq=TF,Hq=dA,jq=mF,Bq=v_,Uq=Wp,Wq=ts,zq=xA,Kq=Df,$q=en,Gq=or,Vq=Bt,Jq=cs,Yq=yA,Zq=Ey,Qq=Cy,Xq=DF,eH=bA,tH=DA,rH=_y,oH=Bl,nH=d0,sH=e=>Ut(ur(Ao,e)),iH=C0,aH=E0,cH=tg,uH=R_,lH=oo,pH=e=>Ut(Fr(ft,Ie(eo,e))),fH=kF,mH=MC,hH=F_,dH=Fi,gH=qO,xH=Zg,yH=_A,bH=OA,DH=wA,SH=Tc,EH=TC,CH=Cg,_H=QA,OH=kC,wH=uf,RH=Yr,i2=L_,FH=ui,AH=Kn,vH=qt,a2=h0,MH=u(2,(e,t)=>{let r=Ay(Ar.runtimeFlags,t.runtimeFlags),o=Ay(t.runtimeFlags,Ar.runtimeFlags),n=ki(Ar.fiberRefs,t.fiberRefs),s=ki(t.fiberRefs,Ar.fiberRefs);return s2(m(ky(r),()=>My(n)),()=>a2(e,t.context),()=>m(ky(o),()=>My(s)))}),kH=Fy,TH=DO,IH=$g,PH=YA,NH=ZO,LH=YO,qH=Xg,HH=ex,jH=QO,BH=e=>i2(t=>hh(t,e)),UH=$O,WH=M_,zH=k_,KH=T_,$H=I_;var pn=Jr,GH=ne,VH=Qr,JH=dO,YH=vO,ZH=AF,QH=Pl;var XH=q_,ej=H_,tj=cc,rj=j_,oj=WO,nj=zO,sj=$p,ij=fi,aj=GO,cj=VO,Wt=m,uj=wt,lj=CF,pj=ff,fj=EA,mj=ny,hj=zp,dj=Ht,gj=IO,xj=PO,yj=Yg,bj=NO,Dj=LO,Sj=G_,Ej=Ug,Cj=uO,_j=QF,Oj=wO,wj=my,Rj=eA,Fj=Mc,Aj=tA,vj=hy,Mj=xf,kj=CA,Tj=xy,Ij=$n,Pj=Bg,Nj=Q_,Lj=Re,qj=Ve,Hj=ur,jj=Fr,My=os,Bj=AO,Uj=Kp,Wj=X_,zj=eO,Kj=uc,$j=Wa,Gj=ee,Vj=pe,Jj=tO,Yj=rO,Zj=Wg,Qj=oO,Xj=nO,eB=sO,tB=iO,rB=aO,oB=x_,nB=cO,sB=_0,iB=e=>Ut(ur(Ga,e)),aB=zn,cB=zd,uB=Wn,lB=gO,pB=xO,fB=SO,mB=Rp,hB=wy,dB=jl,ky=pi,gB=x0,xB=ry,yB=MO,bB=Vg,DB=Jg,SB=RF,EB=Xx,CB=ey,_B=O0,OB=JO,wB=Qo,RB=I,FB=bf,AB=hA,vB=BA,MB=jA,c2=UA,kB=WA,TB=zA,IB=KA,PB=vF,NB=ty,LB=IF,qB=PF,HB=NF,jB=Io,BB=De,UB=Il,WB=Kr,zB=li,KB=vy,$B=r2,GB=g0,VB=e=>Ut(ur($a,e)),JB=e=>Ut(ur(Ic,e)),YB=e=>Ut(Se(e)?m(e,t=>ur(ji,t)):ur(ji,e)),ZB=o2,QB=n2,XB=t2,e5=jO,t5=Fp,r5=IC,o5=hf,n5=y0,s5=e=>Ut(ur(Va,e)),i5=ew,a5=XO,c5=rx,u5=tx,l5=rw,p5=ow,f5=tw,m5=vi,h5=XA,d5=e2,g5=ox,x5=HF,y5=nw,b5=mf,D5=nx,S5=df,E5=sw,C5=iw;var At={};Ss(At,{ConfigTypeId:()=>_5,all:()=>O5,array:()=>w5,boolean:()=>R5,chunk:()=>F5,date:()=>A5,fail:()=>v5,hashMap:()=>Y5,hashSet:()=>K5,integer:()=>k5,isConfig:()=>I5,logLevel:()=>T5,map:()=>P5,mapAttempt:()=>N5,mapOrFail:()=>L5,nested:()=>q5,number:()=>M5,option:()=>B5,orElse:()=>H5,orElseIf:()=>j5,primitive:()=>U5,repeat:()=>W5,secret:()=>z5,string:()=>$5,succeed:()=>G5,suspend:()=>V5,sync:()=>J5,unwrap:()=>Z5,validate:()=>Q5,withDefault:()=>X5,withDescription:()=>e6,zip:()=>t6,zipWith:()=>r6});var _5=Ep,O5=uC,w5=Z0,R5=Y0,F5=Cp,A5=Q0,v5=X0,M5=eC,k5=tC,T5=rC,I5=dg,P5=To,N5=oC,L5=Ei,q5=ir,H5=sC,j5=_p,B5=iC,U5=sn,W5=Sp,z5=aC,K5=cC,$5=hg,G5=Ci,V5=Xa,J5=pC,Y5=fC,Z5=gg,Q5=mC,X5=hC,e6=dC,t6=gC,r6=ec;var Of={};Ss(Of,{Tag:()=>Dt,add:()=>Ie,empty:()=>Tt,get:()=>Lr,getOption:()=>hh,isContext:()=>qT,isTag:()=>LD,make:()=>Au,merge:()=>yn,omit:()=>jT,pick:()=>HT,unsafeGet:()=>Is});var Ui={};Ss(Ui,{Class:()=>jD,TaggedClass:()=>$T,array:()=>zT,case:()=>KT,struct:()=>go,tagged:()=>HD,taggedEnum:()=>GT,tuple:()=>WT,unsafeArray:()=>dh,unsafeStruct:()=>qD});var j={};Ss(j,{Do:()=>WH,EffectTypeId:()=>PL,acquireRelease:()=>wq,acquireReleaseInterruptible:()=>Rq,acquireUseRelease:()=>s2,addFinalizer:()=>Fq,all:()=>UL,allSuccesses:()=>zL,allWith:()=>WL,allowInterrupt:()=>nq,annotateCurrentSpan:()=>a5,annotateLogs:()=>oB,annotateSpans:()=>i5,as:()=>hq,asSome:()=>dq,asSomeError:()=>gq,asUnit:()=>xq,async:()=>p3,asyncEffect:()=>f3,asyncEither:()=>h3,asyncOption:()=>m3,awaitAllChildren:()=>Hq,bind:()=>zH,bindTo:()=>KH,blocked:()=>BB,cacheRequestResult:()=>$B,cached:()=>HL,cachedFunction:()=>jL,cachedInvalidateWithTTL:()=>qL,cachedWithTTL:()=>LL,catch:()=>M3,catchAll:()=>k3,catchAllCause:()=>T3,catchAllDefect:()=>I3,catchSome:()=>P3,catchSomeCause:()=>N3,catchSomeDefect:()=>L3,catchTag:()=>q3,catchTags:()=>H3,cause:()=>j3,checkInterruptible:()=>sq,clock:()=>uH,clockWith:()=>lH,config:()=>EH,configProviderWith:()=>CH,context:()=>RH,contextWith:()=>i2,contextWithEffect:()=>FH,currentParentSpan:()=>u5,currentSpan:()=>c5,daemonChildren:()=>jq,delay:()=>hH,descriptor:()=>Bq,descriptorWith:()=>Uq,die:()=>b3,dieMessage:()=>D3,dieSync:()=>S3,diffFiberRefs:()=>Wq,disconnect:()=>iq,dropUntil:()=>KL,dropWhile:()=>$L,either:()=>pn,ensuring:()=>Aq,ensuringChild:()=>zq,ensuringChildren:()=>Kq,eventually:()=>B3,every:()=>GL,exists:()=>VL,exit:()=>GH,fail:()=>d3,failCause:()=>x3,failCauseSync:()=>y3,failSync:()=>g3,fiberId:()=>$q,fiberIdWith:()=>Gq,filter:()=>JL,filterOrDie:()=>XH,filterOrDieMessage:()=>ej,filterOrElse:()=>tj,filterOrFail:()=>rj,findFirst:()=>YL,firstSuccessOf:()=>ZL,flatMap:()=>Wt,flatMapStep:()=>zB,flatten:()=>uj,flip:()=>yq,flipWith:()=>bq,forEach:()=>Pc,forever:()=>Sj,fork:()=>Vq,forkAll:()=>Yq,forkDaemon:()=>Jq,forkIn:()=>Zq,forkScoped:()=>Qq,forkWithErrorHandler:()=>Xq,fromFiber:()=>eH,fromFiberEffect:()=>tH,fromNullable:()=>E5,gen:()=>E3,getFiberRefs:()=>Pj,head:()=>QL,if:()=>QH,ignore:()=>U3,ignoreLogged:()=>W3,inheritFiberRefs:()=>Nj,interrupt:()=>aq,interruptWith:()=>cq,interruptible:()=>uq,interruptibleMask:()=>lq,intoDeferred:()=>VH,isEffect:()=>NL,isFailure:()=>Wj,isSuccess:()=>zj,iterate:()=>Ej,labelMetrics:()=>bB,labelMetricsScoped:()=>EB,labelMetricsScopedSet:()=>CB,labelMetricsSet:()=>DB,let:()=>$H,linkSpans:()=>f5,locally:()=>Lj,locallyScoped:()=>Hj,locallyScopedWith:()=>jj,locallyWith:()=>qj,log:()=>Jj,logAnnotations:()=>nB,logDebug:()=>Zj,logError:()=>eB,logFatal:()=>tB,logInfo:()=>Qj,logTrace:()=>Yj,logWarning:()=>Xj,loop:()=>Cj,makeSemaphore:()=>AB,makeSpan:()=>m5,map:()=>Ty,mapAccum:()=>Dq,mapBoth:()=>Sq,mapError:()=>Eq,mapErrorCause:()=>Cq,mapInputContext:()=>AH,match:()=>Kj,matchCause:()=>$j,matchCauseEffect:()=>Gj,matchEffect:()=>Vj,merge:()=>_q,mergeAll:()=>XL,metricLabels:()=>_B,negate:()=>Oq,never:()=>C3,none:()=>_3,onError:()=>vq,onExit:()=>Mq,onInterrupt:()=>pq,once:()=>BL,option:()=>JH,optionFromOptional:()=>C5,orDie:()=>aB,orDieWith:()=>cB,orElse:()=>uB,orElseFail:()=>lB,orElseSucceed:()=>pB,parallelErrors:()=>z3,parallelFinalizers:()=>kq,partition:()=>e3,patchFiberRefs:()=>My,promise:()=>O3,provideContext:()=>vH,provideLayer:()=>kH,provideService:()=>TH,provideServiceEffect:()=>IH,provideSomeContext:()=>a2,provideSomeLayer:()=>PH,provideSomeRuntime:()=>MH,race:()=>pj,raceAll:()=>lj,raceFirst:()=>fj,raceWith:()=>mj,random:()=>fB,randomWith:()=>mB,reduce:()=>t3,reduceEffect:()=>r3,reduceRight:()=>o3,reduceWhile:()=>n3,repeat:()=>_j,repeatN:()=>Oj,repeatOrElse:()=>wj,repeatUntil:()=>Rj,repeatUntilEffect:()=>Fj,repeatWhile:()=>Aj,repeatWhileEffect:()=>vj,replicate:()=>s3,replicateEffect:()=>i3,request:()=>KB,retry:()=>$3,retryN:()=>G3,retryOrElse:()=>V3,retryUntil:()=>J3,retryUntilEffect:()=>Y3,retryWhile:()=>Z3,retryWhileEffect:()=>Q3,runCallback:()=>MB,runFork:()=>vB,runPromise:()=>c2,runPromiseExit:()=>kB,runRequestBlock:()=>UB,runSync:()=>TB,runSyncExit:()=>IB,runtime:()=>hB,runtimeFlags:()=>dB,sandbox:()=>K3,schedule:()=>Mj,scheduleForked:()=>kj,scheduleFrom:()=>Tj,scope:()=>Iq,scopeWith:()=>Pq,scoped:()=>Nq,sequentialFinalizers:()=>Tq,serviceConstants:()=>HH,serviceFunction:()=>NH,serviceFunctionEffect:()=>LH,serviceFunctions:()=>qH,serviceMembers:()=>jH,serviceOption:()=>BH,setClock:()=>pH,setConfigProvider:()=>_H,setFiberRefs:()=>Bj,setParentSpan:()=>h5,setRequestBatching:()=>VB,setRequestCache:()=>YB,setRequestCaching:()=>JB,setScheduler:()=>sH,setSpan:()=>d5,setTracer:()=>XB,setTracerTiming:()=>s5,setUnhandledErrorLogLevel:()=>iB,sleep:()=>dH,some:()=>YH,spanAnnotations:()=>l5,spanLinks:()=>p5,step:()=>WB,succeed:()=>w3,succeedNone:()=>R3,succeedSome:()=>F3,summarized:()=>hj,supervised:()=>rH,suspend:()=>Bi,sync:()=>A3,tagMetrics:()=>yB,tagMetricsScoped:()=>SB,takeUntil:()=>a3,takeWhile:()=>c3,tap:()=>dj,tapBoth:()=>gj,tapDefect:()=>xj,tapError:()=>yj,tapErrorCause:()=>Dj,tapErrorTag:()=>bj,timed:()=>gH,timedWith:()=>xH,timeout:()=>yH,timeoutFail:()=>bH,timeoutFailCause:()=>DH,timeoutTo:()=>SH,tracer:()=>e5,tracerWith:()=>t5,transplant:()=>oH,try:()=>X3,tryMap:()=>eq,tryMapPromise:()=>tq,tryPromise:()=>rq,unified:()=>RB,unifiedFn:()=>wB,uninterruptible:()=>fq,uninterruptibleMask:()=>mq,unit:()=>Ft,unless:()=>oj,unlessEffect:()=>nj,unsafeMakeSemaphore:()=>FB,unsandbox:()=>oq,unsome:()=>ZH,updateFiberRefs:()=>Uj,updateRuntimeFlags:()=>ky,updateService:()=>UH,useSpan:()=>g5,useSpanScoped:()=>x5,using:()=>Lq,validate:()=>PB,validateAll:()=>u3,validateFirst:()=>l3,validateWith:()=>NB,when:()=>sj,whenEffect:()=>ij,whenFiberRef:()=>aj,whenRef:()=>cj,whileLoop:()=>Ij,withClock:()=>mH,withClockScoped:()=>fH,withConcurrency:()=>nH,withConfigProvider:()=>OH,withConfigProviderScoped:()=>wH,withEarlyRelease:()=>qq,withLogSpan:()=>rB,withMaxFiberOps:()=>iH,withMetric:()=>OB,withParentSpan:()=>D5,withParentSpanScoped:()=>S5,withRequestBatching:()=>GB,withRequestCache:()=>QB,withRequestCaching:()=>ZB,withRuntimeFlags:()=>gB,withRuntimeFlagsScoped:()=>xB,withScheduler:()=>aH,withSchedulingPriority:()=>cH,withSpan:()=>y5,withSpanScoped:()=>b5,withTracer:()=>r5,withTracerScoped:()=>o5,withTracerTiming:()=>n5,withUnhandledErrorLogLevel:()=>sB,yieldNow:()=>v3,zip:()=>LB,zipLeft:()=>qB,zipRight:()=>HB,zipWith:()=>jB});var Lc={};Ss(Lc,{SafeRefinementId:()=>d6,any:()=>D6,bigint:()=>O6,boolean:()=>E6,date:()=>w6,defined:()=>S6,discriminator:()=>l2,discriminators:()=>Ny,discriminatorsExhaustive:()=>p2,either:()=>wf,exhaustive:()=>h2,instanceOf:()=>f2,instanceOfUnsafe:()=>F6,is:()=>x6,nonEmptyString:()=>g6,not:()=>h6,null:()=>_6,number:()=>b6,option:()=>v6,orElse:()=>m2,orElseAbsurd:()=>A6,record:()=>R6,string:()=>y6,tag:()=>f6,tags:()=>m6,tagsExhaustive:()=>Ly,type:()=>s6,typeTags:()=>c6,undefined:()=>C6,value:()=>i6,valueTags:()=>a6,when:()=>u6,whenAnd:()=>p6,whenOr:()=>l6});var Nc=class e{constructor(t){this.cases=t,this._tag="TypeMatcher",this._input=I,this._filters=I,this._remaining=I,this._result=I}add(t){return new e([...this.cases,t])}pipe(){return C(this,arguments)}},Iy=class e{constructor(t,r){this.provided=t,this.value=r,this._tag="ValueMatcher",this._input=I,this._filters=I,this._result=I}add(t){return this.value._tag==="Right"?this:t._tag==="When"&&t.guard(this.provided)===!0?new e(this.provided,q(t.evaluate(this.provided))):t._tag==="Not"&&t.guard(this.provided)===!1?new e(this.provided,q(t.evaluate(this.provided))):this}pipe(){return C(this,arguments)}},ps=class{constructor(t,r){this.guard=t,this.evaluate=r,this._tag="When"}},Py=class{constructor(t,r){this.guard=t,this.evaluate=r,this._tag="Not"}},Wi=e=>{if(typeof e=="function")return e;if(Array.isArray(e)){let t=e.map(Wi),r=t.length;return o=>{if(!Array.isArray(o))return!1;for(let n=0;n<r;n++)if(t[n](o[n])===!1)return!1;return!0}}else if(e!==null&&typeof e=="object"){let t=Object.entries(e).map(([o,n])=>[o,Wi(n)]),r=t.length;return o=>{if(typeof o!="object"||o===null)return!1;for(let n=0;n<r;n++){let[s,i]=t[n];if(!(s in o)||i(o[s])===!1)return!1}return!0}}return t=>t===e},o6=e=>{let t=e.map(Wi),r=t.length;return o=>{for(let n=0;n<r;n++)if(t[n](o)===!0)return!0;return!1}},n6=e=>{let t=e.map(Wi),r=t.length;return o=>{for(let n=0;n<r;n++)if(t[n](o)===!1)return!1;return!0}},s6=()=>new Nc([]),i6=e=>new Iy(e,z(e)),a6=e=>{let t=Ly(e)(new Nc([]));return r=>t(r)},c6=()=>e=>{let t=Ly(e)(new Nc([]));return r=>t(r)},u6=(e,t)=>r=>r.add(new ps(Wi(e),t)),l6=(...e)=>t=>{let r=e[e.length-1],o=e.slice(0,-1);return t.add(new ps(o6(o),r))},p6=(...e)=>t=>{let r=e[e.length-1],o=e.slice(0,-1);return t.add(new ps(n6(o),r))},l2=e=>(...t)=>{let r=t[t.length-1],o=t.slice(0,-1),n=o.length===1?s=>s[e]===o[0]:s=>o.includes(s[e]);return s=>s.add(new ps(n,r))},Ny=e=>t=>{let r=[];for(let n in t){let s=a=>a[e]===n,i=t[n];i&&r.push(new ps(s,i))}let o=r.length;return n=>{let s=n;for(let i=0;i<o;i++)s=s.add(r[i]);return s}},p2=e=>t=>{let r=Ny(e)(t);return o=>h2(r(o))},f6=l2("_tag"),m6=Ny("_tag"),Ly=p2("_tag"),h6=(e,t)=>r=>r.add(new Py(Wi(e),t)),d6=Symbol.for("@effect/match/SafeRefinementId"),g6=e=>typeof e=="string"&&e.length>0,x6=(...e)=>{let t=e.length;return r=>{for(let o=0;o<t;o++)if(r===e[o])return!0;return!1}},y6=ua,b6=mn,D6=()=>!0,S6=e=>e!=null,E6=pu,C6=la;var _6=Wb;var O6=Rs,w6=fu,R6=pa,f2=e=>t=>t instanceof e,F6=f2,m2=e=>t=>{let r=wf(t);return ha(r)?r._tag==="Right"?r.right:e(r.left):o=>{let n=r(o);return n._tag==="Right"?n.right:e(n.left)}},A6=e=>m2(()=>{throw new Error("absurd")})(e),wf=e=>{if(e._tag==="ValueMatcher")return e.value;let t=e.cases.length;return r=>{for(let o=0;o<t;o++){let n=e.cases[o];if(n._tag==="When"&&n.guard(r)===!0)return q(n.evaluate(r));if(n._tag==="Not"&&n.guard(r)===!1)return q(n.evaluate(r))}return z(r)}},v6=e=>{let t=wf(e);return ha(t)?da(t,{onLeft:()=>g(),onRight:x}):r=>da(t(r),{onLeft:()=>g(),onRight:o=>x(o)})},h2=e=>{let t=wf(e);if(ha(t)){if(t._tag==="Right")return t.right;throw new Error("@effect/match: exhaustive absurd")}return r=>{let o=t(r);if(o._tag==="Right")return o.right;throw new Error("@effect/match: exhaustive absurd")}};var fs={};Ss(fs,{Do:()=>wT,TypeId:()=>lD,all:()=>gD,ap:()=>uT,as:()=>mD,asUnit:()=>rT,bind:()=>OT,bindTo:()=>CT,composeK:()=>iT,contains:()=>th,containsWith:()=>DD,divide:()=>DT,exists:()=>gT,filter:()=>fT,filterMap:()=>yD,firstSomeOf:()=>Xk,flatMap:()=>mr,flatMapNullable:()=>nT,flatten:()=>Xm,fromIterable:()=>Yk,fromNullable:()=>Ze,gen:()=>FT,getEquivalence:()=>mT,getLeft:()=>Zk,getOrElse:()=>J,getOrNull:()=>Zm,getOrThrow:()=>Qm,getOrThrowWith:()=>fD,getOrUndefined:()=>Ke,getOrder:()=>hT,getRight:()=>pD,isNone:()=>H,isOption:()=>Ym,isSome:()=>P,let:()=>_T,lift2:()=>xa,liftNullable:()=>eT,liftPredicate:()=>bD,liftThrowable:()=>tT,map:()=>te,match:()=>je,multiply:()=>yT,multiplyCompact:()=>ET,none:()=>g,orElse:()=>dn,orElseEither:()=>Qk,partitionMap:()=>pT,product:()=>dD,productMany:()=>cT,reduceCompact:()=>lT,some:()=>x,subtract:()=>bT,sum:()=>xT,sumCompact:()=>ST,tap:()=>hD,toArray:()=>xD,toRefinement:()=>Jk,unit:()=>oT,zipLeft:()=>aT,zipRight:()=>sT,zipWith:()=>eh});var Rf="@effect/schema/ArbitraryHookId",qy="@effect/schema/PrettyHookId",Hy=(e,t)=>{switch(t._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(e);case"SymbolKeyword":return Object.getOwnPropertySymbols(e);case"Refinement":return Hy(e,t.from)}},qc=e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)),Ff=e=>{let t=!1,r;return()=>(t||(r=e(),t=!0),r)};var jy=e=>({_tag:"ParseError",errors:e}),lr=(e,t,r)=>({_tag:"Type",expected:e,actual:t,message:Ze(r)}),g2={_tag:"Forbidden"},Po=(e,t)=>({_tag:"Index",index:e,errors:t}),so=(e,t)=>({_tag:"Key",key:e,errors:t}),Af={_tag:"Missing"},By=e=>({_tag:"Unexpected",actual:e}),Uy=e=>({_tag:"UnionMember",errors:e}),Te=q,mt=e=>z(jy([e])),Je=e=>z(jy(e)),io=e=>{let t=e;if(t._tag==="Left"||t._tag==="Right")return t},zi=(e,t)=>{let r=e;return r._tag==="Left"?r:r._tag==="Right"?t(r.right):Wt(e,t)},x2=(e,t)=>{let r=e;return r._tag==="Left"?r:r._tag==="Right"?q(t(r.right)):Ty(e,t)};var kf="@effect/schema/TypeAnnotationId",Tf="@effect/schema/MessageAnnotationId",Ki="@effect/schema/IdentifierAnnotationId",ht="@effect/schema/TitleAnnotationId",No="@effect/schema/DescriptionAnnotationId",D2="@effect/schema/ExamplesAnnotationId",S2="@effect/schema/JSONSchemaAnnotationId",E2="@effect/schema/DocumentationAnnotationId",Bc=e=>t=>Object.prototype.hasOwnProperty.call(t.annotations,e)?x(t.annotations[e]):g(),$i=(e,t,r,o={})=>({_tag:"Declaration",typeParameters:e,type:t,decode:r,annotations:o});var zy=e=>({_tag:"Literal",literal:e,annotations:{}}),ms=e=>e._tag==="Literal";var M6=e=>e._tag==="UniqueSymbol",k6={_tag:"UndefinedKeyword",annotations:{[ht]:"undefined"}};var T6={_tag:"VoidKeyword",annotations:{[ht]:"void"}};var Uc={_tag:"NeverKeyword",annotations:{[ht]:"never"}};var Gi={_tag:"UnknownKeyword",annotations:{[ht]:"unknown"}},I6=e=>e._tag==="UnknownKeyword",C2={_tag:"AnyKeyword",annotations:{[ht]:"any"}},P6=e=>e._tag==="AnyKeyword",If={_tag:"StringKeyword",annotations:{[ht]:"string"}},jc=e=>e._tag==="StringKeyword",_2={_tag:"NumberKeyword",annotations:{[ht]:"number"}},Mf=e=>e._tag==="NumberKeyword",O2={_tag:"BooleanKeyword",annotations:{[ht]:"boolean"}},y2=e=>e._tag==="BooleanKeyword",N6={_tag:"BigIntKeyword",annotations:{[ht]:"bigint"}},b2=e=>e._tag==="BigIntKeyword",Ky={_tag:"SymbolKeyword",annotations:{[ht]:"symbol"}},Wy=e=>e._tag==="SymbolKeyword",L6={_tag:"ObjectKeyword",annotations:{[ht]:"object"}};var Wc=(e,t)=>({type:e,isOptional:t}),hs=(e,t,r,o={})=>({_tag:"Tuple",elements:e,rest:t,isReadonly:r,annotations:o});var Ue=(e,t,r,o,n={})=>({name:e,type:t,isOptional:r,isReadonly:o,annotations:n}),w2=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return w2(e.from);default:return!1}},Vi=(e,t,r)=>{if(w2(e))return{parameter:e,type:t,isReadonly:r};throw new Error("An index signature parameter type must be 'string', 'symbol', a template literal type or a refinement of the previous types")},Lo=(e,t,r={})=>{let o={};for(let s=0;s<e.length;s++){let i=e[s].name;if(Object.prototype.hasOwnProperty.call(o,i))throw new Error(`Duplicate property signature ${String(i)}`);o[i]=null}let n={string:!1,symbol:!1};for(let s=0;s<t.length;s++){let i=Nf(t[s].parameter);if(jc(i)){if(n.string)throw new Error("Duplicate index signature for type `string`");n.string=!0}else if(Wy(i)){if(n.symbol)throw new Error("Duplicate index signature for type `symbol`");n.symbol=!0}}return{_tag:"TypeLiteral",propertySignatures:q6(e),indexSignatures:t,annotations:r}};var qo=(e,t={})=>{let r=U6(e);switch(r.length){case 0:return Uc;case 1:return r[0];default:return{_tag:"Union",types:B6(r),annotations:t}}};var zc=(e,t={})=>({_tag:"Lazy",f:Ff(e),annotations:t});var Kc=(e,t,r,o={})=>({_tag:"Refinement",from:e,decode:t,isReversed:r,annotations:o}),R2=e=>e._tag==="Refinement",$c=(e,t,r,o)=>({from:e,to:t,decode:r,encode:o}),Pf=(e,t,r,o,n,s={})=>({_tag:"Transform",from:e,to:t,decode:r,encode:o,propertySignatureTransformations:n,annotations:s}),F2=(e,t,r,o,n={})=>Pf(e,t,r,o,[],n),A2=(e,t,r,o={})=>Pf(e,t,n=>{for(let s=0;s<r.length;s++){let i=r[s],a=i.from,c=Object.prototype.hasOwnProperty.call(n,a)?x(n[a]):g();delete n[a];let l=i.decode(c);P(l)&&(n[i.to]=l.value)}return Te(n)},n=>{for(let s=0;s<r.length;s++){let i=r[s],a=i.to,c=Object.prototype.hasOwnProperty.call(n,a)?x(n[a]):g();delete n[a];let l=i.encode(c);P(l)&&(n[i.from]=l.value)}return Te(n)},r,o);var v2=(e,t,r)=>({...e,annotations:{...e.annotations,[t]:r}});var M2=e=>e.map(t=>Ue(t.name,Le(t.type),t.isOptional,t.isReadonly,t.annotations)),k2=e=>e.map(t=>Vi(t.parameter,Le(t.type),t.isReadonly)),Le=e=>{switch(e._tag){case"Declaration":return $i(e.typeParameters.map(Le),Le(e.type),e.decode,e.annotations);case"Tuple":return hs(e.elements.map(t=>Wc(Le(t.type),t.isOptional)),te(e.rest,Ts(Le)),e.isReadonly,e.annotations);case"TypeLiteral":return Lo(M2(e.propertySignatures),k2(e.indexSignatures),e.annotations);case"Union":return qo(e.types.map(Le),e.annotations);case"Lazy":return zc(()=>Le(e.f()),e.annotations);case"Refinement":return Kc(Le(e.from),e.decode,!1,e.annotations);case"Transform":return Le(e.to)}return e},pr=e=>{switch(e._tag){case"Declaration":return $i(e.typeParameters.map(pr),pr(e.type),e.decode,e.annotations);case"Tuple":return hs(e.elements.map(t=>Wc(pr(t.type),t.isOptional)),te(e.rest,Ts(pr)),e.isReadonly);case"TypeLiteral":return Lo(e.propertySignatures.map(t=>Ue(t.name,pr(t.type),t.isOptional,t.isReadonly)),e.indexSignatures.map(t=>Vi(t.parameter,pr(t.type),t.isReadonly)));case"Union":return qo(e.types.map(pr));case"Lazy":return zc(()=>pr(e.f()));case"Refinement":case"Transform":return pr(e.from)}return e},T2=e=>{switch(e._tag){case"Declaration":return T2(e.type);case"NeverKeyword":return 0;case"Literal":case"UndefinedKeyword":case"VoidKeyword":case"UniqueSymbol":return 1;case"BooleanKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3;case"ObjectKeyword":return 5;case"UnknownKeyword":case"AnyKeyword":return 6;default:return 4}},q6=gn(ue(Mt,ca(e=>T2(e.type)))),I2=jb(Mt,Mt,Mt),H6=Lm(I2),P2=[0,0,0],j6=e=>e.reduce(H6,P2),Hc=e=>{switch(e._tag){case"Tuple":{let t=e.elements.length,r=P(e.rest)?e.rest.value.length:0;return[2,t,r]}case"TypeLiteral":{let t=e.propertySignatures.length,r=e.indexSignatures.length;return t+r===0?[-4,0,0]:[4,t,r]}case"Declaration":{let[t,r,o]=Hc(e.type);return[6,r,o]}case"Lazy":return[8,0,0];case"Union":return j6(e.types.map(Hc));case"Refinement":{let[t,r,o]=Hc(e.from);return[t+1,r,o]}case"Transform":return Hc(e.from);case"ObjectKeyword":return[-2,0,0];case"UnknownKeyword":case"AnyKeyword":return[-4,0,0];default:return P2}},B6=gn(Hb(ca(I2,Hc))),U6=e=>{let t=ue(e,Ou(o=>{switch(o._tag){case"NeverKeyword":return[];case"Union":return o.types;default:return[o]}}));if(t.some(P6))return[C2];if(t.some(I6))return[Gi];let r;return(r=t.findIndex(jc))!==-1&&(t=t.filter((o,n)=>n===r||!jc(o)&&!(ms(o)&&typeof o.literal=="string"))),(r=t.findIndex(Mf))!==-1&&(t=t.filter((o,n)=>n===r||!Mf(o)&&!(ms(o)&&typeof o.literal=="number"))),(r=t.findIndex(y2))!==-1&&(t=t.filter((o,n)=>n===r||!y2(o)&&!(ms(o)&&typeof o.literal=="boolean"))),(r=t.findIndex(b2))!==-1&&(t=t.filter((o,n)=>n===r||!b2(o)&&!(ms(o)&&typeof o.literal=="bigint"))),(r=t.findIndex(Wy))!==-1&&(t=t.filter((o,n)=>n===r||!Wy(o)&&!M6(o))),t},Nf=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return e;case"Refinement":return Nf(e.from)}};var ao=(e,t=[])=>({value:e,forest:t}),N2=e=>W6(ao("error(s) found",e.map(qf))),W6=e=>e.value+L2(`
`,e.forest),L2=(e,t)=>{let r="",o=t.length,n;for(let s=0;s<o;s++){n=t[s];let i=s===o-1;r+=e+(i?"\u2514":"\u251C")+"\u2500 "+n.value,r+=L2(e+(o>1&&!i?"\u2502  ":"   "),n.forest)}return r},Gc=e=>{if(e==null||typeof e=="number"||typeof e=="symbol"||e instanceof Date)return String(e);if(typeof e=="bigint")return String(e)+"n";try{return JSON.stringify(e)}catch{return String(e)}},z6=e=>{switch(e.type._tag){case"StringKeyword":return"${string}";case"NumberKeyword":return"${number}"}},K6=e=>e.head+e.spans.map(t=>z6(t)+t.literal).join(""),$6=Bc(Tf),G6=Bc(ht),V6=Bc(Ki),J6=Bc(No),vr=e=>ue(V6(e),dn(()=>G6(e)),dn(()=>J6(e))),Lf=e=>{switch(e._tag){case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"UndefinedKeyword":case"SymbolKeyword":case"ObjectKeyword":case"AnyKeyword":case"UnknownKeyword":case"VoidKeyword":case"NeverKeyword":return J(vr(e),()=>e._tag);case"Literal":return J(vr(e),()=>Gc(e.literal));case"UniqueSymbol":return J(vr(e),()=>Gc(e.symbol));case"Union":return e.types.map(Lf).join(" or ");case"TemplateLiteral":return J(vr(e),()=>K6(e));case"Tuple":return J(vr(e),()=>"<anonymous tuple or array schema>");case"TypeLiteral":return J(vr(e),()=>"<anonymous type literal schema>");case"Enums":return J(vr(e),()=>e.enums.map((t,r)=>JSON.stringify(r)).join(" | "));case"Lazy":return J(vr(e),()=>"<anonymous lazy schema>");case"Declaration":return J(vr(e),()=>"<anonymous declaration schema>");case"Refinement":return J(vr(e),()=>"<anonymous refinement schema>");case"Transform":return J(vr(e),()=>`${Lf(e.from)} -> ${Lf(e.to)}`)}},qf=e=>{switch(e._tag){case"Type":return ao(ue($6(e.expected),te(t=>t(e.actual)),dn(()=>e.message),J(()=>`Expected ${Lf(e.expected)}, actual ${Gc(e.actual)}`)));case"Forbidden":return ao("is forbidden");case"Index":{let t=e.errors.map(qf);return t.length===1&&t[0].forest.length!==0?ao(`[${e.index}]${t[0].value}`,t[0].forest):ao(`[${e.index}]`,t)}case"Unexpected":return ao("is unexpected");case"Key":{let t=e.errors.map(qf);return t.length===1&&t[0].forest.length!==0?ao(`[${Gc(e.key)}]${t[0].value}`,t[0].forest):ao(`[${Gc(e.key)}]`,t)}case"Missing":return ao("is missing");case"UnionMember":return ao("union member",e.errors.map(qf))}};var H2=e=>{let t=dt(e);return(r,o)=>t(r,{...o,isEffectAllowed:!0})};var Vy=e=>dt(e.ast);var Jc=e=>H2(e.ast);var Yc=e=>H2(Mr(e.ast)),dt=(e,t=!0)=>{switch(e._tag){case"Refinement":if(e.isReversed){let r=dt(Le(e),t),o=dt(Mr(j2(e.from)),!1);return(n,s)=>Vc(zi(r(n,s),i=>o(i,s)),s)}else{let r=dt(e.from,t);return(o,n)=>Vc(zi(r(o,n),s=>e.decode(s,n)),n)}case"Transform":{let r=dt(e.to,!1);if(t){let o=dt(e.from);return(n,s)=>Vc(zi(o(n,s),i=>zi(e.decode(i,s),a=>r(a,s))),s)}else return(o,n)=>Vc(zi(e.decode(o,n),s=>r(s,n)),n)}case"Declaration":{let r=e.decode(...e.typeParameters);return(o,n)=>Vc(r(o,n),n)}case"Literal":return vt(e,r=>r===e.literal);case"UniqueSymbol":return vt(e,r=>r===e.symbol);case"UndefinedKeyword":return vt(e,la);case"VoidKeyword":return vt(e,la);case"NeverKeyword":return vt(e,zb);case"UnknownKeyword":case"AnyKeyword":return Te;case"StringKeyword":return vt(e,ua);case"NumberKeyword":return vt(e,mn);case"BooleanKeyword":return vt(e,pu);case"BigIntKeyword":return vt(e,Rs);case"SymbolKeyword":return vt(e,Bb);case"ObjectKeyword":return vt(e,de);case"Enums":return vt(e,r=>e.enums.some(([o,n])=>n===r));case"TemplateLiteral":{let r=Q6(e);return vt(e,o=>ua(o)&&r.test(o))}case"Tuple":{let r=e.elements.map(s=>dt(s.type,t)),o=ue(e.rest,te(Ts(s=>dt(s)))),n=e.elements.filter(s=>!s.isOptional).length;return P(e.rest)&&(n+=e.rest.value.length-1),(s,i)=>{if(!Array.isArray(s))return mt(lr(Z6,s));let a=i?.errors==="all",c=[],l=0,p=s.length;for(let w=p;w<=n-1;w++){let A=Po(w,[Af]);if(a){c.push([l++,A]);continue}else return mt(A)}if(H(e.rest))for(let w=e.elements.length;w<=p-1;w++){let A=Po(w,[By(s[w])]);if(a){c.push([l++,A]);continue}else return Je(zt(Ye(c),A))}let f=[],h=0,d;for(;h<r.length;h++)if(p<h+1){if(e.elements[h].isOptional)continue}else{let w=r[h],A=w(s[h],i),T=io(A);if(T){if(Fe(T)){let B=Po(h,T.left.errors);if(a){c.push([l++,B]);continue}else return Je(zt(Ye(c),B))}f.push([l++,T.right])}else{let B=l++,K=h;d||(d=[]),d.push(({es:ae,output:Ce})=>Wt(pn(A),qe=>{if(Fe(qe)){let he=Po(K,qe.left.errors);return a?(ae.push([B,he]),Ft):Je(zt(Ye(ae),he))}return Ce.push([B,qe.right]),Ft}))}}if(P(o)){let w=Ae(o.value),A=Yt(o.value);for(;h<p-A.length;h++){let T=w(s[h],i),B=io(T);if(B)if(Fe(B)){let K=Po(h,B.left.errors);if(a){c.push([l++,K]);continue}else return Je(zt(Ye(c),K))}else f.push([l++,B.right]);else{let K=l++,ae=h;d||(d=[]),d.push(({es:Ce,output:qe})=>Wt(pn(T),he=>{if(Fe(he)){let Tr=Po(ae,he.left.errors);return a?(Ce.push([K,Tr]),Ft):Je(zt(Ye(Ce),Tr))}else return qe.push([K,he.right]),Ft}))}}for(let T=0;T<A.length;T++)if(h+=T,!(p<h+1)){let B=A[T](s[h],i),K=io(B);if(K){if(Fe(K)){let ae=Po(h,K.left.errors);if(a){c.push([l++,ae]);continue}else return Je(zt(Ye(c),ae))}f.push([l++,K.right])}else{let ae=l++,Ce=h;d||(d=[]),d.push(({es:qe,output:he})=>Wt(pn(B),Tr=>{if(Fe(Tr)){let lo=Po(Ce,Tr.left.errors);return a?(qe.push([ae,lo]),Ft):Je(zt(Ye(qe),lo))}return he.push([ae,Tr.right]),Ft}))}}}let S=({es:w,output:A})=>Cu(w)?Je(Ye(w)):Te(Ye(A));if(d&&d.length>0){let w=d;return Bi(()=>{let A={es:Array.from(c),output:Array.from(f)};return Wt(Pc(w,T=>T(A),{concurrency:"unbounded",discard:!0}),()=>S(A))})}return S({output:f,es:c})}}case"TypeLiteral":{if(e.propertySignatures.length===0&&e.indexSignatures.length===0)return vt(e,Kb);let r=e.propertySignatures.map(i=>dt(i.type,t)),o=e.indexSignatures.map(i=>[dt(i.parameter,t),dt(i.type,t)]),n=dt(qo(e.indexSignatures.map(i=>Nf(i.parameter)))),s={};for(let i=0;i<r.length;i++)s[e.propertySignatures[i].name]=null;return(i,a)=>{if(!pa(i))return mt(lr(q2,i));let c=a?.errors==="all",l=[],p=0;if(a?.onExcessProperty==="error"){for(let w of qc(i))if(!Object.prototype.hasOwnProperty.call(s,w)){let A=n(w),T=io(A);if(T&&Fe(T)){let B=so(w,[By(i[w])]);if(c){l.push([p++,B]);continue}else return Je(zt(Ye(l),B))}}}let h={},d;for(let w=0;w<r.length;w++){let A=e.propertySignatures[w],T=r[w],B=A.name;if(Object.prototype.hasOwnProperty.call(i,B)){let K=T(i[B],a),ae=io(K);if(ae){if(Fe(ae)){let Ce=so(B,ae.left.errors);if(c){l.push([p++,Ce]);continue}else return Je(zt(Ye(l),Ce))}h[B]=ae.right}else{let Ce=p++,qe=B;d||(d=[]),d.push(({es:he,output:Tr})=>Wt(pn(K),lo=>{if(Fe(lo)){let iu=so(qe,lo.left.errors);return c?(he.push([Ce,iu]),Ft):Je(zt(Ye(he),iu))}return Tr[qe]=lo.right,Ft}))}}else if(!A.isOptional){let K=so(B,[Af]);if(c){l.push([p++,K]);continue}else return mt(K)}}for(let w=0;w<o.length;w++){let A=o[w][0],T=o[w][1],B=Hy(i,e.indexSignatures[w].parameter);for(let K of B){if(Object.prototype.hasOwnProperty.call(s,K))continue;let ae=io(A(K,a));if(ae&&Fe(ae)){let he=so(K,ae.left.errors);if(c){l.push([p++,he]);continue}else return Je(zt(Ye(l),he))}let Ce=T(i[K],a),qe=io(Ce);if(qe)if(Fe(qe)){let he=so(K,qe.left.errors);if(c){l.push([p++,he]);continue}else return Je(zt(Ye(l),he))}else h[K]=qe.right;else{let he=p++,Tr=K;d||(d=[]),d.push(({es:lo,output:iu})=>Wt(pn(Ce),Im=>{if(Fe(Im)){let Ib=so(Tr,Im.left.errors);return c?(lo.push([he,Ib]),Ft):Je(zt(Ye(lo),Ib))}else return iu[K]=Im.right,Ft}))}}}let S=({es:w,output:A})=>Cu(w)?Je(Ye(w)):Te(A);if(d&&d.length>0){let w=d;return Bi(()=>{let A={es:Array.from(l),output:Object.assign({},h)};return Wt(Pc(w,T=>T(A),{concurrency:"unbounded",discard:!0}),()=>S(A))})}return S({es:l,output:h})}}case"Union":{let r=Y6(e.types),o=qc(r.keys),n=o.length,s=new Map;for(let i=0;i<e.types.length;i++)s.set(e.types[i],dt(e.types[i],!0));return(i,a)=>{let c=[],l=0,p=[];if(n>0)if(pa(i))for(let d=0;d<n;d++){let S=o[d],w=r.keys[S].buckets;if(Object.prototype.hasOwnProperty.call(i,S)){let A=String(i[S]);Object.prototype.hasOwnProperty.call(w,A)?p=p.concat(w[A]):c.push([l++,so(S,[lr(r.keys[S].ast,i[S])])])}else c.push([l++,so(S,[Af])])}else c.push([l++,lr(q2,i)]);r.otherwise.length>0&&(p=p.concat(r.otherwise));let f;for(let d=0;d<p.length;d++){let S=s.get(p[d])(i,a),w=!f||f.length===0?io(S):void 0;if(w){if(Pr(w))return Te(w.right);c.push([l++,Uy(w.left.errors)])}else{let A=l++;f||(f=[]),f.push(T=>Bi(()=>"finalResult"in T?Ft:Wt(pn(S),B=>(Pr(B)?T.finalResult=Te(B.right):T.es.push([A,Uy(B.left.errors)]),Ft))))}}let h=d=>Cu(d)?Je(Ye(d)):mt(lr(Uc,i));if(f&&f.length>0){let d=f;return Bi(()=>{let S={es:Array.from(c)};return Wt(Pc(d,w=>w(S),{concurrency:1,discard:!0}),()=>"finalResult"in S?S.finalResult:h(S.es))})}return h(c)}}case"Lazy":{let r=Ff(()=>dt(e.f(),t));return(o,n)=>r()(o,n)}}},vt=(e,t)=>r=>t(r)?Te(r):mt(lr(e,r)),Gy=e=>{switch(e._tag){case"Declaration":return Gy(e.type);case"TypeLiteral":{let t=[];for(let r=0;r<e.propertySignatures.length;r++){let o=e.propertySignatures[r],n=pr(o.type);ms(n)&&!o.isOptional&&t.push([o.name,n])}return t}case"Refinement":case"Transform":return Gy(e.from)}return[]},Y6=e=>{let t={},r=[];for(let o=0;o<e.length;o++){let n=e[o],s=Gy(n);if(s.length>0)for(let i=0;i<s.length;i++){let[a,c]=s[i],l=String(c.literal);t[a]=t[a]||{buckets:{},ast:Uc};let p=t[a].buckets;if(Object.prototype.hasOwnProperty.call(p,l)){if(i<s.length-1)continue;p[l].push(n),t[a].ast=qo([t[a].ast,c])}else{p[l]=[n],t[a].ast=qo([t[a].ast,c]);break}}else r.push(n)}return{keys:t,otherwise:r}},j2=e=>R2(e)?j2(e.from):e,Vc=(e,t)=>{let r=io(e);return r||(t?.isEffectAllowed===!0?e:mt(g2))},Z6=hs([],x([Gi]),!0,{[No]:"a generic array"}),q2=Lo([],[Vi(If,Gi,!0),Vi(Ky,Gi,!0)],{[No]:"a generic object"}),zt=(e,t)=>(e.push(t),e),Q6=e=>{let t=`^${e.head}`;for(let r of e.spans)jc(r.type)?t+=".*":Mf(r.type)&&(t+="-?\\d+(\\.\\d+)?"),t+=r.literal;return t+="$",new RegExp(t)};function Ye(e){return e.sort(([t],[r])=>t>r?1:t<r?-1:0).map(([t,r])=>r)}var Mr=e=>{switch(e._tag){case"Declaration":return $i(e.typeParameters.map(Mr),e.type,e.decode,e.annotations);case"Tuple":return hs(e.elements.map(t=>Wc(Mr(t.type),t.isOptional)),te(e.rest,Ts(Mr)),e.isReadonly);case"TypeLiteral":return Lo(e.propertySignatures.map(t=>Ue(t.name,Mr(t.type),t.isOptional,t.isReadonly,t.annotations)),e.indexSignatures.map(t=>Vi(t.parameter,Mr(t.type),t.isReadonly)));case"Union":return qo(e.types.map(Mr));case"Lazy":return zc(()=>Mr(e.f()));case"Refinement":return Kc(e.from,e.decode,!e.isReversed,e.annotations);case"Transform":return Pf(Mr(e.to),Mr(e.from),e.encode,e.decode,e.propertySignatureTransformations.map(t=>$c(t.to,t.from,t.encode,t.decode)))}return e};var n8=Symbol.for("@effect/schema/Schema");var s8=e=>st(Le(e.ast)),Jy=class{constructor(t){Gt(this,"ast");Gt(this,"_id",n8);Gt(this,"From");Gt(this,"To");this.ast=t}pipe(){return C(this,arguments)}},st=e=>new Jy(e);var i8=e=>st(zy(e)),ds=(...e)=>gs(...e.map(t=>i8(t)));var Yy=(e,t,r,o)=>st($i(e.map(n=>n.ast),t.ast,(...n)=>r(...n.map(st)),o)),gs=(...e)=>st(qo(e.map(t=>t.ast))),a8=e=>gs(l8,e);var Ji=e=>st(hs([],x([e.ast]),!0));var Hf=class e{constructor(t,r,o){Gt(this,"_from");Gt(this,"_annotations");Gt(this,"_optional");Gt(this,"From");Gt(this,"FromIsOptional");Gt(this,"To");Gt(this,"ToIsOptional");this._from=t,this._annotations=r,this._optional=o}optional(){if(this._optional)throw new Error("duplicate optional configuration");return new e(this._from,this._annotations,{to:"optional"})}withDefault(t){if(this._optional&&this._optional.to!=="optional")throw new Error("duplicate optional configuration");return new e(this._from,this._annotations,{to:"default",value:t})}toOption(){if(this._optional&&this._optional.to!=="optional")throw new Error("duplicate optional configuration");return new e(this._from,this._annotations,{to:"Option"})}},c8=(e,t)=>new Hf(e.ast,t),xs=(e,t)=>c8(e,t).optional(),gt=e=>{let t=qc(e),r=[],o=[],n=[],s=[];for(let i=0;i<t.length;i++){let a=t[i],c=e[a];if(c instanceof Hf){let l=c._optional;if(l)switch(l.to){case"optional":{r.push(Ue(a,c._from,!0,!0,c._annotations)),o.push(Ue(a,c._from,!0,!0)),n.push(Ue(a,Le(c._from),!0,!0,c._annotations));break}case"default":{o.push(Ue(a,c._from,!0,!0)),n.push(Ue(a,Le(c._from),!1,!0,c._annotations)),s.push($c(a,a,dn(()=>x(l.value())),I));break}case"Option":{o.push(Ue(a,c._from,!0,!0)),n.push(Ue(a,G2(st(Le(c._from))).ast,!1,!0,c._annotations)),s.push($c(a,a,x,Xm));break}}else r.push(Ue(a,c._from,!1,!0,c._annotations)),o.push(Ue(a,c._from,!1,!0)),n.push(Ue(a,Le(c._from),!1,!0,c._annotations))}else r.push(Ue(a,c.ast,!1,!0)),o.push(Ue(a,c.ast,!1,!0)),n.push(Ue(a,Le(c.ast),!1,!0))}return s.length>0?st(A2(Lo(o,[]),Lo(n,[]),s)):st(Lo(r,[]))};var U2=e=>{let t={};if(e?.typeId!==void 0){let r=e?.typeId;typeof r=="object"?(t[kf]=r.id,t[r.id]=r.params):t[kf]=r}return e?.message!==void 0&&(t[Tf]=e?.message),e?.identifier!==void 0&&(t[Ki]=e?.identifier),e?.title!==void 0&&(t[ht]=e?.title),e?.description!==void 0&&(t[No]=e?.description),e?.examples!==void 0&&(t[D2]=e?.examples),e?.documentation!==void 0&&(t[E2]=e?.documentation),e?.jsonSchema!==void 0&&(t[S2]=e?.jsonSchema),e?.arbitrary!==void 0&&(t[Rf]=e?.arbitrary),t};function W2(e,t){return r=>{let o=s=>e(s)?Te(s):mt(lr(n,s)),n=Kc(r.ast,o,!1,U2(t));return st(n)}}var jf=u(4,(e,t,r,o)=>st(F2(e.ast,t.ast,r,o))),u8=u(4,(e,t,r,o)=>jf(e,t,n=>q(r(n)),n=>q(o(n))));var Zc=e=>t=>st(v2(t.ast,No,e));var l8=st(zy(null));var xt=st(If),Qc=st(_2),z2=st(O2);var p8=()=>e=>e.date(),f8=()=>e=>`new Date(${JSON.stringify(e)})`,K2=Yy([],gt({}),()=>e=>fu(e)?Te(e):mt(lr(K2.ast,e)),{[Ki]:"Date",[qy]:f8,[Rf]:p8}),m8="@effect/schema/ValidDateTypeId",h8=e=>t=>t.pipe(W2(r=>!isNaN(r.getTime()),{typeId:m8,description:"a valid Date",...e})),d8=K2.pipe(h8()),Zy=e=>jf(e,d8,r=>Te(new Date(r)),r=>Te(r.toISOString()));var B2="@effect/schema/InstanceOfTypeId",$2=(e,t)=>{let r=U2(t),o=Yy([],gt({}),()=>n=>n instanceof e?Te(n):mt(lr(o.ast,n)),{[kf]:B2,[B2]:{constructor:e},[No]:`an instance of ${e.name}`,...r});return o},g8=e=>t=>t.oneof(t.constant(g()),e(t).map(x)),x8=e=>je({onNone:()=>"none()",onSome:t=>`some(${e(t)})`}),y8=e=>gs(gt({_tag:ds("None")}),gt({_tag:ds("Some"),value:e})),G2=e=>{let t=Yy([e],y8(e),r=>{let o=Vy(r);return(n,s)=>Ym(n)?H(n)?Te(g()):x2(o(n.value,s),x):mt(lr(t.ast,n))},{[Ki]:"Option",[qy]:x8,[Rf]:g8});return t};var Xc=e=>u8(a8(e),s8(G2(e)),Ze,Zm);var b8="@effect/schema/MaxLengthTypeId",eu=(e,t)=>r=>r.pipe(W2(o=>o.length<=e,{typeId:b8,description:`a string at most ${e} character(s) long`,jsonSchema:{maxLength:e},...t}));var Q2=Es(require("fs/promises")),X2=Es(require("@actions/glob"));var Bf=require("@actions/core");var We=class extends Ui.TaggedClass("GenericError"){},J2=e=>j.sync(()=>((0,Bf.error)(e.message),(0,Bf.debug)(`cause: ${e.error}`),process.exitCode=1,j.unit));var D8=At.string("INPUT_FILE").pipe(At.map(e=>({_tag:"File",path:e})),At.orElse(()=>At.string("JSON").pipe(At.map(e=>({_tag:"Json",stringified:e})))),At.orElse(()=>ue(At.all({key:At.string("KEY"),value:At.number("VALUE")}),At.map(({key:e,value:t})=>({_tag:"KeyVal",key:e,value:t})))),At.nested("INPUT")),ev=ue(j.config(D8),j.mapError(e=>new We({error:e,message:"Failed to read input"}))),tv=e=>j.try({try:()=>JSON.parse(e),catch:t=>new We({message:"Failed to parse JSON",error:t})}),rv=ds("lower-is-better","higher-is-better"),S8=gt({key:ue(xt,eu(120)),sortDate:ue(xt,Zy,xs),value:Qc,units:ue(xt,eu(32),xs),trend:ue(rv,xs)}),WJ=gt({metrics:ue(S8,Ji)}),Z2=gt({key:ue(xt,eu(120),Zc("a key to identify the metric across runs")),value:ue(Qc,Zc("the value of the metric")),sortDate:ue(xt,Zy,Zc("the date to apply sorting by. defaults to the commit time"),xs),units:ue(xt,eu(32),Zc("the units of the metric. example: ms, MiB"),xs),trend:ue(rv,xs)}),ov=gs(ue(Z2,Ji),Z2),zJ=Yc(ov),nv=e=>Jc(ov)(e).pipe(j.map(t=>[t].flat()),j.mapError(t=>new We({error:t,message:`Failed to parse given JSON:
${N2(t.errors)}`}))),E8=e=>j.tryPromise({try:()=>Q2.default.readFile(e,"utf-8"),catch:t=>new We({message:"Failed to read file",error:t})}).pipe(j.flatMap(tv),j.flatMap(nv)),C8=e=>j.gen(function*(t){let r=yield*t(j.tryPromise({try:()=>X2.create(e),catch:s=>new We({message:"Failed to parse glob syntax",error:s})})),o=yield*t(j.tryPromise({try:()=>r.glob(),catch:s=>new We({message:"Failed to iterate through glob",error:s})}));return(yield*t(j.all(o.map(E8),{concurrency:5}))).flat()}),sv=ue(Lc.type(),Lc.tagsExhaustive({File:({path:e})=>C8(e),Json:({stringified:e})=>tv(e).pipe(j.flatMap(nv)),KeyVal:({key:e,value:t})=>j.succeed([{key:e,value:t}])}));var iv=e=>e;var av=(e=0)=>t=>`\x1B[${t+e}m`,cv=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,uv=(e=0)=>(t,r,o)=>`\x1B[${38+e};2;${t};${r};${o}m`,fe={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},$J=Object.keys(fe.modifier),O8=Object.keys(fe.color),w8=Object.keys(fe.bgColor),GJ=[...O8,...w8];function R8(){let e=new Map;for(let[t,r]of Object.entries(fe)){for(let[o,n]of Object.entries(r))fe[o]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},r[o]=fe[o],e.set(n[0],n[1]);Object.defineProperty(fe,t,{value:r,enumerable:!1})}return Object.defineProperty(fe,"codes",{value:e,enumerable:!1}),fe.color.close="\x1B[39m",fe.bgColor.close="\x1B[49m",fe.color.ansi=av(),fe.color.ansi256=cv(),fe.color.ansi16m=uv(),fe.bgColor.ansi=av(10),fe.bgColor.ansi256=cv(10),fe.bgColor.ansi16m=uv(10),Object.defineProperties(fe,{rgbToAnsi256:{value(t,r,o){return t===r&&r===o?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(o/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[o]=r;o.length===3&&(o=[...o].map(s=>s+s).join(""));let n=Number.parseInt(o,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:t=>fe.rgbToAnsi256(...fe.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,o,n;if(t>=232)r=((t-232)*10+8)/255,o=r,n=r;else{t-=16;let a=t%36;r=Math.floor(t/36)/5,o=Math.floor(a/6)/5,n=a%6/5}let s=Math.max(r,o,n)*2;if(s===0)return 30;let i=30+(Math.round(n)<<2|Math.round(o)<<1|Math.round(r));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(t,r,o)=>fe.ansi256ToAnsi(fe.rgbToAnsi256(t,r,o)),enumerable:!1},hexToAnsi:{value:t=>fe.ansi256ToAnsi(fe.hexToAnsi256(t)),enumerable:!1}}),fe}var F8=R8(),kr=F8;var Wf=Es(require("process"),1),pv=Es(require("os"),1),Qy=Es(require("tty"),1);function fr(e,t=globalThis.Deno?globalThis.Deno.args:Wf.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",o=t.indexOf(r+e),n=t.indexOf("--");return o!==-1&&(n===-1||o<n)}var{env:xe}=Wf.default,Uf;fr("no-color")||fr("no-colors")||fr("color=false")||fr("color=never")?Uf=0:(fr("color")||fr("colors")||fr("color=true")||fr("color=always"))&&(Uf=1);function A8(){if("FORCE_COLOR"in xe)return xe.FORCE_COLOR==="true"?1:xe.FORCE_COLOR==="false"?0:xe.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(xe.FORCE_COLOR,10),3)}function v8(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function M8(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let o=A8();o!==void 0&&(Uf=o);let n=r?Uf:o;if(n===0)return 0;if(r){if(fr("color=16m")||fr("color=full")||fr("color=truecolor"))return 3;if(fr("color=256"))return 2}if("TF_BUILD"in xe&&"AGENT_NAME"in xe)return 1;if(e&&!t&&n===void 0)return 0;let s=n||0;if(xe.TERM==="dumb")return s;if(Wf.default.platform==="win32"){let i=pv.default.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in xe)return"GITHUB_ACTIONS"in xe||"GITEA_ACTIONS"in xe?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(i=>i in xe)||xe.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in xe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(xe.TEAMCITY_VERSION)?1:0;if(xe.COLORTERM==="truecolor"||xe.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in xe){let i=Number.parseInt((xe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(xe.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(xe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(xe.TERM)||"COLORTERM"in xe?1:s}function lv(e,t={}){let r=M8(e,{streamIsTTY:e&&e.isTTY,...t});return v8(r)}var k8={stdout:lv({isTTY:Qy.default.isatty(1)}),stderr:lv({isTTY:Qy.default.isatty(2)})},fv=k8;function mv(e,t,r){let o=e.indexOf(t);if(o===-1)return e;let n=t.length,s=0,i="";do i+=e.slice(s,o)+t+r,s=o+n,o=e.indexOf(t,s);while(o!==-1);return i+=e.slice(s),i}function hv(e,t,r,o){let n=0,s="";do{let i=e[o-1]==="\r";s+=e.slice(n,i?o-1:o)+t+(i?`\r
`:`
`)+r,n=o+1,o=e.indexOf(`
`,n)}while(o!==-1);return s+=e.slice(n),s}var{stdout:dv,stderr:gv}=fv,Xy=Symbol("GENERATOR"),Yi=Symbol("STYLER"),tu=Symbol("IS_EMPTY"),xv=["ansi","ansi","ansi256","ansi16m"],Zi=Object.create(null),T8=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=dv?dv.level:0;e.level=t.level===void 0?r:t.level},zf=class{constructor(t){return yv(t)}},yv=e=>{let t=(...r)=>r.join(" ");return T8(t,e),Object.setPrototypeOf(t,ru.prototype),t};function ru(e){return yv(e)}Object.setPrototypeOf(ru.prototype,Function.prototype);for(let[e,t]of Object.entries(kr))Zi[e]={get(){let r=Kf(this,tb(t.open,t.close,this[Yi]),this[tu]);return Object.defineProperty(this,e,{value:r}),r}};Zi.visible={get(){let e=Kf(this,this[Yi],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var eb=(e,t,r,...o)=>e==="rgb"?t==="ansi16m"?kr[r].ansi16m(...o):t==="ansi256"?kr[r].ansi256(kr.rgbToAnsi256(...o)):kr[r].ansi(kr.rgbToAnsi(...o)):e==="hex"?eb("rgb",t,r,...kr.hexToRgb(...o)):kr[r][e](...o),I8=["rgb","hex","ansi256"];for(let e of I8){Zi[e]={get(){let{level:r}=this;return function(...o){let n=tb(eb(e,xv[r],"color",...o),kr.color.close,this[Yi]);return Kf(this,n,this[tu])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);Zi[t]={get(){let{level:r}=this;return function(...o){let n=tb(eb(e,xv[r],"bgColor",...o),kr.bgColor.close,this[Yi]);return Kf(this,n,this[tu])}}}}var P8=Object.defineProperties(()=>{},{...Zi,level:{enumerable:!0,get(){return this[Xy].level},set(e){this[Xy].level=e}}}),tb=(e,t,r)=>{let o,n;return r===void 0?(o=e,n=t):(o=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:o,closeAll:n,parent:r}},Kf=(e,t,r)=>{let o=(...n)=>N8(o,n.length===1?""+n[0]:n.join(" "));return Object.setPrototypeOf(o,P8),o[Xy]=e,o[Yi]=t,o[tu]=r,o},N8=(e,t)=>{if(e.level<=0||!t)return e[tu]?"":t;let r=e[Yi];if(r===void 0)return t;let{openAll:o,closeAll:n}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=mv(t,r.close,r.open),r=r.parent;let s=t.indexOf(`
`);return s!==-1&&(t=hv(t,n,o,s)),o+t+n};Object.defineProperties(ru.prototype,Zi);var eY=ru(),tY=ru({level:gv?gv.level:0});var ou=Of.Tag(),bv=j.sync(()=>new zf({level:2}));function Sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function Ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(r),!0).forEach(function(o){L8(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function L8(e,t,r){return t=q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=H8(e,"string");return typeof t=="symbol"?t:String(t)}function H8(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cv=_v({});function _v(e){return t.withOptions=r=>_v(Ev(Ev({},e),r)),t;function t(r,...o){let n=typeof r=="string"?[r]:r.raw,{escapeSpecialCharacters:s=Array.isArray(r)}=e,i="";for(let l=0;l<n.length;l++){let p=n[l];s&&(p=p.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\{/g,"{")),i+=p,l<o.length&&(i+=o[l])}let a=i.split(`
`),c=null;for(let l of a){let p=l.match(/^(\s+)\S+/);if(p){let f=p[1].length;c?c=Math.min(c,f):c=f}}if(c!==null){let l=c;i=a.map(p=>p[0]===" "||p[0]==="	"?p.slice(l):p).join(`
`)}return i.trim().replace(/\\n/g,`
`)}}var Ov=require("@actions/core"),rb=class extends Ui.TaggedClass("IdTokenError"){},wv=e=>j.gen(function*(t){let r=yield*t(ou),o=r.cyan("`id-token`"),n=Cv`
      Failed to read GitHub Actions ID token.

      This means you probably forgot to add permissions for ${o} in your workflow/job definition.
      The ${o} permissions allows GitHub to sign your requests to the Benchy API. This does not
      give GitHub access to your Benchy account: it's merely a way to prove that the request is coming
      from your GitHub workflow.

      An example of a workflow with the ${o} permission:

      \`\`\`yaml
       jobs:
         test:
           runs-on: ubuntu-latest
      ${r.green("+    permissions:")}
      ${r.green("+      id-token: write")}
           steps:
             # ...
      \`\`\`

      For more information about the ${o} permisison, see the GitHub documentation on OpenID Connect: https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/about-security-hardening-with-openid-connect#overview-of-openid-connect
   `;return yield*t(j.fail(new We({message:n,error:e.error})))}),Rv=j.tryPromise({try:()=>(0,Ov.getIDToken)(),catch:e=>new rb({error:e})});var kv=require("@actions/http-client");var Tv=require("@actions/core"),Iv=require("util");var ob=gt({value:Qc,units:Xc(xt)}),Av=jf(xt,$2(URL),e=>{try{return Te(new URL(e))}catch{return mt({_tag:"Unexpected",actual:e})}},e=>Te(e.href)),vv=gt({key:xt,storedValue:Xc(ob),currentValue:ob,sparkline:xt,diff:Xc(ob),trend:Xc(gt({alt:xt,url:Av,good:z2})),chartUrl:Av}),uY=Yc(vv),j8=gt({error:ds(!0),message:xt}),B8=gt({error:ds(!1),data:gt({warnings:Ji(xt),metrics:Ji(vv)})}),U8=gs(j8,B8),Mv=Jc(U8);var Pv=j.gen(function*(e){let t=yield*e(Rv);return new kv.HttpClient("benchy-action",[],{headers:{Authorization:`Bearer ${t}`}})}),W8=e=>j.tryPromise({try:async()=>({...e,body:await e.readBody()}),catch:t=>new We({message:"Failed to read response body",error:t})}).pipe(j.flatMap(t=>j.try({try:()=>({...e,json:JSON.parse(t.body)}),catch:r=>new We({message:"Failed to parse JSON of response body",error:r})})),j.mapError(t=>new We({error:t.error,message:`HTTP ${e.message.statusCode}: ${t.message}`})),j.map(t=>t.json)),Nv=(e,t)=>j.tryPromise({try:()=>e.post("https://bnz-web.vercel.app/api/metrics",JSON.stringify({metrics:t})),catch:r=>new We({message:"Failed to send metrics",error:r})}).pipe(j.flatMap(r=>j.gen(function*(o){let n=yield*o(W8(r)),s=yield*o(Mv(n),j.mapError(i=>new We({error:i,message:"Response is malformed"})));return s.error?yield*o(j.fail(new We({error:new Error(`HTTP ${r.message.statusCode}: ${s.message}`),message:s.message}))):{...r,body:s}})),j.tap(r=>j.sync(()=>(0,Tv.debug)(`got response: ${(0,Iv.inspect)(r,{depth:10,colors:!0})}`))));var Sk=require("@actions/core"),Ek=Es(Dk()),C9=j.gen(function*(e){let t=yield*e(ev),r=yield*e(sv(t)),o=yield*e(Pv),n=yield*e(Nv(o,r));for(let a of n.body.data.warnings)yield*e(j.sync(()=>(0,Sk.warning)(a)));let s=yield*e(ou),i=[["",s.bold("change"),s.bold("current"),s.bold("diff"),""]];for(let a of n.body.data.metrics){let c=fs.match(a.trend,{onNone:()=>s.reset,onSome:l=>l.good?s.green:s.red});i.push([c(a.key),c(Tb(s,a.currentValue)),fs.match(a.storedValue,{onNone:()=>"",onSome:l=>c(Tb(s,l))}),fs.match(a.diff,{onNone:()=>"",onSome:l=>c(Tb(s,l))}),c(a.sparkline)])}yield*e(j.sync(()=>console.log((0,Ek.table)(i))))});Math.random()>1&&console.log("hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello");var Tb=(e,t)=>{let r=fs.match(t.units,{onNone:()=>"",onSome:n=>e.dim(n)});return`${Math.round(t.value*1e3)/1e3}${r}`};C9.pipe(j.catchTag("IdTokenError",e=>wv(e)),j.catchTag("GenericError",e=>J2(e)),iv,j.provideServiceEffect(ou,bv),j.runPromise);
